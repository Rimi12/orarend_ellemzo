var _m=Object.defineProperty;var Of=l=>{throw TypeError(l)};var Sm=(l,s,u)=>s in l?_m(l,s,{enumerable:!0,configurable:!0,writable:!0,value:u}):l[s]=u;var De=(l,s,u)=>Sm(l,typeof s!="symbol"?s+"":s,u),rc=(l,s,u)=>s.has(l)||Of("Cannot "+u);var c=(l,s,u)=>(rc(l,s,"read from private field"),u?u.call(l):s.get(l)),yt=(l,s,u)=>s.has(l)?Of("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(l):s.set(l,u),At=(l,s,u,o)=>(rc(l,s,"write to private field"),o?o.call(l,u):s.set(l,u),u),lt=(l,s,u)=>(rc(l,s,"access private method"),u);var ys=(l,s,u,o)=>({set _(h){At(l,s,h,u)},get _(){return c(l,s,o)}});(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))o(h);new MutationObserver(h=>{for(const L of h)if(L.type==="childList")for(const D of L.addedNodes)D.tagName==="LINK"&&D.rel==="modulepreload"&&o(D)}).observe(document,{childList:!0,subtree:!0});function u(h){const L={};return h.integrity&&(L.integrity=h.integrity),h.referrerPolicy&&(L.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?L.credentials="include":h.crossOrigin==="anonymous"?L.credentials="omit":L.credentials="same-origin",L}function o(h){if(h.ep)return;h.ep=!0;const L=u(h);fetch(h.href,L)}})();function getDefaultExportFromCjs(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function getAugmentedNamespace(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var s=l.default;if(typeof s=="function"){var u=function o(){return this instanceof o?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};u.prototype=s.prototype}else u={};return Object.defineProperty(u,"__esModule",{value:!0}),Object.keys(l).forEach(function(o){var h=Object.getOwnPropertyDescriptor(l,o);Object.defineProperty(u,o,h.get?h:{enumerable:!0,get:function(){return l[o]}})}),u}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var l=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function u(o,h,L){var D=null;if(L!==void 0&&(D=""+L),h.key!==void 0&&(D=""+h.key),"key"in h){L={};for(var V in h)V!=="key"&&(L[V]=h[V])}else L=h;return h=L.ref,{$$typeof:l,type:o,key:D,ref:h!==void 0?h:null,props:L}}return reactJsxRuntime_production.Fragment=s,reactJsxRuntime_production.jsx=u,reactJsxRuntime_production.jsxs=u,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var l=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),j=Symbol.iterator;function M(k){return k===null||typeof k!="object"?null:(k=j&&k[j]||k["@@iterator"],typeof k=="function"?k:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,x={};function m(k,T,d){this.props=k,this.context=T,this.refs=x,this.updater=d||O}m.prototype.isReactComponent={},m.prototype.setState=function(k,T){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,T,"setState")},m.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function R(){}R.prototype=m.prototype;function U(k,T,d){this.props=k,this.context=T,this.refs=x,this.updater=d||O}var P=U.prototype=new R;P.constructor=U,F(P,m.prototype),P.isPureReactComponent=!0;var v=Array.isArray;function E(){}var p={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function C(k,T,d){var f=d.ref;return{$$typeof:l,type:k,key:T,ref:f!==void 0?f:null,props:d}}function Z(k,T){return C(k.type,T,k.props)}function A(k){return typeof k=="object"&&k!==null&&k.$$typeof===l}function z(k){var T={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(d){return T[d]})}var Q=/\/+/g;function ut(k,T){return typeof k=="object"&&k!==null&&k.key!=null?z(""+k.key):T.toString(36)}function nt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(E,E):(k.status="pending",k.then(function(T){k.status==="pending"&&(k.status="fulfilled",k.value=T)},function(T){k.status==="pending"&&(k.status="rejected",k.reason=T)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function B(k,T,d,f,N){var q=typeof k;(q==="undefined"||q==="boolean")&&(k=null);var K=!1;if(k===null)K=!0;else switch(q){case"bigint":case"string":case"number":K=!0;break;case"object":switch(k.$$typeof){case l:case s:K=!0;break;case y:return K=k._init,B(K(k._payload),T,d,f,N)}}if(K)return N=N(k),K=f===""?"."+ut(k,0):f,v(N)?(d="",K!=null&&(d=K.replace(Q,"$&/")+"/"),B(N,T,d,"",function(pt){return pt})):N!=null&&(A(N)&&(N=Z(N,d+(N.key==null||k&&k.key===N.key?"":(""+N.key).replace(Q,"$&/")+"/")+K)),T.push(N)),1;K=0;var J=f===""?".":f+":";if(v(k))for(var it=0;it<k.length;it++)f=k[it],q=J+ut(f,it),K+=B(f,T,d,q,N);else if(it=M(k),typeof it=="function")for(k=it.call(k),it=0;!(f=k.next()).done;)f=f.value,q=J+ut(f,it++),K+=B(f,T,d,q,N);else if(q==="object"){if(typeof k.then=="function")return B(nt(k),T,d,f,N);throw T=String(k),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return K}function Y(k,T,d){if(k==null)return k;var f=[],N=0;return B(k,f,"","",function(q){return T.call(d,q,N++)}),f}function st(k){if(k._status===-1){var T=k._result;T=T(),T.then(function(d){(k._status===0||k._status===-1)&&(k._status=1,k._result=d)},function(d){(k._status===0||k._status===-1)&&(k._status=2,k._result=d)}),k._status===-1&&(k._status=0,k._result=T)}if(k._status===1)return k._result.default;throw k._result}var X=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},et={map:Y,forEach:function(k,T,d){Y(k,function(){T.apply(this,arguments)},d)},count:function(k){var T=0;return Y(k,function(){T++}),T},toArray:function(k){return Y(k,function(T){return T})||[]},only:function(k){if(!A(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return react_production.Activity=w,react_production.Children=et,react_production.Component=m,react_production.Fragment=u,react_production.Profiler=h,react_production.PureComponent=U,react_production.StrictMode=o,react_production.Suspense=S,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=p,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(k){return p.H.useMemoCache(k)}},react_production.cache=function(k){return function(){return k.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(k,T,d){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var f=F({},k.props),N=k.key;if(T!=null)for(q in T.key!==void 0&&(N=""+T.key),T)!_.call(T,q)||q==="key"||q==="__self"||q==="__source"||q==="ref"&&T.ref===void 0||(f[q]=T[q]);var q=arguments.length-2;if(q===1)f.children=d;else if(1<q){for(var K=Array(q),J=0;J<q;J++)K[J]=arguments[J+2];f.children=K}return C(k.type,N,f)},react_production.createContext=function(k){return k={$$typeof:D,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:L,_context:k},k},react_production.createElement=function(k,T,d){var f,N={},q=null;if(T!=null)for(f in T.key!==void 0&&(q=""+T.key),T)_.call(T,f)&&f!=="key"&&f!=="__self"&&f!=="__source"&&(N[f]=T[f]);var K=arguments.length-2;if(K===1)N.children=d;else if(1<K){for(var J=Array(K),it=0;it<K;it++)J[it]=arguments[it+2];N.children=J}if(k&&k.defaultProps)for(f in K=k.defaultProps,K)N[f]===void 0&&(N[f]=K[f]);return C(k,q,N)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(k){return{$$typeof:V,render:k}},react_production.isValidElement=A,react_production.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:st}},react_production.memo=function(k,T){return{$$typeof:b,type:k,compare:T===void 0?null:T}},react_production.startTransition=function(k){var T=p.T,d={};p.T=d;try{var f=k(),N=p.S;N!==null&&N(d,f),typeof f=="object"&&f!==null&&typeof f.then=="function"&&f.then(E,X)}catch(q){X(q)}finally{T!==null&&d.types!==null&&(T.types=d.types),p.T=T}},react_production.unstable_useCacheRefresh=function(){return p.H.useCacheRefresh()},react_production.use=function(k){return p.H.use(k)},react_production.useActionState=function(k,T,d){return p.H.useActionState(k,T,d)},react_production.useCallback=function(k,T){return p.H.useCallback(k,T)},react_production.useContext=function(k){return p.H.useContext(k)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(k,T){return p.H.useDeferredValue(k,T)},react_production.useEffect=function(k,T){return p.H.useEffect(k,T)},react_production.useEffectEvent=function(k){return p.H.useEffectEvent(k)},react_production.useId=function(){return p.H.useId()},react_production.useImperativeHandle=function(k,T,d){return p.H.useImperativeHandle(k,T,d)},react_production.useInsertionEffect=function(k,T){return p.H.useInsertionEffect(k,T)},react_production.useLayoutEffect=function(k,T){return p.H.useLayoutEffect(k,T)},react_production.useMemo=function(k,T){return p.H.useMemo(k,T)},react_production.useOptimistic=function(k,T){return p.H.useOptimistic(k,T)},react_production.useReducer=function(k,T,d){return p.H.useReducer(k,T,d)},react_production.useRef=function(k){return p.H.useRef(k)},react_production.useState=function(k){return p.H.useState(k)},react_production.useSyncExternalStore=function(k,T,d){return p.H.useSyncExternalStore(k,T,d)},react_production.useTransition=function(){return p.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(l){function s(B,Y){var st=B.length;B.push(Y);t:for(;0<st;){var X=st-1>>>1,et=B[X];if(0<h(et,Y))B[X]=Y,B[st]=et,st=X;else break t}}function u(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var Y=B[0],st=B.pop();if(st!==Y){B[0]=st;t:for(var X=0,et=B.length,k=et>>>1;X<k;){var T=2*(X+1)-1,d=B[T],f=T+1,N=B[f];if(0>h(d,st))f<et&&0>h(N,d)?(B[X]=N,B[f]=st,X=f):(B[X]=d,B[T]=st,X=T);else if(f<et&&0>h(N,st))B[X]=N,B[f]=st,X=f;else break t}}return Y}function h(B,Y){var st=B.sortIndex-Y.sortIndex;return st!==0?st:B.id-Y.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var L=performance;l.unstable_now=function(){return L.now()}}else{var D=Date,V=D.now();l.unstable_now=function(){return D.now()-V}}var S=[],b=[],y=1,w=null,j=3,M=!1,O=!1,F=!1,x=!1,m=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var Y=u(b);Y!==null;){if(Y.callback===null)o(b);else if(Y.startTime<=B)o(b),Y.sortIndex=Y.expirationTime,s(S,Y);else break;Y=u(b)}}function v(B){if(F=!1,P(B),!O)if(u(S)!==null)O=!0,E||(E=!0,z());else{var Y=u(b);Y!==null&&nt(v,Y.startTime-B)}}var E=!1,p=-1,_=5,C=-1;function Z(){return x?!0:!(l.unstable_now()-C<_)}function A(){if(x=!1,E){var B=l.unstable_now();C=B;var Y=!0;try{t:{O=!1,F&&(F=!1,R(p),p=-1),M=!0;var st=j;try{e:{for(P(B),w=u(S);w!==null&&!(w.expirationTime>B&&Z());){var X=w.callback;if(typeof X=="function"){w.callback=null,j=w.priorityLevel;var et=X(w.expirationTime<=B);if(B=l.unstable_now(),typeof et=="function"){w.callback=et,P(B),Y=!0;break e}w===u(S)&&o(S),P(B)}else o(S);w=u(S)}if(w!==null)Y=!0;else{var k=u(b);k!==null&&nt(v,k.startTime-B),Y=!1}}break t}finally{w=null,j=st,M=!1}Y=void 0}}finally{Y?z():E=!1}}}var z;if(typeof U=="function")z=function(){U(A)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ut=Q.port2;Q.port1.onmessage=A,z=function(){ut.postMessage(null)}}else z=function(){m(A,0)};function nt(B,Y){p=m(function(){B(l.unstable_now())},Y)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(B){B.callback=null},l.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<B?Math.floor(1e3/B):5},l.unstable_getCurrentPriorityLevel=function(){return j},l.unstable_next=function(B){switch(j){case 1:case 2:case 3:var Y=3;break;default:Y=j}var st=j;j=Y;try{return B()}finally{j=st}},l.unstable_requestPaint=function(){x=!0},l.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var st=j;j=B;try{return Y()}finally{j=st}},l.unstable_scheduleCallback=function(B,Y,st){var X=l.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?X+st:X):st=X,B){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=st+et,B={id:y++,callback:Y,priorityLevel:B,startTime:st,expirationTime:et,sortIndex:-1},st>X?(B.sortIndex=st,s(b,B),u(S)===null&&B===u(b)&&(F?(R(p),p=-1):F=!0,nt(v,st-X))):(B.sortIndex=et,s(S,B),O||M||(O=!0,E||(E=!0,z()))),B},l.unstable_shouldYield=Z,l.unstable_wrapCallback=function(B){var Y=j;return function(){var st=j;j=Y;try{return B.apply(this,arguments)}finally{j=st}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var l=requireReact();function s(S){var b="https://react.dev/errors/"+S;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)b+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+S+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var o={d:{f:u,r:function(){throw Error(s(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},h=Symbol.for("react.portal");function L(S,b,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:w==null?null:""+w,children:S,containerInfo:b,implementation:y}}var D=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function V(S,b){if(S==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,reactDom_production.createPortal=function(S,b){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(s(299));return L(S,b,null,y)},reactDom_production.flushSync=function(S){var b=D.T,y=o.p;try{if(D.T=null,o.p=2,S)return S()}finally{D.T=b,o.p=y,o.d.f()}},reactDom_production.preconnect=function(S,b){typeof S=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,o.d.C(S,b))},reactDom_production.prefetchDNS=function(S){typeof S=="string"&&o.d.D(S)},reactDom_production.preinit=function(S,b){if(typeof S=="string"&&b&&typeof b.as=="string"){var y=b.as,w=V(y,b.crossOrigin),j=typeof b.integrity=="string"?b.integrity:void 0,M=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;y==="style"?o.d.S(S,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:w,integrity:j,fetchPriority:M}):y==="script"&&o.d.X(S,{crossOrigin:w,integrity:j,fetchPriority:M,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},reactDom_production.preinitModule=function(S,b){if(typeof S=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var y=V(b.as,b.crossOrigin);o.d.M(S,{crossOrigin:y,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&o.d.M(S)},reactDom_production.preload=function(S,b){if(typeof S=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var y=b.as,w=V(y,b.crossOrigin);o.d.L(S,y,{crossOrigin:w,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},reactDom_production.preloadModule=function(S,b){if(typeof S=="string")if(b){var y=V(b.as,b.crossOrigin);o.d.m(S,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:y,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else o.d.m(S)},reactDom_production.requestFormReset=function(S){o.d.r(S)},reactDom_production.unstable_batchedUpdates=function(S,b){return S(b)},reactDom_production.useFormState=function(S,b,y){return D.H.useFormState(S,b,y)},reactDom_production.useFormStatus=function(){return D.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(s){console.error(s)}}return l(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var l=requireScheduler(),s=requireReact(),u=requireReactDom();function o(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function L(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function D(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function V(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function S(t){if(L(t)!==t)throw Error(o(188))}function b(t){var e=t.alternate;if(!e){if(e=L(t),e===null)throw Error(o(188));return e!==t?null:t}for(var n=t,i=e;;){var a=n.return;if(a===null)break;var r=a.alternate;if(r===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===n)return S(a),t;if(r===i)return S(a),e;r=r.sibling}throw Error(o(188))}if(n.return!==i.return)n=a,i=r;else{for(var g=!1,H=a.child;H;){if(H===n){g=!0,n=a,i=r;break}if(H===i){g=!0,i=a,n=r;break}H=H.sibling}if(!g){for(H=r.child;H;){if(H===n){g=!0,n=r,i=a;break}if(H===i){g=!0,i=r,n=a;break}H=H.sibling}if(!g)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?t:e}function y(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=y(t),e!==null)return e;t=t.sibling}return null}var w=Object.assign,j=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),U=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=A&&t[A]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Symbol.for("react.client.reference");function ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Q?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case m:return"Profiler";case x:return"StrictMode";case v:return"Suspense";case E:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case U:return t.displayName||"Context";case R:return(t._context.displayName||"Context")+".Consumer";case P:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case p:return e=t.displayName||null,e!==null?e:ut(t.type)||"Memo";case _:e=t._payload,t=t._init;try{return ut(t(e))}catch{}}return null}var nt=Array.isArray,B=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},X=[],et=-1;function k(t){return{current:t}}function T(t){0>et||(t.current=X[et],X[et]=null,et--)}function d(t,e){et++,X[et]=t.current,t.current=e}var f=k(null),N=k(null),q=k(null),K=k(null);function J(t,e){switch(d(q,e),d(N,t),d(f,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?$h(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=$h(e),t=tf(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}T(f),d(f,t)}function it(){T(f),T(N),T(q)}function pt(t){t.memoizedState!==null&&d(K,t);var e=f.current,n=tf(e,t.type);e!==n&&(d(N,t),d(f,n))}function Ct(t){N.current===t&&(T(f),T(N)),K.current===t&&(T(K),ps._currentValue=st)}var Et,Lt;function Nt(t){if(Et===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Et=e&&e[1]||"",Lt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Et+t+Lt}var jt=!1;function ft(t,e){if(!t||jt)return"";jt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var qt=function(){throw Error()};if(Object.defineProperty(qt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(qt,[])}catch(Ft){var Mt=Ft}Reflect.construct(t,[],qt)}else{try{qt.call()}catch(Ft){Mt=Ft}t.call(qt.prototype)}}else{try{throw Error()}catch(Ft){Mt=Ft}(qt=t())&&typeof qt.catch=="function"&&qt.catch(function(){})}}catch(Ft){if(Ft&&Mt&&typeof Ft.stack=="string")return[Ft.stack,Mt.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),g=r[0],H=r[1];if(g&&H){var rt=g.split(`
`),Rt=H.split(`
`);for(a=i=0;i<rt.length&&!rt[i].includes("DetermineComponentFrameRoot");)i++;for(;a<Rt.length&&!Rt[a].includes("DetermineComponentFrameRoot");)a++;if(i===rt.length||a===Rt.length)for(i=rt.length-1,a=Rt.length-1;1<=i&&0<=a&&rt[i]!==Rt[a];)a--;for(;1<=i&&0<=a;i--,a--)if(rt[i]!==Rt[a]){if(i!==1||a!==1)do if(i--,a--,0>a||rt[i]!==Rt[a]){var Ut=`
`+rt[i].replace(" at new "," at ");return t.displayName&&Ut.includes("<anonymous>")&&(Ut=Ut.replace("<anonymous>",t.displayName)),Ut}while(1<=i&&0<=a);break}}}finally{jt=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Nt(n):""}function mt(t,e){switch(t.tag){case 26:case 27:case 5:return Nt(t.type);case 16:return Nt("Lazy");case 13:return t.child!==e&&e!==null?Nt("Suspense Fallback"):Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return ft(t.type,!1);case 11:return ft(t.type.render,!1);case 1:return ft(t.type,!0);case 31:return Nt("Activity");default:return""}}function I(t){try{var e="",n=null;do e+=mt(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var $=Object.prototype.hasOwnProperty,ot=l.unstable_scheduleCallback,gt=l.unstable_cancelCallback,wt=l.unstable_shouldYield,zt=l.unstable_requestPaint,Ot=l.unstable_now,ct=l.unstable_getCurrentPriorityLevel,Gt=l.unstable_ImmediatePriority,It=l.unstable_UserBlockingPriority,ae=l.unstable_NormalPriority,ie=l.unstable_LowPriority,fe=l.unstable_IdlePriority,Qt=l.log,ne=l.unstable_setDisableYieldValue,de=null,he=null;function kt(t){if(typeof Qt=="function"&&ne(t),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(de,t)}catch{}}var ht=Math.clz32?Math.clz32:ge,vt=Math.log,$t=Math.LN2;function ge(t){return t>>>=0,t===0?32:31-(vt(t)/$t|0)|0}var ce=256,tt=262144,xt=4194304;function Bt(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vt(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var a=0,r=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var H=i&134217727;return H!==0?(i=H&~r,i!==0?a=Bt(i):(g&=H,g!==0?a=Bt(g):n||(n=H&~t,n!==0&&(a=Bt(n))))):(H=i&~r,H!==0?a=Bt(H):g!==0?a=Bt(g):n||(n=i&~t,n!==0&&(a=Bt(n)))),a===0?0:e!==0&&e!==a&&(e&r)===0&&(r=a&-a,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:a}function Jt(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Yt(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W(){var t=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),t}function G(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function at(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bt(t,e,n,i,a,r){var g=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var H=t.entanglements,rt=t.expirationTimes,Rt=t.hiddenUpdates;for(n=g&~n;0<n;){var Ut=31-ht(n),qt=1<<Ut;H[Ut]=0,rt[Ut]=-1;var Mt=Rt[Ut];if(Mt!==null)for(Rt[Ut]=null,Ut=0;Ut<Mt.length;Ut++){var Ft=Mt[Ut];Ft!==null&&(Ft.lane&=-536870913)}n&=~qt}i!==0&&St(t,i,0),r!==0&&a===0&&t.tag!==0&&(t.suspendedLanes|=r&~(g&~e))}function St(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-ht(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function Dt(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ht(n),a=1<<i;a&e|t[i]&e&&(t[i]|=e),n&=~a}}function Pt(t,e){var n=e&-e;return n=(n&42)!==0?1:te(n),(n&(t.suspendedLanes|e))!==0?0:n}function te(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Xt(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:Ef(t.type))}function re(t,e){var n=Y.p;try{return Y.p=t,e()}finally{Y.p=n}}var Wt=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Wt,ee="__reactProps$"+Wt,le="__reactContainer$"+Wt,me="__reactEvents$"+Wt,Ee="__reactListeners$"+Wt,qe="__reactHandles$"+Wt,Fe="__reactResources$"+Wt,en="__reactMarker$"+Wt;function yn(t){delete t[Kt],delete t[ee],delete t[me],delete t[Ee],delete t[qe]}function nn(t){var e=t[Kt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[le]||n[Kt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lf(t);t!==null;){if(n=t[Kt])return n;t=lf(t)}return e}t=n,n=t.parentNode}return null}function Pn(t){if(t=t[Kt]||t[le]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Da(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(o(33))}function Xi(t){var e=t[Fe];return e||(e=t[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function We(t){t[en]=!0}var Hc=new Set,Ic={};function Ti(t,e){Gi(t,e),Gi(t+"Capture",e)}function Gi(t,e){for(Ic[t]=e,t=0;t<e.length;t++)Hc.add(e[t])}var hp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qc={},Xc={};function fp(t){return $.call(Xc,t)?!0:$.call(qc,t)?!1:hp.test(t)?Xc[t]=!0:(qc[t]=!0,!1)}function Ts(t,e,n){if(fp(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Rs(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function zn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function vn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pp(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,r=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(g){n=""+g,r.call(this,g)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(g){n=""+g},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jr(t){if(!t._valueTracker){var e=Gc(t)?"checked":"value";t._valueTracker=pp(t,e,""+t[e])}}function Yc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Gc(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gp=/[\n"\\]/g;function An(t){return t.replace(gp,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function $r(t,e,n,i,a,r,g,H){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),e!=null?g==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+vn(e)):t.value!==""+vn(e)&&(t.value=""+vn(e)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),e!=null?to(t,g,vn(e)):n!=null?to(t,g,vn(n)):i!=null&&t.removeAttribute("value"),a==null&&r!=null&&(t.defaultChecked=!!r),a!=null&&(t.checked=a&&typeof a!="function"&&typeof a!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?t.name=""+vn(H):t.removeAttribute("name")}function Vc(t,e,n,i,a,r,g,H){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null)){Jr(t);return}n=n!=null?""+vn(n):"",e=e!=null?""+vn(e):n,H||e===t.value||(t.value=e),t.defaultValue=e}i=i??a,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=H?t.checked:!!i,t.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Jr(t)}function to(t,e,n){e==="number"&&ws(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Yi(t,e,n,i){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&i&&(t[n].defaultSelected=!0)}else{for(n=""+vn(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,i&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Kc(t,e,n){if(e!=null&&(e=""+vn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+vn(n):""}function Wc(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(o(92));if(nt(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=vn(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),Jr(t)}function Vi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var mp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qc(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||mp.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Zc(t,e,n){if(e!=null&&typeof e!="object")throw Error(o(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var a in e)i=e[a],e.hasOwnProperty(a)&&n[a]!==i&&Qc(t,a,i)}else for(var r in e)e.hasOwnProperty(r)&&Qc(t,r,e[r])}function eo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ms(t){return yp.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Un(){}var no=null;function io(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,Wi=null;function Jc(t){var e=Pn(t);if(e&&(t=e.stateNode)){var n=t[ee]||null;t:switch(t=e.stateNode,e.type){case"input":if($r(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+An(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var a=i[ee]||null;if(!a)throw Error(o(90));$r(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&Yc(i)}break t;case"textarea":Kc(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&Yi(t,!!n.multiple,e,!1)}}}var ao=!1;function $c(t,e,n){if(ao)return t(e,n);ao=!0;try{var i=t(e);return i}finally{if(ao=!1,(Ki!==null||Wi!==null)&&(mr(),Ki&&(e=Ki,t=Wi,Wi=Ki=null,Jc(e),t)))for(e=0;e<t.length;e++)Jc(t[e])}}function Oa(t,e){var n=t.stateNode;if(n===null)return null;var i=n[ee]||null;if(i===null)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(o(231,e,typeof n));return n}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),so=!1;if(Bn)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){so=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{so=!1}var ii=null,ro=null,Ds=null;function tu(){if(Ds)return Ds;var t,e=ro,n=e.length,i,a="value"in ii?ii.value:ii.textContent,r=a.length;for(t=0;t<n&&e[t]===a[t];t++);var g=n-t;for(i=1;i<=g&&e[n-i]===a[r-i];i++);return Ds=a.slice(t,1<i?1-i:void 0)}function Os(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ns(){return!0}function eu(){return!1}function sn(t){function e(n,i,a,r,g){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=r,this.target=g,this.currentTarget=null;for(var H in t)t.hasOwnProperty(H)&&(n=t[H],this[H]=n?n(r):r[H]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Ns:eu,this.isPropagationStopped=eu,this}return w(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),e}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=sn(Ri),ka=w({},Ri,{view:0,detail:0}),vp=sn(ka),oo,lo,La,Ls=w({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==La&&(La&&t.type==="mousemove"?(oo=t.screenX-La.screenX,lo=t.screenY-La.screenY):lo=oo=0,La=t),oo)},movementY:function(t){return"movementY"in t?t.movementY:lo}}),nu=sn(Ls),Ap=w({},Ls,{dataTransfer:0}),_p=sn(Ap),Sp=w({},ka,{relatedTarget:0}),co=sn(Sp),xp=w({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Ep=sn(xp),Cp=w({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tp=sn(Cp),Rp=w({},Ri,{data:0}),iu=sn(Rp),wp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Op(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dp[t])?!!e[t]:!1}function uo(){return Op}var Np=w({},ka,{key:function(t){if(t.key){var e=wp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(t){return t.type==="keypress"?Os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kp=sn(Np),Lp=w({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),au=sn(Lp),Fp=w({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),jp=sn(Fp),Pp=w({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),zp=sn(Pp),Up=w({},Ls,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bp=sn(Up),Hp=w({},Ri,{newState:0,oldState:0}),Ip=sn(Hp),qp=[9,13,27,32],ho=Bn&&"CompositionEvent"in window,Fa=null;Bn&&"documentMode"in document&&(Fa=document.documentMode);var Xp=Bn&&"TextEvent"in window&&!Fa,su=Bn&&(!ho||Fa&&8<Fa&&11>=Fa),ru=" ",ou=!1;function lu(t,e){switch(t){case"keyup":return qp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qi=!1;function Gp(t,e){switch(t){case"compositionend":return cu(e);case"keypress":return e.which!==32?null:(ou=!0,ru);case"textInput":return t=e.data,t===ru&&ou?null:t;default:return null}}function Yp(t,e){if(Qi)return t==="compositionend"||!ho&&lu(t,e)?(t=tu(),Ds=ro=ii=null,Qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return su&&e.locale!=="ko"?null:e.data;default:return null}}var Vp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Vp[t.type]:e==="textarea"}function du(t,e,n,i){Ki?Wi?Wi.push(i):Wi=[i]:Ki=i,e=xr(e,"onChange"),0<e.length&&(n=new ks("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var ja=null,Pa=null;function Kp(t){Vh(t,0)}function Fs(t){var e=Da(t);if(Yc(e))return t}function hu(t,e){if(t==="change")return e}var fu=!1;if(Bn){var fo;if(Bn){var po="oninput"in document;if(!po){var pu=document.createElement("div");pu.setAttribute("oninput","return;"),po=typeof pu.oninput=="function"}fo=po}else fo=!1;fu=fo&&(!document.documentMode||9<document.documentMode)}function gu(){ja&&(ja.detachEvent("onpropertychange",mu),Pa=ja=null)}function mu(t){if(t.propertyName==="value"&&Fs(Pa)){var e=[];du(e,Pa,t,io(t)),$c(Kp,e)}}function Wp(t,e,n){t==="focusin"?(gu(),ja=e,Pa=n,ja.attachEvent("onpropertychange",mu)):t==="focusout"&&gu()}function Qp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fs(Pa)}function Zp(t,e){if(t==="click")return Fs(e)}function Jp(t,e){if(t==="input"||t==="change")return Fs(e)}function $p(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dn=typeof Object.is=="function"?Object.is:$p;function za(t,e){if(dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!$.call(e,a)||!dn(t[a],e[a]))return!1}return!0}function bu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yu(t,e){var n=bu(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=bu(n)}}function vu(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vu(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Au(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ws(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ws(t.document)}return e}function go(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var tg=Bn&&"documentMode"in document&&11>=document.documentMode,Zi=null,mo=null,Ua=null,bo=!1;function _u(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bo||Zi==null||Zi!==ws(i)||(i=Zi,"selectionStart"in i&&go(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ua&&za(Ua,i)||(Ua=i,i=xr(mo,"onSelect"),0<i.length&&(e=new ks("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Zi)))}function wi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ji={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionrun:wi("Transition","TransitionRun"),transitionstart:wi("Transition","TransitionStart"),transitioncancel:wi("Transition","TransitionCancel"),transitionend:wi("Transition","TransitionEnd")},yo={},Su={};Bn&&(Su=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function Mi(t){if(yo[t])return yo[t];if(!Ji[t])return t;var e=Ji[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Su)return yo[t]=e[n];return t}var xu=Mi("animationend"),Eu=Mi("animationiteration"),Cu=Mi("animationstart"),eg=Mi("transitionrun"),ng=Mi("transitionstart"),ig=Mi("transitioncancel"),Tu=Mi("transitionend"),Ru=new Map,vo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vo.push("scrollEnd");function Dn(t,e){Ru.set(t,e),Ti(e,[t])}var js=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},_n=[],$i=0,Ao=0;function Ps(){for(var t=$i,e=Ao=$i=0;e<t;){var n=_n[e];_n[e++]=null;var i=_n[e];_n[e++]=null;var a=_n[e];_n[e++]=null;var r=_n[e];if(_n[e++]=null,i!==null&&a!==null){var g=i.pending;g===null?a.next=a:(a.next=g.next,g.next=a),i.pending=a}r!==0&&wu(n,a,r)}}function zs(t,e,n,i){_n[$i++]=t,_n[$i++]=e,_n[$i++]=n,_n[$i++]=i,Ao|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function _o(t,e,n,i){return zs(t,e,n,i),Us(t)}function Di(t,e){return zs(t,null,null,e),Us(t)}function wu(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var a=!1,r=t.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(a=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,a&&e!==null&&(a=31-ht(n),t=r.hiddenUpdates,i=t[a],i===null?t[a]=[e]:i.push(e),e.lane=n|536870912),r):null}function Us(t){if(50<os)throw os=0,Dl=null,Error(o(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ta={};function ag(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,i){return new ag(t,e,n,i)}function So(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hn(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Mu(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Bs(t,e,n,i,a,r){var g=0;if(i=t,typeof t=="function")So(t)&&(g=1);else if(typeof t=="string")g=cm(t,n,f.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=hn(31,n,e,a),t.elementType=C,t.lanes=r,t;case F:return Oi(n.children,a,r,e);case x:g=8,a|=24;break;case m:return t=hn(12,n,e,a|2),t.elementType=m,t.lanes=r,t;case v:return t=hn(13,n,e,a),t.elementType=v,t.lanes=r,t;case E:return t=hn(19,n,e,a),t.elementType=E,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:g=10;break t;case R:g=9;break t;case P:g=11;break t;case p:g=14;break t;case _:g=16,i=null;break t}g=29,n=Error(o(130,t===null?"null":typeof t,"")),i=null}return e=hn(g,n,e,a),e.elementType=t,e.type=i,e.lanes=r,e}function Oi(t,e,n,i){return t=hn(7,t,i,e),t.lanes=n,t}function xo(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function Du(t){var e=hn(18,null,null,0);return e.stateNode=t,e}function Eo(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Ou=new WeakMap;function Sn(t,e){if(typeof t=="object"&&t!==null){var n=Ou.get(t);return n!==void 0?n:(e={value:t,source:e,stack:I(e)},Ou.set(t,e),e)}return{value:t,source:e,stack:I(e)}}var ea=[],na=0,Hs=null,Ba=0,xn=[],En=0,ai=null,kn=1,Ln="";function In(t,e){ea[na++]=Ba,ea[na++]=Hs,Hs=t,Ba=e}function Nu(t,e,n){xn[En++]=kn,xn[En++]=Ln,xn[En++]=ai,ai=t;var i=kn;t=Ln;var a=32-ht(i)-1;i&=~(1<<a),n+=1;var r=32-ht(e)+a;if(30<r){var g=a-a%5;r=(i&(1<<g)-1).toString(32),i>>=g,a-=g,kn=1<<32-ht(e)+a|n<<a|i,Ln=r+t}else kn=1<<r|n<<a|i,Ln=t}function Co(t){t.return!==null&&(In(t,1),Nu(t,1,0))}function To(t){for(;t===Hs;)Hs=ea[--na],ea[na]=null,Ba=ea[--na],ea[na]=null;for(;t===ai;)ai=xn[--En],xn[En]=null,Ln=xn[--En],xn[En]=null,kn=xn[--En],xn[En]=null}function ku(t,e){xn[En++]=kn,xn[En++]=Ln,xn[En++]=ai,kn=e.id,Ln=e.overflow,ai=t}var Ze=null,je=null,xe=!1,si=null,Cn=!1,Ro=Error(o(519));function ri(t){var e=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ha(Sn(e,t)),Ro}function Lu(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Kt]=t,e[ee]=i,n){case"dialog":Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":case"embed":Ae("load",e);break;case"video":case"audio":for(n=0;n<cs.length;n++)Ae(cs[n],e);break;case"source":Ae("error",e);break;case"img":case"image":case"link":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"input":Ae("invalid",e),Vc(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Ae("invalid",e);break;case"textarea":Ae("invalid",e),Wc(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||Zh(e.textContent,n)?(i.popover!=null&&(Ae("beforetoggle",e),Ae("toggle",e)),i.onScroll!=null&&Ae("scroll",e),i.onScrollEnd!=null&&Ae("scrollend",e),i.onClick!=null&&(e.onclick=Un),e=!0):e=!1,e||ri(t,!0)}function Fu(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Ze=Ze.return}}function ia(t){if(t!==Ze)return!1;if(!xe)return Fu(t),xe=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Gl(t.type,t.memoizedProps)),n=!n),n&&je&&ri(t),Fu(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));je=of(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));je=of(t)}else e===27?(e=je,Ai(t.type)?(t=Ql,Ql=null,je=t):je=e):je=Ze?Rn(t.stateNode.nextSibling):null;return!0}function Ni(){je=Ze=null,xe=!1}function wo(){var t=si;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),si=null),t}function Ha(t){si===null?si=[t]:si.push(t)}var Mo=k(null),ki=null,qn=null;function oi(t,e,n){d(Mo,e._currentValue),e._currentValue=n}function Xn(t){t._currentValue=Mo.current,T(Mo)}function Do(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Oo(t,e,n,i){var a=t.child;for(a!==null&&(a.return=t);a!==null;){var r=a.dependencies;if(r!==null){var g=a.child;r=r.firstContext;t:for(;r!==null;){var H=r;r=a;for(var rt=0;rt<e.length;rt++)if(H.context===e[rt]){r.lanes|=n,H=r.alternate,H!==null&&(H.lanes|=n),Do(r.return,n,t),i||(g=null);break t}r=H.next}}else if(a.tag===18){if(g=a.return,g===null)throw Error(o(341));g.lanes|=n,r=g.alternate,r!==null&&(r.lanes|=n),Do(g,n,t),g=null}else g=a.child;if(g!==null)g.return=a;else for(g=a;g!==null;){if(g===t){g=null;break}if(a=g.sibling,a!==null){a.return=g.return,g=a;break}g=g.return}a=g}}function aa(t,e,n,i){t=null;for(var a=e,r=!1;a!==null;){if(!r){if((a.flags&524288)!==0)r=!0;else if((a.flags&262144)!==0)break}if(a.tag===10){var g=a.alternate;if(g===null)throw Error(o(387));if(g=g.memoizedProps,g!==null){var H=a.type;dn(a.pendingProps.value,g.value)||(t!==null?t.push(H):t=[H])}}else if(a===K.current){if(g=a.alternate,g===null)throw Error(o(387));g.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(t!==null?t.push(ps):t=[ps])}a=a.return}t!==null&&Oo(e,t,n,i),e.flags|=262144}function Is(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Li(t){ki=t,qn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Je(t){return ju(ki,t)}function qs(t,e){return ki===null&&Li(t),ju(t,e)}function ju(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},qn===null){if(t===null)throw Error(o(308));qn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else qn=qn.next=e;return n}var sg=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},rg=l.unstable_scheduleCallback,og=l.unstable_NormalPriority,Xe={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function No(){return{controller:new sg,data:new Map,refCount:0}}function Ia(t){t.refCount--,t.refCount===0&&rg(og,function(){t.controller.abort()})}var qa=null,ko=0,sa=0,ra=null;function lg(t,e){if(qa===null){var n=qa=[];ko=0,sa=jl(),ra={status:"pending",value:void 0,then:function(i){n.push(i)}}}return ko++,e.then(Pu,Pu),e}function Pu(){if(--ko===0&&qa!==null){ra!==null&&(ra.status="fulfilled");var t=qa;qa=null,sa=0,ra=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function cg(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var a=0;a<n.length;a++)(0,n[a])(e)},function(a){for(i.status="rejected",i.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),i}var zu=B.S;B.S=function(t,e){_h=Ot(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&lg(t,e),zu!==null&&zu(t,e)};var Fi=k(null);function Lo(){var t=Fi.current;return t!==null?t:Le.pooledCache}function Xs(t,e){e===null?d(Fi,Fi.current):d(Fi,e.pool)}function Uu(){var t=Lo();return t===null?null:{parent:Xe._currentValue,pool:t}}var oa=Error(o(460)),Fo=Error(o(474)),Gs=Error(o(542)),Ys={then:function(){}};function Bu(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hu(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Un,Un),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,qu(t),t;default:if(typeof e.status=="string")e.then(Un,Un);else{if(t=Le,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var a=e;a.status="fulfilled",a.value=i}},function(i){if(e.status==="pending"){var a=e;a.status="rejected",a.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,qu(t),t}throw Pi=e,oa}}function ji(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Pi=n,oa):n}}var Pi=null;function Iu(){if(Pi===null)throw Error(o(459));var t=Pi;return Pi=null,t}function qu(t){if(t===oa||t===Gs)throw Error(o(483))}var la=null,Xa=0;function Vs(t){var e=Xa;return Xa+=1,la===null&&(la=[]),Hu(la,t,e)}function Ga(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ks(t,e){throw e.$$typeof===j?Error(o(525)):(t=Object.prototype.toString.call(e),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Xu(t){function e(_t,dt){if(t){var Tt=_t.deletions;Tt===null?(_t.deletions=[dt],_t.flags|=16):Tt.push(dt)}}function n(_t,dt){if(!t)return null;for(;dt!==null;)e(_t,dt),dt=dt.sibling;return null}function i(_t){for(var dt=new Map;_t!==null;)_t.key!==null?dt.set(_t.key,_t):dt.set(_t.index,_t),_t=_t.sibling;return dt}function a(_t,dt){return _t=Hn(_t,dt),_t.index=0,_t.sibling=null,_t}function r(_t,dt,Tt){return _t.index=Tt,t?(Tt=_t.alternate,Tt!==null?(Tt=Tt.index,Tt<dt?(_t.flags|=67108866,dt):Tt):(_t.flags|=67108866,dt)):(_t.flags|=1048576,dt)}function g(_t){return t&&_t.alternate===null&&(_t.flags|=67108866),_t}function H(_t,dt,Tt,Ht){return dt===null||dt.tag!==6?(dt=xo(Tt,_t.mode,Ht),dt.return=_t,dt):(dt=a(dt,Tt),dt.return=_t,dt)}function rt(_t,dt,Tt,Ht){var ue=Tt.type;return ue===F?Ut(_t,dt,Tt.props.children,Ht,Tt.key):dt!==null&&(dt.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===_&&ji(ue)===dt.type)?(dt=a(dt,Tt.props),Ga(dt,Tt),dt.return=_t,dt):(dt=Bs(Tt.type,Tt.key,Tt.props,null,_t.mode,Ht),Ga(dt,Tt),dt.return=_t,dt)}function Rt(_t,dt,Tt,Ht){return dt===null||dt.tag!==4||dt.stateNode.containerInfo!==Tt.containerInfo||dt.stateNode.implementation!==Tt.implementation?(dt=Eo(Tt,_t.mode,Ht),dt.return=_t,dt):(dt=a(dt,Tt.children||[]),dt.return=_t,dt)}function Ut(_t,dt,Tt,Ht,ue){return dt===null||dt.tag!==7?(dt=Oi(Tt,_t.mode,Ht,ue),dt.return=_t,dt):(dt=a(dt,Tt),dt.return=_t,dt)}function qt(_t,dt,Tt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return dt=xo(""+dt,_t.mode,Tt),dt.return=_t,dt;if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case M:return Tt=Bs(dt.type,dt.key,dt.props,null,_t.mode,Tt),Ga(Tt,dt),Tt.return=_t,Tt;case O:return dt=Eo(dt,_t.mode,Tt),dt.return=_t,dt;case _:return dt=ji(dt),qt(_t,dt,Tt)}if(nt(dt)||z(dt))return dt=Oi(dt,_t.mode,Tt,null),dt.return=_t,dt;if(typeof dt.then=="function")return qt(_t,Vs(dt),Tt);if(dt.$$typeof===U)return qt(_t,qs(_t,dt),Tt);Ks(_t,dt)}return null}function Mt(_t,dt,Tt,Ht){var ue=dt!==null?dt.key:null;if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint")return ue!==null?null:H(_t,dt,""+Tt,Ht);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case M:return Tt.key===ue?rt(_t,dt,Tt,Ht):null;case O:return Tt.key===ue?Rt(_t,dt,Tt,Ht):null;case _:return Tt=ji(Tt),Mt(_t,dt,Tt,Ht)}if(nt(Tt)||z(Tt))return ue!==null?null:Ut(_t,dt,Tt,Ht,null);if(typeof Tt.then=="function")return Mt(_t,dt,Vs(Tt),Ht);if(Tt.$$typeof===U)return Mt(_t,dt,qs(_t,Tt),Ht);Ks(_t,Tt)}return null}function Ft(_t,dt,Tt,Ht,ue){if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number"||typeof Ht=="bigint")return _t=_t.get(Tt)||null,H(dt,_t,""+Ht,ue);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case M:return _t=_t.get(Ht.key===null?Tt:Ht.key)||null,rt(dt,_t,Ht,ue);case O:return _t=_t.get(Ht.key===null?Tt:Ht.key)||null,Rt(dt,_t,Ht,ue);case _:return Ht=ji(Ht),Ft(_t,dt,Tt,Ht,ue)}if(nt(Ht)||z(Ht))return _t=_t.get(Tt)||null,Ut(dt,_t,Ht,ue,null);if(typeof Ht.then=="function")return Ft(_t,dt,Tt,Vs(Ht),ue);if(Ht.$$typeof===U)return Ft(_t,dt,Tt,qs(dt,Ht),ue);Ks(dt,Ht)}return null}function se(_t,dt,Tt,Ht){for(var ue=null,Ce=null,oe=dt,ye=dt=0,Se=null;oe!==null&&ye<Tt.length;ye++){oe.index>ye?(Se=oe,oe=null):Se=oe.sibling;var Te=Mt(_t,oe,Tt[ye],Ht);if(Te===null){oe===null&&(oe=Se);break}t&&oe&&Te.alternate===null&&e(_t,oe),dt=r(Te,dt,ye),Ce===null?ue=Te:Ce.sibling=Te,Ce=Te,oe=Se}if(ye===Tt.length)return n(_t,oe),xe&&In(_t,ye),ue;if(oe===null){for(;ye<Tt.length;ye++)oe=qt(_t,Tt[ye],Ht),oe!==null&&(dt=r(oe,dt,ye),Ce===null?ue=oe:Ce.sibling=oe,Ce=oe);return xe&&In(_t,ye),ue}for(oe=i(oe);ye<Tt.length;ye++)Se=Ft(oe,_t,ye,Tt[ye],Ht),Se!==null&&(t&&Se.alternate!==null&&oe.delete(Se.key===null?ye:Se.key),dt=r(Se,dt,ye),Ce===null?ue=Se:Ce.sibling=Se,Ce=Se);return t&&oe.forEach(function(Ci){return e(_t,Ci)}),xe&&In(_t,ye),ue}function pe(_t,dt,Tt,Ht){if(Tt==null)throw Error(o(151));for(var ue=null,Ce=null,oe=dt,ye=dt=0,Se=null,Te=Tt.next();oe!==null&&!Te.done;ye++,Te=Tt.next()){oe.index>ye?(Se=oe,oe=null):Se=oe.sibling;var Ci=Mt(_t,oe,Te.value,Ht);if(Ci===null){oe===null&&(oe=Se);break}t&&oe&&Ci.alternate===null&&e(_t,oe),dt=r(Ci,dt,ye),Ce===null?ue=Ci:Ce.sibling=Ci,Ce=Ci,oe=Se}if(Te.done)return n(_t,oe),xe&&In(_t,ye),ue;if(oe===null){for(;!Te.done;ye++,Te=Tt.next())Te=qt(_t,Te.value,Ht),Te!==null&&(dt=r(Te,dt,ye),Ce===null?ue=Te:Ce.sibling=Te,Ce=Te);return xe&&In(_t,ye),ue}for(oe=i(oe);!Te.done;ye++,Te=Tt.next())Te=Ft(oe,_t,ye,Te.value,Ht),Te!==null&&(t&&Te.alternate!==null&&oe.delete(Te.key===null?ye:Te.key),dt=r(Te,dt,ye),Ce===null?ue=Te:Ce.sibling=Te,Ce=Te);return t&&oe.forEach(function(Am){return e(_t,Am)}),xe&&In(_t,ye),ue}function ke(_t,dt,Tt,Ht){if(typeof Tt=="object"&&Tt!==null&&Tt.type===F&&Tt.key===null&&(Tt=Tt.props.children),typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case M:t:{for(var ue=Tt.key;dt!==null;){if(dt.key===ue){if(ue=Tt.type,ue===F){if(dt.tag===7){n(_t,dt.sibling),Ht=a(dt,Tt.props.children),Ht.return=_t,_t=Ht;break t}}else if(dt.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===_&&ji(ue)===dt.type){n(_t,dt.sibling),Ht=a(dt,Tt.props),Ga(Ht,Tt),Ht.return=_t,_t=Ht;break t}n(_t,dt);break}else e(_t,dt);dt=dt.sibling}Tt.type===F?(Ht=Oi(Tt.props.children,_t.mode,Ht,Tt.key),Ht.return=_t,_t=Ht):(Ht=Bs(Tt.type,Tt.key,Tt.props,null,_t.mode,Ht),Ga(Ht,Tt),Ht.return=_t,_t=Ht)}return g(_t);case O:t:{for(ue=Tt.key;dt!==null;){if(dt.key===ue)if(dt.tag===4&&dt.stateNode.containerInfo===Tt.containerInfo&&dt.stateNode.implementation===Tt.implementation){n(_t,dt.sibling),Ht=a(dt,Tt.children||[]),Ht.return=_t,_t=Ht;break t}else{n(_t,dt);break}else e(_t,dt);dt=dt.sibling}Ht=Eo(Tt,_t.mode,Ht),Ht.return=_t,_t=Ht}return g(_t);case _:return Tt=ji(Tt),ke(_t,dt,Tt,Ht)}if(nt(Tt))return se(_t,dt,Tt,Ht);if(z(Tt)){if(ue=z(Tt),typeof ue!="function")throw Error(o(150));return Tt=ue.call(Tt),pe(_t,dt,Tt,Ht)}if(typeof Tt.then=="function")return ke(_t,dt,Vs(Tt),Ht);if(Tt.$$typeof===U)return ke(_t,dt,qs(_t,Tt),Ht);Ks(_t,Tt)}return typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint"?(Tt=""+Tt,dt!==null&&dt.tag===6?(n(_t,dt.sibling),Ht=a(dt,Tt),Ht.return=_t,_t=Ht):(n(_t,dt),Ht=xo(Tt,_t.mode,Ht),Ht.return=_t,_t=Ht),g(_t)):n(_t,dt)}return function(_t,dt,Tt,Ht){try{Xa=0;var ue=ke(_t,dt,Tt,Ht);return la=null,ue}catch(oe){if(oe===oa||oe===Gs)throw oe;var Ce=hn(29,oe,null,_t.mode);return Ce.lanes=Ht,Ce.return=_t,Ce}finally{}}}var zi=Xu(!0),Gu=Xu(!1),li=!1;function jo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Po(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ci(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ui(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(Re&2)!==0){var a=i.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),i.pending=e,e=Us(t),wu(t,null,n),e}return zs(t,i,e,n),Us(t)}function Ya(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Dt(t,n)}}function zo(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var g={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?a=r=g:r=r.next=g,n=n.next}while(n!==null);r===null?a=r=e:r=r.next=e}else a=r=e;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Uo=!1;function Va(){if(Uo){var t=ra;if(t!==null)throw t}}function Ka(t,e,n,i){Uo=!1;var a=t.updateQueue;li=!1;var r=a.firstBaseUpdate,g=a.lastBaseUpdate,H=a.shared.pending;if(H!==null){a.shared.pending=null;var rt=H,Rt=rt.next;rt.next=null,g===null?r=Rt:g.next=Rt,g=rt;var Ut=t.alternate;Ut!==null&&(Ut=Ut.updateQueue,H=Ut.lastBaseUpdate,H!==g&&(H===null?Ut.firstBaseUpdate=Rt:H.next=Rt,Ut.lastBaseUpdate=rt))}if(r!==null){var qt=a.baseState;g=0,Ut=Rt=rt=null,H=r;do{var Mt=H.lane&-536870913,Ft=Mt!==H.lane;if(Ft?(_e&Mt)===Mt:(i&Mt)===Mt){Mt!==0&&Mt===sa&&(Uo=!0),Ut!==null&&(Ut=Ut.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});t:{var se=t,pe=H;Mt=e;var ke=n;switch(pe.tag){case 1:if(se=pe.payload,typeof se=="function"){qt=se.call(ke,qt,Mt);break t}qt=se;break t;case 3:se.flags=se.flags&-65537|128;case 0:if(se=pe.payload,Mt=typeof se=="function"?se.call(ke,qt,Mt):se,Mt==null)break t;qt=w({},qt,Mt);break t;case 2:li=!0}}Mt=H.callback,Mt!==null&&(t.flags|=64,Ft&&(t.flags|=8192),Ft=a.callbacks,Ft===null?a.callbacks=[Mt]:Ft.push(Mt))}else Ft={lane:Mt,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Ut===null?(Rt=Ut=Ft,rt=qt):Ut=Ut.next=Ft,g|=Mt;if(H=H.next,H===null){if(H=a.shared.pending,H===null)break;Ft=H,H=Ft.next,Ft.next=null,a.lastBaseUpdate=Ft,a.shared.pending=null}}while(!0);Ut===null&&(rt=qt),a.baseState=rt,a.firstBaseUpdate=Rt,a.lastBaseUpdate=Ut,r===null&&(a.shared.lanes=0),gi|=g,t.lanes=g,t.memoizedState=qt}}function Yu(t,e){if(typeof t!="function")throw Error(o(191,t));t.call(e)}function Vu(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Yu(n[t],e)}var ca=k(null),Ws=k(0);function Ku(t,e){t=$n,d(Ws,t),d(ca,e),$n=t|e.baseLanes}function Bo(){d(Ws,$n),d(ca,ca.current)}function Ho(){$n=Ws.current,T(ca),T(Ws)}var fn=k(null),Tn=null;function di(t){var e=t.alternate;d(He,He.current&1),d(fn,t),Tn===null&&(e===null||ca.current!==null||e.memoizedState!==null)&&(Tn=t)}function Io(t){d(He,He.current),d(fn,t),Tn===null&&(Tn=t)}function Wu(t){t.tag===22?(d(He,He.current),d(fn,t),Tn===null&&(Tn=t)):hi()}function hi(){d(He,He.current),d(fn,fn.current)}function pn(t){T(fn),Tn===t&&(Tn=null),T(He)}var He=k(0);function Qs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Kl(n)||Wl(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gn=0,be=null,Oe=null,Ge=null,Zs=!1,ua=!1,Ui=!1,Js=0,Wa=0,da=null,ug=0;function Ue(){throw Error(o(321))}function qo(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dn(t[n],e[n]))return!1;return!0}function Xo(t,e,n,i,a,r){return Gn=r,be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,B.H=t===null||t.memoizedState===null?Nd:sl,Ui=!1,r=n(i,a),Ui=!1,ua&&(r=Zu(e,n,i,a)),Qu(t),r}function Qu(t){B.H=Ja;var e=Oe!==null&&Oe.next!==null;if(Gn=0,Ge=Oe=be=null,Zs=!1,Wa=0,da=null,e)throw Error(o(300));t===null||Ye||(t=t.dependencies,t!==null&&Is(t)&&(Ye=!0))}function Zu(t,e,n,i){be=t;var a=0;do{if(ua&&(da=null),Wa=0,ua=!1,25<=a)throw Error(o(301));if(a+=1,Ge=Oe=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}B.H=kd,r=e(n,i)}while(ua);return r}function dg(){var t=B.H,e=t.useState()[0];return e=typeof e.then=="function"?Qa(e):e,t=t.useState()[0],(Oe!==null?Oe.memoizedState:null)!==t&&(be.flags|=1024),e}function Go(){var t=Js!==0;return Js=0,t}function Yo(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Vo(t){if(Zs){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Zs=!1}Gn=0,Ge=Oe=be=null,ua=!1,Wa=Js=0,da=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?be.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function Ie(){if(Oe===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var e=Ge===null?be.memoizedState:Ge.next;if(e!==null)Ge=e,Oe=t;else{if(t===null)throw be.alternate===null?Error(o(467)):Error(o(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Ge===null?be.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function $s(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qa(t){var e=Wa;return Wa+=1,da===null&&(da=[]),t=Hu(da,t,e),e=be,(Ge===null?e.memoizedState:Ge.next)===null&&(e=e.alternate,B.H=e===null||e.memoizedState===null?Nd:sl),t}function tr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Qa(t);if(t.$$typeof===U)return Je(t)}throw Error(o(438,String(t)))}function Ko(t){var e=null,n=be.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=be.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(a){return a.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=$s(),be.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=Z;return e.index++,n}function Yn(t,e){return typeof e=="function"?e(t):e}function er(t){var e=Ie();return Wo(e,Oe,t)}function Wo(t,e,n){var i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=n;var a=t.baseQueue,r=i.pending;if(r!==null){if(a!==null){var g=a.next;a.next=r.next,r.next=g}e.baseQueue=a=r,i.pending=null}if(r=t.baseState,a===null)t.memoizedState=r;else{e=a.next;var H=g=null,rt=null,Rt=e,Ut=!1;do{var qt=Rt.lane&-536870913;if(qt!==Rt.lane?(_e&qt)===qt:(Gn&qt)===qt){var Mt=Rt.revertLane;if(Mt===0)rt!==null&&(rt=rt.next={lane:0,revertLane:0,gesture:null,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null}),qt===sa&&(Ut=!0);else if((Gn&Mt)===Mt){Rt=Rt.next,Mt===sa&&(Ut=!0);continue}else qt={lane:0,revertLane:Rt.revertLane,gesture:null,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},rt===null?(H=rt=qt,g=r):rt=rt.next=qt,be.lanes|=Mt,gi|=Mt;qt=Rt.action,Ui&&n(r,qt),r=Rt.hasEagerState?Rt.eagerState:n(r,qt)}else Mt={lane:qt,revertLane:Rt.revertLane,gesture:Rt.gesture,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},rt===null?(H=rt=Mt,g=r):rt=rt.next=Mt,be.lanes|=qt,gi|=qt;Rt=Rt.next}while(Rt!==null&&Rt!==e);if(rt===null?g=r:rt.next=H,!dn(r,t.memoizedState)&&(Ye=!0,Ut&&(n=ra,n!==null)))throw n;t.memoizedState=r,t.baseState=g,t.baseQueue=rt,i.lastRenderedState=r}return a===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Qo(t){var e=Ie(),n=e.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=t;var i=n.dispatch,a=n.pending,r=e.memoizedState;if(a!==null){n.pending=null;var g=a=a.next;do r=t(r,g.action),g=g.next;while(g!==a);dn(r,e.memoizedState)||(Ye=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function Ju(t,e,n){var i=be,a=Ie(),r=xe;if(r){if(n===void 0)throw Error(o(407));n=n()}else n=e();var g=!dn((Oe||a).memoizedState,n);if(g&&(a.memoizedState=n,Ye=!0),a=a.queue,$o(ed.bind(null,i,a,t),[t]),a.getSnapshot!==e||g||Ge!==null&&Ge.memoizedState.tag&1){if(i.flags|=2048,ha(9,{destroy:void 0},td.bind(null,i,a,n,e),null),Le===null)throw Error(o(349));r||(Gn&127)!==0||$u(i,e,n)}return n}function $u(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=be.updateQueue,e===null?(e=$s(),be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function td(t,e,n,i){e.value=n,e.getSnapshot=i,nd(e)&&id(t)}function ed(t,e,n){return n(function(){nd(e)&&id(t)})}function nd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dn(t,n)}catch{return!0}}function id(t){var e=Di(t,2);e!==null&&un(e,t,2)}function Zo(t){var e=an();if(typeof t=="function"){var n=t;if(t=n(),Ui){kt(!0);try{n()}finally{kt(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:t},e}function ad(t,e,n,i){return t.baseState=n,Wo(t,Oe,typeof i=="function"?i:Yn)}function hg(t,e,n,i,a){if(ar(t))throw Error(o(485));if(t=e.action,t!==null){var r={payload:a,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){r.listeners.push(g)}};B.T!==null?n(!0):r.isTransition=!1,i(r),n=e.pending,n===null?(r.next=e.pending=r,sd(e,r)):(r.next=n.next,e.pending=n.next=r)}}function sd(t,e){var n=e.action,i=e.payload,a=t.state;if(e.isTransition){var r=B.T,g={};B.T=g;try{var H=n(a,i),rt=B.S;rt!==null&&rt(g,H),rd(t,e,H)}catch(Rt){Jo(t,e,Rt)}finally{r!==null&&g.types!==null&&(r.types=g.types),B.T=r}}else try{r=n(a,i),rd(t,e,r)}catch(Rt){Jo(t,e,Rt)}}function rd(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){od(t,e,i)},function(i){return Jo(t,e,i)}):od(t,e,n)}function od(t,e,n){e.status="fulfilled",e.value=n,ld(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,sd(t,n)))}function Jo(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,ld(e),e=e.next;while(e!==i)}t.action=null}function ld(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function cd(t,e){return e}function ud(t,e){if(xe){var n=Le.formState;if(n!==null){t:{var i=be;if(xe){if(je){e:{for(var a=je,r=Cn;a.nodeType!==8;){if(!r){a=null;break e}if(a=Rn(a.nextSibling),a===null){a=null;break e}}r=a.data,a=r==="F!"||r==="F"?a:null}if(a){je=Rn(a.nextSibling),i=a.data==="F!";break t}}ri(i)}i=!1}i&&(e=n[0])}}return n=an(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cd,lastRenderedState:e},n.queue=i,n=Md.bind(null,be,i),i.dispatch=n,i=Zo(!1),r=al.bind(null,be,!1,i.queue),i=an(),a={state:e,dispatch:null,action:t,pending:null},i.queue=a,n=hg.bind(null,be,a,r,n),a.dispatch=n,i.memoizedState=t,[e,n,!1]}function dd(t){var e=Ie();return hd(e,Oe,t)}function hd(t,e,n){if(e=Wo(t,e,cd)[0],t=er(Yn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Qa(e)}catch(g){throw g===oa?Gs:g}else i=e;e=Ie();var a=e.queue,r=a.dispatch;return n!==e.memoizedState&&(be.flags|=2048,ha(9,{destroy:void 0},fg.bind(null,a,n),null)),[i,r,t]}function fg(t,e){t.action=e}function fd(t){var e=Ie(),n=Oe;if(n!==null)return hd(e,n,t);Ie(),e=e.memoizedState,n=Ie();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function ha(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=be.updateQueue,e===null&&(e=$s(),be.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function pd(){return Ie().memoizedState}function nr(t,e,n,i){var a=an();be.flags|=t,a.memoizedState=ha(1|e,{destroy:void 0},n,i===void 0?null:i)}function ir(t,e,n,i){var a=Ie();i=i===void 0?null:i;var r=a.memoizedState.inst;Oe!==null&&i!==null&&qo(i,Oe.memoizedState.deps)?a.memoizedState=ha(e,r,n,i):(be.flags|=t,a.memoizedState=ha(1|e,r,n,i))}function gd(t,e){nr(8390656,8,t,e)}function $o(t,e){ir(2048,8,t,e)}function pg(t){be.flags|=4;var e=be.updateQueue;if(e===null)e=$s(),be.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function md(t){var e=Ie().memoizedState;return pg({ref:e,nextImpl:t}),function(){if((Re&2)!==0)throw Error(o(440));return e.impl.apply(void 0,arguments)}}function bd(t,e){return ir(4,2,t,e)}function yd(t,e){return ir(4,4,t,e)}function vd(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ad(t,e,n){n=n!=null?n.concat([t]):null,ir(4,4,vd.bind(null,e,t),n)}function tl(){}function _d(t,e){var n=Ie();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&qo(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Sd(t,e){var n=Ie();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&qo(e,i[1]))return i[0];if(i=t(),Ui){kt(!0);try{t()}finally{kt(!1)}}return n.memoizedState=[i,e],i}function el(t,e,n){return n===void 0||(Gn&1073741824)!==0&&(_e&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=xh(),be.lanes|=t,gi|=t,n)}function xd(t,e,n,i){return dn(n,e)?n:ca.current!==null?(t=el(t,n,i),dn(t,e)||(Ye=!0),t):(Gn&42)===0||(Gn&1073741824)!==0&&(_e&261930)===0?(Ye=!0,t.memoizedState=n):(t=xh(),be.lanes|=t,gi|=t,e)}function Ed(t,e,n,i,a){var r=Y.p;Y.p=r!==0&&8>r?r:8;var g=B.T,H={};B.T=H,al(t,!1,e,n);try{var rt=a(),Rt=B.S;if(Rt!==null&&Rt(H,rt),rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var Ut=cg(rt,i);Za(t,e,Ut,bn(t))}else Za(t,e,i,bn(t))}catch(qt){Za(t,e,{then:function(){},status:"rejected",reason:qt},bn())}finally{Y.p=r,g!==null&&H.types!==null&&(g.types=H.types),B.T=g}}function gg(){}function nl(t,e,n,i){if(t.tag!==5)throw Error(o(476));var a=Cd(t).queue;Ed(t,a,e,st,n===null?gg:function(){return Td(t),n(i)})}function Cd(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:st},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Td(t){var e=Cd(t);e.next===null&&(e=t.alternate.memoizedState),Za(t,e.next.queue,{},bn())}function il(){return Je(ps)}function Rd(){return Ie().memoizedState}function wd(){return Ie().memoizedState}function mg(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=bn();t=ci(n);var i=ui(e,t,n);i!==null&&(un(i,e,n),Ya(i,e,n)),e={cache:No()},t.payload=e;return}e=e.return}}function bg(t,e,n){var i=bn();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ar(t)?Dd(e,n):(n=_o(t,e,n,i),n!==null&&(un(n,t,i),Od(n,e,i)))}function Md(t,e,n){var i=bn();Za(t,e,n,i)}function Za(t,e,n,i){var a={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ar(t))Dd(e,a);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var g=e.lastRenderedState,H=r(g,n);if(a.hasEagerState=!0,a.eagerState=H,dn(H,g))return zs(t,e,a,0),Le===null&&Ps(),!1}catch{}finally{}if(n=_o(t,e,a,i),n!==null)return un(n,t,i),Od(n,e,i),!0}return!1}function al(t,e,n,i){if(i={lane:2,revertLane:jl(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ar(t)){if(e)throw Error(o(479))}else e=_o(t,n,i,2),e!==null&&un(e,t,2)}function ar(t){var e=t.alternate;return t===be||e!==null&&e===be}function Dd(t,e){ua=Zs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Od(t,e,n){if((n&4194048)!==0){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Dt(t,n)}}var Ja={readContext:Je,use:tr,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};Ja.useEffectEvent=Ue;var Nd={readContext:Je,use:tr,useCallback:function(t,e){return an().memoizedState=[t,e===void 0?null:e],t},useContext:Je,useEffect:gd,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,nr(4194308,4,vd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nr(4194308,4,t,e)},useInsertionEffect:function(t,e){nr(4,2,t,e)},useMemo:function(t,e){var n=an();e=e===void 0?null:e;var i=t();if(Ui){kt(!0);try{t()}finally{kt(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=an();if(n!==void 0){var a=n(e);if(Ui){kt(!0);try{n(e)}finally{kt(!1)}}}else a=e;return i.memoizedState=i.baseState=a,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},i.queue=t,t=t.dispatch=bg.bind(null,be,t),[i.memoizedState,t]},useRef:function(t){var e=an();return t={current:t},e.memoizedState=t},useState:function(t){t=Zo(t);var e=t.queue,n=Md.bind(null,be,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:tl,useDeferredValue:function(t,e){var n=an();return el(n,t,e)},useTransition:function(){var t=Zo(!1);return t=Ed.bind(null,be,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=be,a=an();if(xe){if(n===void 0)throw Error(o(407));n=n()}else{if(n=e(),Le===null)throw Error(o(349));(_e&127)!==0||$u(i,e,n)}a.memoizedState=n;var r={value:n,getSnapshot:e};return a.queue=r,gd(ed.bind(null,i,r,t),[t]),i.flags|=2048,ha(9,{destroy:void 0},td.bind(null,i,r,n,e),null),n},useId:function(){var t=an(),e=Le.identifierPrefix;if(xe){var n=Ln,i=kn;n=(i&~(1<<32-ht(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Js++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=ug++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:il,useFormState:ud,useActionState:ud,useOptimistic:function(t){var e=an();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=al.bind(null,be,!0,n),n.dispatch=e,[t,e]},useMemoCache:Ko,useCacheRefresh:function(){return an().memoizedState=mg.bind(null,be)},useEffectEvent:function(t){var e=an(),n={impl:t};return e.memoizedState=n,function(){if((Re&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},sl={readContext:Je,use:tr,useCallback:_d,useContext:Je,useEffect:$o,useImperativeHandle:Ad,useInsertionEffect:bd,useLayoutEffect:yd,useMemo:Sd,useReducer:er,useRef:pd,useState:function(){return er(Yn)},useDebugValue:tl,useDeferredValue:function(t,e){var n=Ie();return xd(n,Oe.memoizedState,t,e)},useTransition:function(){var t=er(Yn)[0],e=Ie().memoizedState;return[typeof t=="boolean"?t:Qa(t),e]},useSyncExternalStore:Ju,useId:Rd,useHostTransitionStatus:il,useFormState:dd,useActionState:dd,useOptimistic:function(t,e){var n=Ie();return ad(n,Oe,t,e)},useMemoCache:Ko,useCacheRefresh:wd};sl.useEffectEvent=md;var kd={readContext:Je,use:tr,useCallback:_d,useContext:Je,useEffect:$o,useImperativeHandle:Ad,useInsertionEffect:bd,useLayoutEffect:yd,useMemo:Sd,useReducer:Qo,useRef:pd,useState:function(){return Qo(Yn)},useDebugValue:tl,useDeferredValue:function(t,e){var n=Ie();return Oe===null?el(n,t,e):xd(n,Oe.memoizedState,t,e)},useTransition:function(){var t=Qo(Yn)[0],e=Ie().memoizedState;return[typeof t=="boolean"?t:Qa(t),e]},useSyncExternalStore:Ju,useId:Rd,useHostTransitionStatus:il,useFormState:fd,useActionState:fd,useOptimistic:function(t,e){var n=Ie();return Oe!==null?ad(n,Oe,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ko,useCacheRefresh:wd};kd.useEffectEvent=md;function rl(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:w({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ol={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=bn(),a=ci(i);a.payload=e,n!=null&&(a.callback=n),e=ui(t,a,i),e!==null&&(un(e,t,i),Ya(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=bn(),a=ci(i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ui(t,a,i),e!==null&&(un(e,t,i),Ya(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bn(),i=ci(n);i.tag=2,e!=null&&(i.callback=e),e=ui(t,i,n),e!==null&&(un(e,t,n),Ya(e,t,n))}};function Ld(t,e,n,i,a,r,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,g):e.prototype&&e.prototype.isPureReactComponent?!za(n,i)||!za(a,r):!0}function Fd(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ol.enqueueReplaceState(e,e.state,null)}function Bi(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=w({},n));for(var a in t)n[a]===void 0&&(n[a]=t[a])}return n}function jd(t){js(t)}function Pd(t){console.error(t)}function zd(t){js(t)}function sr(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Ud(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function ll(t,e,n){return n=ci(n),n.tag=3,n.payload={element:null},n.callback=function(){sr(t,e)},n}function Bd(t){return t=ci(t),t.tag=3,t}function Hd(t,e,n,i){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var r=i.value;t.payload=function(){return a(r)},t.callback=function(){Ud(e,n,i)}}var g=n.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Ud(e,n,i),typeof a!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var H=i.stack;this.componentDidCatch(i.value,{componentStack:H!==null?H:""})})}function yg(t,e,n,i,a){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&aa(e,n,a,!0),n=fn.current,n!==null){switch(n.tag){case 31:case 13:return Tn===null?br():n.alternate===null&&Be===0&&(Be=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===Ys?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),kl(t,i,a)),!1;case 22:return n.flags|=65536,i===Ys?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),kl(t,i,a)),!1}throw Error(o(435,n.tag))}return kl(t,i,a),br(),!1}if(xe)return e=fn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=a,i!==Ro&&(t=Error(o(422),{cause:i}),Ha(Sn(t,n)))):(i!==Ro&&(e=Error(o(423),{cause:i}),Ha(Sn(e,n))),t=t.current.alternate,t.flags|=65536,a&=-a,t.lanes|=a,i=Sn(i,n),a=ll(t.stateNode,i,a),zo(t,a),Be!==4&&(Be=2)),!1;var r=Error(o(520),{cause:i});if(r=Sn(r,n),rs===null?rs=[r]:rs.push(r),Be!==4&&(Be=2),e===null)return!0;i=Sn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=a&-a,n.lanes|=t,t=ll(n.stateNode,i,t),zo(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(mi===null||!mi.has(r))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Bd(a),Hd(a,t,n,i),zo(n,a),!1}n=n.return}while(n!==null);return!1}var cl=Error(o(461)),Ye=!1;function $e(t,e,n,i){e.child=t===null?Gu(e,null,n,i):zi(e,t.child,n,i)}function Id(t,e,n,i,a){n=n.render;var r=e.ref;if("ref"in i){var g={};for(var H in i)H!=="ref"&&(g[H]=i[H])}else g=i;return Li(e),i=Xo(t,e,n,g,r,a),H=Go(),t!==null&&!Ye?(Yo(t,e,a),Vn(t,e,a)):(xe&&H&&Co(e),e.flags|=1,$e(t,e,i,a),e.child)}function qd(t,e,n,i,a){if(t===null){var r=n.type;return typeof r=="function"&&!So(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,Xd(t,e,r,i,a)):(t=Bs(n.type,null,i,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!bl(t,a)){var g=r.memoizedProps;if(n=n.compare,n=n!==null?n:za,n(g,i)&&t.ref===e.ref)return Vn(t,e,a)}return e.flags|=1,t=Hn(r,i),t.ref=e.ref,t.return=e,e.child=t}function Xd(t,e,n,i,a){if(t!==null){var r=t.memoizedProps;if(za(r,i)&&t.ref===e.ref)if(Ye=!1,e.pendingProps=i=r,bl(t,a))(t.flags&131072)!==0&&(Ye=!0);else return e.lanes=t.lanes,Vn(t,e,a)}return ul(t,e,n,i,a)}function Gd(t,e,n,i){var a=i.children,r=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((e.flags&128)!==0){if(r=r!==null?r.baseLanes|n:n,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;i=a&~r}else i=0,e.child=null;return Yd(t,e,r,n,i)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xs(e,r!==null?r.cachePool:null),r!==null?Ku(e,r):Bo(),Wu(e);else return i=e.lanes=536870912,Yd(t,e,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(Xs(e,r.cachePool),Ku(e,r),hi(),e.memoizedState=null):(t!==null&&Xs(e,null),Bo(),hi());return $e(t,e,a,n),e.child}function $a(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Yd(t,e,n,i,a){var r=Lo();return r=r===null?null:{parent:Xe._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&Xs(e,null),Bo(),Wu(e),t!==null&&aa(t,e,i,!0),e.childLanes=a,null}function rr(t,e){return e=lr({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Vd(t,e,n){return zi(e,t.child,null,n),t=rr(e,e.pendingProps),t.flags|=2,pn(e),e.memoizedState=null,t}function vg(t,e,n){var i=e.pendingProps,a=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(xe){if(i.mode==="hidden")return t=rr(e,i),e.lanes=536870912,$a(null,t);if(Io(e),(t=je)?(t=rf(t,Cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ai!==null?{id:kn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},n=Du(t),n.return=e,e.child=n,Ze=e,je=null)):t=null,t===null)throw ri(e);return e.lanes=536870912,null}return rr(e,i)}var r=t.memoizedState;if(r!==null){var g=r.dehydrated;if(Io(e),a)if(e.flags&256)e.flags&=-257,e=Vd(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(o(558));else if(Ye||aa(t,e,n,!1),a=(n&t.childLanes)!==0,Ye||a){if(i=Le,i!==null&&(g=Pt(i,n),g!==0&&g!==r.retryLane))throw r.retryLane=g,Di(t,g),un(i,t,g),cl;br(),e=Vd(t,e,n)}else t=r.treeContext,je=Rn(g.nextSibling),Ze=e,xe=!0,si=null,Cn=!1,t!==null&&ku(e,t),e=rr(e,i),e.flags|=4096;return e}return t=Hn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function or(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function ul(t,e,n,i,a){return Li(e),n=Xo(t,e,n,i,void 0,a),i=Go(),t!==null&&!Ye?(Yo(t,e,a),Vn(t,e,a)):(xe&&i&&Co(e),e.flags|=1,$e(t,e,n,a),e.child)}function Kd(t,e,n,i,a,r){return Li(e),e.updateQueue=null,n=Zu(e,i,n,a),Qu(t),i=Go(),t!==null&&!Ye?(Yo(t,e,r),Vn(t,e,r)):(xe&&i&&Co(e),e.flags|=1,$e(t,e,n,r),e.child)}function Wd(t,e,n,i,a){if(Li(e),e.stateNode===null){var r=ta,g=n.contextType;typeof g=="object"&&g!==null&&(r=Je(g)),r=new n(i,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ol,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=i,r.state=e.memoizedState,r.refs={},jo(e),g=n.contextType,r.context=typeof g=="object"&&g!==null?Je(g):ta,r.state=e.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(rl(e,n,g,i),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(g=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),g!==r.state&&ol.enqueueReplaceState(r,r.state,null),Ka(e,i,r,a),Va(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){r=e.stateNode;var H=e.memoizedProps,rt=Bi(n,H);r.props=rt;var Rt=r.context,Ut=n.contextType;g=ta,typeof Ut=="object"&&Ut!==null&&(g=Je(Ut));var qt=n.getDerivedStateFromProps;Ut=typeof qt=="function"||typeof r.getSnapshotBeforeUpdate=="function",H=e.pendingProps!==H,Ut||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(H||Rt!==g)&&Fd(e,r,i,g),li=!1;var Mt=e.memoizedState;r.state=Mt,Ka(e,i,r,a),Va(),Rt=e.memoizedState,H||Mt!==Rt||li?(typeof qt=="function"&&(rl(e,n,qt,i),Rt=e.memoizedState),(rt=li||Ld(e,n,rt,i,Mt,Rt,g))?(Ut||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=Rt),r.props=i,r.state=Rt,r.context=g,i=rt):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{r=e.stateNode,Po(t,e),g=e.memoizedProps,Ut=Bi(n,g),r.props=Ut,qt=e.pendingProps,Mt=r.context,Rt=n.contextType,rt=ta,typeof Rt=="object"&&Rt!==null&&(rt=Je(Rt)),H=n.getDerivedStateFromProps,(Rt=typeof H=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(g!==qt||Mt!==rt)&&Fd(e,r,i,rt),li=!1,Mt=e.memoizedState,r.state=Mt,Ka(e,i,r,a),Va();var Ft=e.memoizedState;g!==qt||Mt!==Ft||li||t!==null&&t.dependencies!==null&&Is(t.dependencies)?(typeof H=="function"&&(rl(e,n,H,i),Ft=e.memoizedState),(Ut=li||Ld(e,n,Ut,i,Mt,Ft,rt)||t!==null&&t.dependencies!==null&&Is(t.dependencies))?(Rt||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,Ft,rt),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,Ft,rt)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||g===t.memoizedProps&&Mt===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&Mt===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=Ft),r.props=i,r.state=Ft,r.context=rt,i=Ut):(typeof r.componentDidUpdate!="function"||g===t.memoizedProps&&Mt===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&Mt===t.memoizedState||(e.flags|=1024),i=!1)}return r=i,or(t,e),i=(e.flags&128)!==0,r||i?(r=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&i?(e.child=zi(e,t.child,null,a),e.child=zi(e,null,n,a)):$e(t,e,n,a),e.memoizedState=r.state,t=e.child):t=Vn(t,e,a),t}function Qd(t,e,n,i){return Ni(),e.flags|=256,$e(t,e,n,i),e.child}var dl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hl(t){return{baseLanes:t,cachePool:Uu()}}function fl(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=mn),t}function Zd(t,e,n){var i=e.pendingProps,a=!1,r=(e.flags&128)!==0,g;if((g=r)||(g=t!==null&&t.memoizedState===null?!1:(He.current&2)!==0),g&&(a=!0,e.flags&=-129),g=(e.flags&32)!==0,e.flags&=-33,t===null){if(xe){if(a?di(e):hi(),(t=je)?(t=rf(t,Cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ai!==null?{id:kn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},n=Du(t),n.return=e,e.child=n,Ze=e,je=null)):t=null,t===null)throw ri(e);return Wl(t)?e.lanes=32:e.lanes=536870912,null}var H=i.children;return i=i.fallback,a?(hi(),a=e.mode,H=lr({mode:"hidden",children:H},a),i=Oi(i,a,n,null),H.return=e,i.return=e,H.sibling=i,e.child=H,i=e.child,i.memoizedState=hl(n),i.childLanes=fl(t,g,n),e.memoizedState=dl,$a(null,i)):(di(e),pl(e,H))}var rt=t.memoizedState;if(rt!==null&&(H=rt.dehydrated,H!==null)){if(r)e.flags&256?(di(e),e.flags&=-257,e=gl(t,e,n)):e.memoizedState!==null?(hi(),e.child=t.child,e.flags|=128,e=null):(hi(),H=i.fallback,a=e.mode,i=lr({mode:"visible",children:i.children},a),H=Oi(H,a,n,null),H.flags|=2,i.return=e,H.return=e,i.sibling=H,e.child=i,zi(e,t.child,null,n),i=e.child,i.memoizedState=hl(n),i.childLanes=fl(t,g,n),e.memoizedState=dl,e=$a(null,i));else if(di(e),Wl(H)){if(g=H.nextSibling&&H.nextSibling.dataset,g)var Rt=g.dgst;g=Rt,i=Error(o(419)),i.stack="",i.digest=g,Ha({value:i,source:null,stack:null}),e=gl(t,e,n)}else if(Ye||aa(t,e,n,!1),g=(n&t.childLanes)!==0,Ye||g){if(g=Le,g!==null&&(i=Pt(g,n),i!==0&&i!==rt.retryLane))throw rt.retryLane=i,Di(t,i),un(g,t,i),cl;Kl(H)||br(),e=gl(t,e,n)}else Kl(H)?(e.flags|=192,e.child=t.child,e=null):(t=rt.treeContext,je=Rn(H.nextSibling),Ze=e,xe=!0,si=null,Cn=!1,t!==null&&ku(e,t),e=pl(e,i.children),e.flags|=4096);return e}return a?(hi(),H=i.fallback,a=e.mode,rt=t.child,Rt=rt.sibling,i=Hn(rt,{mode:"hidden",children:i.children}),i.subtreeFlags=rt.subtreeFlags&65011712,Rt!==null?H=Hn(Rt,H):(H=Oi(H,a,n,null),H.flags|=2),H.return=e,i.return=e,i.sibling=H,e.child=i,$a(null,i),i=e.child,H=t.child.memoizedState,H===null?H=hl(n):(a=H.cachePool,a!==null?(rt=Xe._currentValue,a=a.parent!==rt?{parent:rt,pool:rt}:a):a=Uu(),H={baseLanes:H.baseLanes|n,cachePool:a}),i.memoizedState=H,i.childLanes=fl(t,g,n),e.memoizedState=dl,$a(t.child,i)):(di(e),n=t.child,t=n.sibling,n=Hn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(g=e.deletions,g===null?(e.deletions=[t],e.flags|=16):g.push(t)),e.child=n,e.memoizedState=null,n)}function pl(t,e){return e=lr({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function lr(t,e){return t=hn(22,t,null,e),t.lanes=0,t}function gl(t,e,n){return zi(e,t.child,null,n),t=pl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Jd(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Do(t.return,e,n)}function ml(t,e,n,i,a,r){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a,treeForkCount:r}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=i,g.tail=n,g.tailMode=a,g.treeForkCount=r)}function $d(t,e,n){var i=e.pendingProps,a=i.revealOrder,r=i.tail;i=i.children;var g=He.current,H=(g&2)!==0;if(H?(g=g&1|2,e.flags|=128):g&=1,d(He,g),$e(t,e,i,n),i=xe?Ba:0,!H&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jd(t,n,e);else if(t.tag===19)Jd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&Qs(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),ml(e,!1,a,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Qs(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}ml(e,!0,n,null,r,i);break;case"together":ml(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function Vn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gi|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(aa(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(o(153));if(e.child!==null){for(t=e.child,n=Hn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bl(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Is(t)))}function Ag(t,e,n){switch(e.tag){case 3:J(e,e.stateNode.containerInfo),oi(e,Xe,t.memoizedState.cache),Ni();break;case 27:case 5:pt(e);break;case 4:J(e,e.stateNode.containerInfo);break;case 10:oi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Io(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(di(e),e.flags|=128,null):(n&e.child.childLanes)!==0?Zd(t,e,n):(di(e),t=Vn(t,e,n),t!==null?t.sibling:null);di(e);break;case 19:var a=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(aa(t,e,n,!1),i=(n&e.childLanes)!==0),a){if(i)return $d(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),d(He,He.current),i)break;return null;case 22:return e.lanes=0,Gd(t,e,n,e.pendingProps);case 24:oi(e,Xe,t.memoizedState.cache)}return Vn(t,e,n)}function th(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ye=!0;else{if(!bl(t,n)&&(e.flags&128)===0)return Ye=!1,Ag(t,e,n);Ye=(t.flags&131072)!==0}else Ye=!1,xe&&(e.flags&1048576)!==0&&Nu(e,Ba,e.index);switch(e.lanes=0,e.tag){case 16:t:{var i=e.pendingProps;if(t=ji(e.elementType),e.type=t,typeof t=="function")So(t)?(i=Bi(t,i),e.tag=1,e=Wd(null,e,t,i,n)):(e.tag=0,e=ul(null,e,t,i,n));else{if(t!=null){var a=t.$$typeof;if(a===P){e.tag=11,e=Id(null,e,t,i,n);break t}else if(a===p){e.tag=14,e=qd(null,e,t,i,n);break t}}throw e=ut(t)||t,Error(o(306,e,""))}}return e;case 0:return ul(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,a=Bi(i,e.pendingProps),Wd(t,e,i,a,n);case 3:t:{if(J(e,e.stateNode.containerInfo),t===null)throw Error(o(387));i=e.pendingProps;var r=e.memoizedState;a=r.element,Po(t,e),Ka(e,i,null,n);var g=e.memoizedState;if(i=g.cache,oi(e,Xe,i),i!==r.cache&&Oo(e,[Xe],n,!0),Va(),i=g.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:g.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=Qd(t,e,i,n);break t}else if(i!==a){a=Sn(Error(o(424)),e),Ha(a),e=Qd(t,e,i,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(je=Rn(t.firstChild),Ze=e,xe=!0,si=null,Cn=!0,n=Gu(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ni(),i===a){e=Vn(t,e,n);break t}$e(t,e,i,n)}e=e.child}return e;case 26:return or(t,e),t===null?(n=hf(e.type,null,e.pendingProps,null))?e.memoizedState=n:xe||(n=e.type,t=e.pendingProps,i=Er(q.current).createElement(n),i[Kt]=e,i[ee]=t,tn(i,n,t),We(i),e.stateNode=i):e.memoizedState=hf(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return pt(e),t===null&&xe&&(i=e.stateNode=cf(e.type,e.pendingProps,q.current),Ze=e,Cn=!0,a=je,Ai(e.type)?(Ql=a,je=Rn(i.firstChild)):je=a),$e(t,e,e.pendingProps.children,n),or(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&xe&&((a=i=je)&&(i=Qg(i,e.type,e.pendingProps,Cn),i!==null?(e.stateNode=i,Ze=e,je=Rn(i.firstChild),Cn=!1,a=!0):a=!1),a||ri(e)),pt(e),a=e.type,r=e.pendingProps,g=t!==null?t.memoizedProps:null,i=r.children,Gl(a,r)?i=null:g!==null&&Gl(a,g)&&(e.flags|=32),e.memoizedState!==null&&(a=Xo(t,e,dg,null,null,n),ps._currentValue=a),or(t,e),$e(t,e,i,n),e.child;case 6:return t===null&&xe&&((t=n=je)&&(n=Zg(n,e.pendingProps,Cn),n!==null?(e.stateNode=n,Ze=e,je=null,t=!0):t=!1),t||ri(e)),null;case 13:return Zd(t,e,n);case 4:return J(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=zi(e,null,i,n):$e(t,e,i,n),e.child;case 11:return Id(t,e,e.type,e.pendingProps,n);case 7:return $e(t,e,e.pendingProps,n),e.child;case 8:return $e(t,e,e.pendingProps.children,n),e.child;case 12:return $e(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,oi(e,e.type,i.value),$e(t,e,i.children,n),e.child;case 9:return a=e.type._context,i=e.pendingProps.children,Li(e),a=Je(a),i=i(a),e.flags|=1,$e(t,e,i,n),e.child;case 14:return qd(t,e,e.type,e.pendingProps,n);case 15:return Xd(t,e,e.type,e.pendingProps,n);case 19:return $d(t,e,n);case 31:return vg(t,e,n);case 22:return Gd(t,e,n,e.pendingProps);case 24:return Li(e),i=Je(Xe),t===null?(a=Lo(),a===null&&(a=Le,r=No(),a.pooledCache=r,r.refCount++,r!==null&&(a.pooledCacheLanes|=n),a=r),e.memoizedState={parent:i,cache:a},jo(e),oi(e,Xe,a)):((t.lanes&n)!==0&&(Po(t,e),Ka(e,null,null,n),Va()),a=t.memoizedState,r=e.memoizedState,a.parent!==i?(a={parent:i,cache:i},e.memoizedState=a,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=a),oi(e,Xe,i)):(i=r.cache,oi(e,Xe,i),i!==a.cache&&Oo(e,[Xe],n,!0))),$e(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(o(156,e.tag))}function Kn(t){t.flags|=4}function yl(t,e,n,i,a){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(a&335544128)===a)if(t.stateNode.complete)t.flags|=8192;else if(Rh())t.flags|=8192;else throw Pi=Ys,Fo}else t.flags&=-16777217}function eh(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!bf(e))if(Rh())t.flags|=8192;else throw Pi=Ys,Fo}function cr(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?W():536870912,t.lanes|=e,ma|=e)}function ts(t,e){if(!xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&65011712,i|=a.flags&65011712,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function _g(t,e,n){var i=e.pendingProps;switch(To(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(e),null;case 1:return Pe(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Xn(Xe),it(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ia(e)?Kn(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,wo())),Pe(e),null;case 26:var a=e.type,r=e.memoizedState;return t===null?(Kn(e),r!==null?(Pe(e),eh(e,r)):(Pe(e),yl(e,a,null,i,n))):r?r!==t.memoizedState?(Kn(e),Pe(e),eh(e,r)):(Pe(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Kn(e),Pe(e),yl(e,a,t,i,n)),null;case 27:if(Ct(e),n=q.current,a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Kn(e);else{if(!i){if(e.stateNode===null)throw Error(o(166));return Pe(e),null}t=f.current,ia(e)?Lu(e):(t=cf(a,i,n),e.stateNode=t,Kn(e))}return Pe(e),null;case 5:if(Ct(e),a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Kn(e);else{if(!i){if(e.stateNode===null)throw Error(o(166));return Pe(e),null}if(r=f.current,ia(e))Lu(e);else{var g=Er(q.current);switch(r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?g.createElement("select",{is:i.is}):g.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?g.createElement(a,{is:i.is}):g.createElement(a)}}r[Kt]=e,r[ee]=i;t:for(g=e.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break t;for(;g.sibling===null;){if(g.return===null||g.return===e)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}e.stateNode=r;t:switch(tn(r,a,i),a){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Kn(e)}}return Pe(e),yl(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Kn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(o(166));if(t=q.current,ia(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,a=Ze,a!==null)switch(a.tag){case 27:case 5:i=a.memoizedProps}t[Kt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Zh(t.nodeValue,n)),t||ri(e,!0)}else t=Er(t).createTextNode(i),t[Kt]=e,e.stateNode=t}return Pe(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=ia(e),n!==null){if(t===null){if(!i)throw Error(o(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[Kt]=e}else Ni(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Pe(e),t=!1}else n=wo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(pn(e),e):(pn(e),null);if((e.flags&128)!==0)throw Error(o(558))}return Pe(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(a=ia(e),i!==null&&i.dehydrated!==null){if(t===null){if(!a)throw Error(o(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(o(317));a[Kt]=e}else Ni(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Pe(e),a=!1}else a=wo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),a=!0;if(!a)return e.flags&256?(pn(e),e):(pn(e),null)}return pn(e),(e.flags&128)!==0?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,a=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(a=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),cr(e,e.updateQueue),Pe(e),null);case 4:return it(),t===null&&Bl(e.stateNode.containerInfo),Pe(e),null;case 10:return Xn(e.type),Pe(e),null;case 19:if(T(He),i=e.memoizedState,i===null)return Pe(e),null;if(a=(e.flags&128)!==0,r=i.rendering,r===null)if(a)ts(i,!1);else{if(Be!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(r=Qs(t),r!==null){for(e.flags|=128,ts(i,!1),t=r.updateQueue,e.updateQueue=t,cr(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Mu(n,t),n=n.sibling;return d(He,He.current&1|2),xe&&In(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Ot()>pr&&(e.flags|=128,a=!0,ts(i,!1),e.lanes=4194304)}else{if(!a)if(t=Qs(r),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,cr(e,t),ts(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!xe)return Pe(e),null}else 2*Ot()-i.renderingStartTime>pr&&n!==536870912&&(e.flags|=128,a=!0,ts(i,!1),e.lanes=4194304);i.isBackwards?(r.sibling=e.child,e.child=r):(t=i.last,t!==null?t.sibling=r:e.child=r,i.last=r)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ot(),t.sibling=null,n=He.current,d(He,a?n&1|2:n&1),xe&&In(e,i.treeForkCount),t):(Pe(e),null);case 22:case 23:return pn(e),Ho(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?(n&536870912)!==0&&(e.flags&128)===0&&(Pe(e),e.subtreeFlags&6&&(e.flags|=8192)):Pe(e),n=e.updateQueue,n!==null&&cr(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&T(Fi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Xn(Xe),Pe(e),null;case 25:return null;case 30:return null}throw Error(o(156,e.tag))}function Sg(t,e){switch(To(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xn(Xe),it(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ct(e),null;case 31:if(e.memoizedState!==null){if(pn(e),e.alternate===null)throw Error(o(340));Ni()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(pn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(o(340));Ni()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return T(He),null;case 4:return it(),null;case 10:return Xn(e.type),null;case 22:case 23:return pn(e),Ho(),t!==null&&T(Fi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Xn(Xe),null;case 25:return null;default:return null}}function nh(t,e){switch(To(e),e.tag){case 3:Xn(Xe),it();break;case 26:case 27:case 5:Ct(e);break;case 4:it();break;case 31:e.memoizedState!==null&&pn(e);break;case 13:pn(e);break;case 19:T(He);break;case 10:Xn(e.type);break;case 22:case 23:pn(e),Ho(),t!==null&&T(Fi);break;case 24:Xn(Xe)}}function es(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&t)===t){i=void 0;var r=n.create,g=n.inst;i=r(),g.destroy=i}n=n.next}while(n!==a)}}catch(H){Me(e,e.return,H)}}function fi(t,e,n){try{var i=e.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var r=a.next;i=r;do{if((i.tag&t)===t){var g=i.inst,H=g.destroy;if(H!==void 0){g.destroy=void 0,a=e;var rt=n,Rt=H;try{Rt()}catch(Ut){Me(a,rt,Ut)}}}i=i.next}while(i!==r)}}catch(Ut){Me(e,e.return,Ut)}}function ih(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Vu(e,n)}catch(i){Me(t,t.return,i)}}}function ah(t,e,n){n.props=Bi(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){Me(t,e,i)}}function ns(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(a){Me(t,e,a)}}function Fn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(a){Me(t,e,a)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Me(t,e,a)}else n.current=null}function sh(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(a){Me(t,t.return,a)}}function vl(t,e,n){try{var i=t.stateNode;Xg(i,t.type,n,e),i[ee]=e}catch(a){Me(t,t.return,a)}}function rh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ai(t.type)||t.tag===4}function Al(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||rh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ai(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _l(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Un));else if(i!==4&&(i===27&&Ai(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(_l(t,e,n),t=t.sibling;t!==null;)_l(t,e,n),t=t.sibling}function ur(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&Ai(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(ur(t,e,n),t=t.sibling;t!==null;)ur(t,e,n),t=t.sibling}function oh(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,a=e.attributes;a.length;)e.removeAttributeNode(a[0]);tn(e,i,n),e[Kt]=t,e[ee]=n}catch(r){Me(t,t.return,r)}}var Wn=!1,Ve=!1,Sl=!1,lh=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function xg(t,e){if(t=t.containerInfo,ql=Or,t=Au(t),go(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var g=0,H=-1,rt=-1,Rt=0,Ut=0,qt=t,Mt=null;e:for(;;){for(var Ft;qt!==n||a!==0&&qt.nodeType!==3||(H=g+a),qt!==r||i!==0&&qt.nodeType!==3||(rt=g+i),qt.nodeType===3&&(g+=qt.nodeValue.length),(Ft=qt.firstChild)!==null;)Mt=qt,qt=Ft;for(;;){if(qt===t)break e;if(Mt===n&&++Rt===a&&(H=g),Mt===r&&++Ut===i&&(rt=g),(Ft=qt.nextSibling)!==null)break;qt=Mt,Mt=qt.parentNode}qt=Ft}n=H===-1||rt===-1?null:{start:H,end:rt}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xl={focusedElem:t,selectionRange:n},Or=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){switch(e=Qe,r=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)a=t[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&r!==null){t=void 0,n=e,a=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var se=Bi(n.type,a);t=i.getSnapshotBeforeUpdate(se,r),i.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Me(n,n.return,pe)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Vl(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vl(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}}function ch(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n),i&4&&es(5,n);break;case 1:if(Zn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(g){Me(n,n.return,g)}else{var a=Bi(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(a,e,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Me(n,n.return,g)}}i&64&&ih(n),i&512&&ns(n,n.return);break;case 3:if(Zn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Vu(t,e)}catch(g){Me(n,n.return,g)}}break;case 27:e===null&&i&4&&oh(n);case 26:case 5:Zn(t,n),e===null&&i&4&&sh(n),i&512&&ns(n,n.return);break;case 12:Zn(t,n);break;case 31:Zn(t,n),i&4&&hh(t,n);break;case 13:Zn(t,n),i&4&&fh(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Ng.bind(null,n),Jg(t,n))));break;case 22:if(i=n.memoizedState!==null||Wn,!i){e=e!==null&&e.memoizedState!==null||Ve,a=Wn;var r=Ve;Wn=i,(Ve=e)&&!r?Jn(t,n,(n.subtreeFlags&8772)!==0):Zn(t,n),Wn=a,Ve=r}break;case 30:break;default:Zn(t,n)}}function uh(t){var e=t.alternate;e!==null&&(t.alternate=null,uh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&yn(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ze=null,rn=!1;function Qn(t,e,n){for(n=n.child;n!==null;)dh(t,e,n),n=n.sibling}function dh(t,e,n){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(de,n)}catch{}switch(n.tag){case 26:Ve||Fn(n,e),Qn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ve||Fn(n,e);var i=ze,a=rn;Ai(n.type)&&(ze=n.stateNode,rn=!1),Qn(t,e,n),ds(n.stateNode),ze=i,rn=a;break;case 5:Ve||Fn(n,e);case 6:if(i=ze,a=rn,ze=null,Qn(t,e,n),ze=i,rn=a,ze!==null)if(rn)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(n.stateNode)}catch(r){Me(n,e,r)}else try{ze.removeChild(n.stateNode)}catch(r){Me(n,e,r)}break;case 18:ze!==null&&(rn?(t=ze,af(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Ea(t)):af(ze,n.stateNode));break;case 4:i=ze,a=rn,ze=n.stateNode.containerInfo,rn=!0,Qn(t,e,n),ze=i,rn=a;break;case 0:case 11:case 14:case 15:fi(2,n,e),Ve||fi(4,n,e),Qn(t,e,n);break;case 1:Ve||(Fn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&ah(n,e,i)),Qn(t,e,n);break;case 21:Qn(t,e,n);break;case 22:Ve=(i=Ve)||n.memoizedState!==null,Qn(t,e,n),Ve=i;break;default:Qn(t,e,n)}}function hh(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ea(t)}catch(n){Me(e,e.return,n)}}}function fh(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ea(t)}catch(n){Me(e,e.return,n)}}function Eg(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new lh),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new lh),e;default:throw Error(o(435,t.tag))}}function dr(t,e){var n=Eg(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var a=kg.bind(null,t,i);i.then(a,a)}})}function on(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i],r=t,g=e,H=g;t:for(;H!==null;){switch(H.tag){case 27:if(Ai(H.type)){ze=H.stateNode,rn=!1;break t}break;case 5:ze=H.stateNode,rn=!1;break t;case 3:case 4:ze=H.stateNode.containerInfo,rn=!0;break t}H=H.return}if(ze===null)throw Error(o(160));dh(r,g,a),ze=null,rn=!1,r=a.alternate,r!==null&&(r.return=null),a.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)ph(e,t),e=e.sibling}var On=null;function ph(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(e,t),ln(t),i&4&&(fi(3,t,t.return),es(3,t),fi(5,t,t.return));break;case 1:on(e,t),ln(t),i&512&&(Ve||n===null||Fn(n,n.return)),i&64&&Wn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var a=On;if(on(e,t),ln(t),i&512&&(Ve||n===null||Fn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){t:{i=t.type,n=t.memoizedProps,a=a.ownerDocument||a;e:switch(i){case"title":r=a.getElementsByTagName("title")[0],(!r||r[en]||r[Kt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=a.createElement(i),a.head.insertBefore(r,a.querySelector("head > title"))),tn(r,i,n),r[Kt]=t,We(r),i=r;break t;case"link":var g=gf("link","href",a).get(i+(n.href||""));if(g){for(var H=0;H<g.length;H++)if(r=g[H],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){g.splice(H,1);break e}}r=a.createElement(i),tn(r,i,n),a.head.appendChild(r);break;case"meta":if(g=gf("meta","content",a).get(i+(n.content||""))){for(H=0;H<g.length;H++)if(r=g[H],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){g.splice(H,1);break e}}r=a.createElement(i),tn(r,i,n),a.head.appendChild(r);break;default:throw Error(o(468,i))}r[Kt]=t,We(r),i=r}t.stateNode=i}else mf(a,t.type,t.stateNode);else t.stateNode=pf(a,i,t.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?mf(a,t.type,t.stateNode):pf(a,i,t.memoizedProps)):i===null&&t.stateNode!==null&&vl(t,t.memoizedProps,n.memoizedProps)}break;case 27:on(e,t),ln(t),i&512&&(Ve||n===null||Fn(n,n.return)),n!==null&&i&4&&vl(t,t.memoizedProps,n.memoizedProps);break;case 5:if(on(e,t),ln(t),i&512&&(Ve||n===null||Fn(n,n.return)),t.flags&32){a=t.stateNode;try{Vi(a,"")}catch(se){Me(t,t.return,se)}}i&4&&t.stateNode!=null&&(a=t.memoizedProps,vl(t,a,n!==null?n.memoizedProps:a)),i&1024&&(Sl=!0);break;case 6:if(on(e,t),ln(t),i&4){if(t.stateNode===null)throw Error(o(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(se){Me(t,t.return,se)}}break;case 3:if(Rr=null,a=On,On=Cr(e.containerInfo),on(e,t),On=a,ln(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ea(e.containerInfo)}catch(se){Me(t,t.return,se)}Sl&&(Sl=!1,gh(t));break;case 4:i=On,On=Cr(t.stateNode.containerInfo),on(e,t),ln(t),On=i;break;case 12:on(e,t),ln(t);break;case 31:on(e,t),ln(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,dr(t,i)));break;case 13:on(e,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(fr=Ot()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,dr(t,i)));break;case 22:a=t.memoizedState!==null;var rt=n!==null&&n.memoizedState!==null,Rt=Wn,Ut=Ve;if(Wn=Rt||a,Ve=Ut||rt,on(e,t),Ve=Ut,Wn=Rt,ln(t),i&8192)t:for(e=t.stateNode,e._visibility=a?e._visibility&-2:e._visibility|1,a&&(n===null||rt||Wn||Ve||Hi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){rt=n=e;try{if(r=rt.stateNode,a)g=r.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{H=rt.stateNode;var qt=rt.memoizedProps.style,Mt=qt!=null&&qt.hasOwnProperty("display")?qt.display:null;H.style.display=Mt==null||typeof Mt=="boolean"?"":(""+Mt).trim()}}catch(se){Me(rt,rt.return,se)}}}else if(e.tag===6){if(n===null){rt=e;try{rt.stateNode.nodeValue=a?"":rt.memoizedProps}catch(se){Me(rt,rt.return,se)}}}else if(e.tag===18){if(n===null){rt=e;try{var Ft=rt.stateNode;a?sf(Ft,!0):sf(rt.stateNode,!1)}catch(se){Me(rt,rt.return,se)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,dr(t,n))));break;case 19:on(e,t),ln(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,dr(t,i)));break;case 30:break;case 21:break;default:on(e,t),ln(t)}}function ln(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(rh(i)){n=i;break}i=i.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var a=n.stateNode,r=Al(t);ur(t,r,a);break;case 5:var g=n.stateNode;n.flags&32&&(Vi(g,""),n.flags&=-33);var H=Al(t);ur(t,H,g);break;case 3:case 4:var rt=n.stateNode.containerInfo,Rt=Al(t);_l(t,Rt,rt);break;default:throw Error(o(161))}}catch(Ut){Me(t,t.return,Ut)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;gh(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Zn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)ch(t,e.alternate,e),e=e.sibling}function Hi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:fi(4,e,e.return),Hi(e);break;case 1:Fn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&ah(e,e.return,n),Hi(e);break;case 27:ds(e.stateNode);case 26:case 5:Fn(e,e.return),Hi(e);break;case 22:e.memoizedState===null&&Hi(e);break;case 30:Hi(e);break;default:Hi(e)}t=t.sibling}}function Jn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,a=t,r=e,g=r.flags;switch(r.tag){case 0:case 11:case 15:Jn(a,r,n),es(4,r);break;case 1:if(Jn(a,r,n),i=r,a=i.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(Rt){Me(i,i.return,Rt)}if(i=r,a=i.updateQueue,a!==null){var H=i.stateNode;try{var rt=a.shared.hiddenCallbacks;if(rt!==null)for(a.shared.hiddenCallbacks=null,a=0;a<rt.length;a++)Yu(rt[a],H)}catch(Rt){Me(i,i.return,Rt)}}n&&g&64&&ih(r),ns(r,r.return);break;case 27:oh(r);case 26:case 5:Jn(a,r,n),n&&i===null&&g&4&&sh(r),ns(r,r.return);break;case 12:Jn(a,r,n);break;case 31:Jn(a,r,n),n&&g&4&&hh(a,r);break;case 13:Jn(a,r,n),n&&g&4&&fh(a,r);break;case 22:r.memoizedState===null&&Jn(a,r,n),ns(r,r.return);break;case 30:break;default:Jn(a,r,n)}e=e.sibling}}function xl(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ia(n))}function El(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ia(t))}function Nn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mh(t,e,n,i),e=e.sibling}function mh(t,e,n,i){var a=e.flags;switch(e.tag){case 0:case 11:case 15:Nn(t,e,n,i),a&2048&&es(9,e);break;case 1:Nn(t,e,n,i);break;case 3:Nn(t,e,n,i),a&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ia(t)));break;case 12:if(a&2048){Nn(t,e,n,i),t=e.stateNode;try{var r=e.memoizedProps,g=r.id,H=r.onPostCommit;typeof H=="function"&&H(g,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(rt){Me(e,e.return,rt)}}else Nn(t,e,n,i);break;case 31:Nn(t,e,n,i);break;case 13:Nn(t,e,n,i);break;case 23:break;case 22:r=e.stateNode,g=e.alternate,e.memoizedState!==null?r._visibility&2?Nn(t,e,n,i):is(t,e):r._visibility&2?Nn(t,e,n,i):(r._visibility|=2,fa(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),a&2048&&xl(g,e);break;case 24:Nn(t,e,n,i),a&2048&&El(e.alternate,e);break;default:Nn(t,e,n,i)}}function fa(t,e,n,i,a){for(a=a&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var r=t,g=e,H=n,rt=i,Rt=g.flags;switch(g.tag){case 0:case 11:case 15:fa(r,g,H,rt,a),es(8,g);break;case 23:break;case 22:var Ut=g.stateNode;g.memoizedState!==null?Ut._visibility&2?fa(r,g,H,rt,a):is(r,g):(Ut._visibility|=2,fa(r,g,H,rt,a)),a&&Rt&2048&&xl(g.alternate,g);break;case 24:fa(r,g,H,rt,a),a&&Rt&2048&&El(g.alternate,g);break;default:fa(r,g,H,rt,a)}e=e.sibling}}function is(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,a=i.flags;switch(i.tag){case 22:is(n,i),a&2048&&xl(i.alternate,i);break;case 24:is(n,i),a&2048&&El(i.alternate,i);break;default:is(n,i)}e=e.sibling}}var as=8192;function pa(t,e,n){if(t.subtreeFlags&as)for(t=t.child;t!==null;)bh(t,e,n),t=t.sibling}function bh(t,e,n){switch(t.tag){case 26:pa(t,e,n),t.flags&as&&t.memoizedState!==null&&um(n,On,t.memoizedState,t.memoizedProps);break;case 5:pa(t,e,n);break;case 3:case 4:var i=On;On=Cr(t.stateNode.containerInfo),pa(t,e,n),On=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=as,as=16777216,pa(t,e,n),as=i):pa(t,e,n));break;default:pa(t,e,n)}}function yh(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ss(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Qe=i,Ah(i,t)}yh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vh(t),t=t.sibling}function vh(t){switch(t.tag){case 0:case 11:case 15:ss(t),t.flags&2048&&fi(9,t,t.return);break;case 3:ss(t);break;case 12:ss(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,hr(t)):ss(t);break;default:ss(t)}}function hr(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Qe=i,Ah(i,t)}yh(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:fi(8,e,e.return),hr(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,hr(e));break;default:hr(e)}t=t.sibling}}function Ah(t,e){for(;Qe!==null;){var n=Qe;switch(n.tag){case 0:case 11:case 15:fi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ia(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Qe=i;else t:for(n=t;Qe!==null;){i=Qe;var a=i.sibling,r=i.return;if(uh(i),i===n){Qe=null;break t}if(a!==null){a.return=r,Qe=a;break t}Qe=r}}}var Cg={getCacheForType:function(t){var e=Je(Xe),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Je(Xe).controller.signal}},Tg=typeof WeakMap=="function"?WeakMap:Map,Re=0,Le=null,ve=null,_e=0,we=0,gn=null,pi=!1,ga=!1,Cl=!1,$n=0,Be=0,gi=0,Ii=0,Tl=0,mn=0,ma=0,rs=null,cn=null,Rl=!1,fr=0,_h=0,pr=1/0,gr=null,mi=null,Ke=0,bi=null,ba=null,ti=0,wl=0,Ml=null,Sh=null,os=0,Dl=null;function bn(){return(Re&2)!==0&&_e!==0?_e&-_e:B.T!==null?jl():Xt()}function xh(){if(mn===0)if((_e&536870912)===0||xe){var t=tt;tt<<=1,(tt&3932160)===0&&(tt=262144),mn=t}else mn=536870912;return t=fn.current,t!==null&&(t.flags|=32),mn}function un(t,e,n){(t===Le&&(we===2||we===9)||t.cancelPendingCommit!==null)&&(ya(t,0),yi(t,_e,mn,!1)),at(t,n),((Re&2)===0||t!==Le)&&(t===Le&&((Re&2)===0&&(Ii|=n),Be===4&&yi(t,_e,mn,!1)),jn(t))}function Eh(t,e,n){if((Re&6)!==0)throw Error(o(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Jt(t,e),a=i?Mg(t,e):Nl(t,e,!0),r=i;do{if(a===0){ga&&!i&&yi(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!Rg(n)){a=Nl(t,e,!1),r=!1;continue}if(a===2){if(r=e,t.errorRecoveryDisabledLanes&r)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){e=g;t:{var H=t;a=rs;var rt=H.current.memoizedState.isDehydrated;if(rt&&(ya(H,g).flags|=256),g=Nl(H,g,!1),g!==2){if(Cl&&!rt){H.errorRecoveryDisabledLanes|=r,Ii|=r,a=4;break t}r=cn,cn=a,r!==null&&(cn===null?cn=r:cn.push.apply(cn,r))}a=g}if(r=!1,a!==2)continue}}if(a===1){ya(t,0),yi(t,e,0,!0);break}t:{switch(i=t,r=a,r){case 0:case 1:throw Error(o(345));case 4:if((e&4194048)!==e)break;case 6:yi(i,e,mn,!pi);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((e&62914560)===e&&(a=fr+300-Ot(),10<a)){if(yi(i,e,mn,!pi),Vt(i,0,!0)!==0)break t;ti=e,i.timeoutHandle=ef(Ch.bind(null,i,n,cn,gr,Rl,e,mn,Ii,ma,pi,r,"Throttled",-0,0),a);break t}Ch(i,n,cn,gr,Rl,e,mn,Ii,ma,pi,r,null,-0,0)}}break}while(!0);jn(t)}function Ch(t,e,n,i,a,r,g,H,rt,Rt,Ut,qt,Mt,Ft){if(t.timeoutHandle=-1,qt=e.subtreeFlags,qt&8192||(qt&16785408)===16785408){qt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},bh(e,r,qt);var se=(r&62914560)===r?fr-Ot():(r&4194048)===r?_h-Ot():0;if(se=dm(qt,se),se!==null){ti=r,t.cancelPendingCommit=se(kh.bind(null,t,e,r,n,i,a,g,H,rt,Ut,qt,null,Mt,Ft)),yi(t,r,g,!Rt);return}}kh(t,e,r,n,i,a,g,H,rt)}function Rg(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var a=n[i],r=a.getSnapshot;a=a.value;try{if(!dn(r(),a))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yi(t,e,n,i){e&=~Tl,e&=~Ii,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var a=e;0<a;){var r=31-ht(a),g=1<<r;i[r]=-1,a&=~g}n!==0&&St(t,n,e)}function mr(){return(Re&6)===0?(ls(0),!1):!0}function Ol(){if(ve!==null){if(we===0)var t=ve.return;else t=ve,qn=ki=null,Vo(t),la=null,Xa=0,t=ve;for(;t!==null;)nh(t.alternate,t),t=t.return;ve=null}}function ya(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Vg(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),ti=0,Ol(),Le=t,ve=n=Hn(t.current,null),_e=e,we=0,gn=null,pi=!1,ga=Jt(t,e),Cl=!1,ma=mn=Tl=Ii=gi=Be=0,cn=rs=null,Rl=!1,(e&8)!==0&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var a=31-ht(i),r=1<<a;e|=t[a],i&=~r}return $n=e,Ps(),n}function Th(t,e){be=null,B.H=Ja,e===oa||e===Gs?(e=Iu(),we=3):e===Fo?(e=Iu(),we=4):we=e===cl?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,gn=e,ve===null&&(Be=1,sr(t,Sn(e,t.current)))}function Rh(){var t=fn.current;return t===null?!0:(_e&4194048)===_e?Tn===null:(_e&62914560)===_e||(_e&536870912)!==0?t===Tn:!1}function wh(){var t=B.H;return B.H=Ja,t===null?Ja:t}function Mh(){var t=B.A;return B.A=Cg,t}function br(){Be=4,pi||(_e&4194048)!==_e&&fn.current!==null||(ga=!0),(gi&134217727)===0&&(Ii&134217727)===0||Le===null||yi(Le,_e,mn,!1)}function Nl(t,e,n){var i=Re;Re|=2;var a=wh(),r=Mh();(Le!==t||_e!==e)&&(gr=null,ya(t,e)),e=!1;var g=Be;t:do try{if(we!==0&&ve!==null){var H=ve,rt=gn;switch(we){case 8:Ol(),g=6;break t;case 3:case 2:case 9:case 6:fn.current===null&&(e=!0);var Rt=we;if(we=0,gn=null,va(t,H,rt,Rt),n&&ga){g=0;break t}break;default:Rt=we,we=0,gn=null,va(t,H,rt,Rt)}}wg(),g=Be;break}catch(Ut){Th(t,Ut)}while(!0);return e&&t.shellSuspendCounter++,qn=ki=null,Re=i,B.H=a,B.A=r,ve===null&&(Le=null,_e=0,Ps()),g}function wg(){for(;ve!==null;)Dh(ve)}function Mg(t,e){var n=Re;Re|=2;var i=wh(),a=Mh();Le!==t||_e!==e?(gr=null,pr=Ot()+500,ya(t,e)):ga=Jt(t,e);t:do try{if(we!==0&&ve!==null){e=ve;var r=gn;e:switch(we){case 1:we=0,gn=null,va(t,e,r,1);break;case 2:case 9:if(Bu(r)){we=0,gn=null,Oh(e);break}e=function(){we!==2&&we!==9||Le!==t||(we=7),jn(t)},r.then(e,e);break t;case 3:we=7;break t;case 4:we=5;break t;case 7:Bu(r)?(we=0,gn=null,Oh(e)):(we=0,gn=null,va(t,e,r,7));break;case 5:var g=null;switch(ve.tag){case 26:g=ve.memoizedState;case 5:case 27:var H=ve;if(g?bf(g):H.stateNode.complete){we=0,gn=null;var rt=H.sibling;if(rt!==null)ve=rt;else{var Rt=H.return;Rt!==null?(ve=Rt,yr(Rt)):ve=null}break e}}we=0,gn=null,va(t,e,r,5);break;case 6:we=0,gn=null,va(t,e,r,6);break;case 8:Ol(),Be=6;break t;default:throw Error(o(462))}}Dg();break}catch(Ut){Th(t,Ut)}while(!0);return qn=ki=null,B.H=i,B.A=a,Re=n,ve!==null?0:(Le=null,_e=0,Ps(),Be)}function Dg(){for(;ve!==null&&!wt();)Dh(ve)}function Dh(t){var e=th(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?yr(t):ve=e}function Oh(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Kd(n,e,e.pendingProps,e.type,void 0,_e);break;case 11:e=Kd(n,e,e.pendingProps,e.type.render,e.ref,_e);break;case 5:Vo(e);default:nh(n,e),e=ve=Mu(e,$n),e=th(n,e,$n)}t.memoizedProps=t.pendingProps,e===null?yr(t):ve=e}function va(t,e,n,i){qn=ki=null,Vo(e),la=null,Xa=0;var a=e.return;try{if(yg(t,a,e,n,_e)){Be=1,sr(t,Sn(n,t.current)),ve=null;return}}catch(r){if(a!==null)throw ve=a,r;Be=1,sr(t,Sn(n,t.current)),ve=null;return}e.flags&32768?(xe||i===1?t=!0:ga||(_e&536870912)!==0?t=!1:(pi=t=!0,(i===2||i===9||i===3||i===6)&&(i=fn.current,i!==null&&i.tag===13&&(i.flags|=16384))),Nh(e,t)):yr(e)}function yr(t){var e=t;do{if((e.flags&32768)!==0){Nh(e,pi);return}t=e.return;var n=_g(e.alternate,e,$n);if(n!==null){ve=n;return}if(e=e.sibling,e!==null){ve=e;return}ve=e=t}while(e!==null);Be===0&&(Be=5)}function Nh(t,e){do{var n=Sg(t.alternate,t);if(n!==null){n.flags&=32767,ve=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ve=t;return}ve=t=n}while(t!==null);Be=6,ve=null}function kh(t,e,n,i,a,r,g,H,rt){t.cancelPendingCommit=null;do vr();while(Ke!==0);if((Re&6)!==0)throw Error(o(327));if(e!==null){if(e===t.current)throw Error(o(177));if(r=e.lanes|e.childLanes,r|=Ao,bt(t,n,r,g,H,rt),t===Le&&(ve=Le=null,_e=0),ba=e,bi=t,ti=n,wl=r,Ml=a,Sh=i,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Lg(ae,function(){return zh(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||i){i=B.T,B.T=null,a=Y.p,Y.p=2,g=Re,Re|=4;try{xg(t,e,n)}finally{Re=g,Y.p=a,B.T=i}}Ke=1,Lh(),Fh(),jh()}}function Lh(){if(Ke===1){Ke=0;var t=bi,e=ba,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=B.T,B.T=null;var i=Y.p;Y.p=2;var a=Re;Re|=4;try{ph(e,t);var r=Xl,g=Au(t.containerInfo),H=r.focusedElem,rt=r.selectionRange;if(g!==H&&H&&H.ownerDocument&&vu(H.ownerDocument.documentElement,H)){if(rt!==null&&go(H)){var Rt=rt.start,Ut=rt.end;if(Ut===void 0&&(Ut=Rt),"selectionStart"in H)H.selectionStart=Rt,H.selectionEnd=Math.min(Ut,H.value.length);else{var qt=H.ownerDocument||document,Mt=qt&&qt.defaultView||window;if(Mt.getSelection){var Ft=Mt.getSelection(),se=H.textContent.length,pe=Math.min(rt.start,se),ke=rt.end===void 0?pe:Math.min(rt.end,se);!Ft.extend&&pe>ke&&(g=ke,ke=pe,pe=g);var _t=yu(H,pe),dt=yu(H,ke);if(_t&&dt&&(Ft.rangeCount!==1||Ft.anchorNode!==_t.node||Ft.anchorOffset!==_t.offset||Ft.focusNode!==dt.node||Ft.focusOffset!==dt.offset)){var Tt=qt.createRange();Tt.setStart(_t.node,_t.offset),Ft.removeAllRanges(),pe>ke?(Ft.addRange(Tt),Ft.extend(dt.node,dt.offset)):(Tt.setEnd(dt.node,dt.offset),Ft.addRange(Tt))}}}}for(qt=[],Ft=H;Ft=Ft.parentNode;)Ft.nodeType===1&&qt.push({element:Ft,left:Ft.scrollLeft,top:Ft.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<qt.length;H++){var Ht=qt[H];Ht.element.scrollLeft=Ht.left,Ht.element.scrollTop=Ht.top}}Or=!!ql,Xl=ql=null}finally{Re=a,Y.p=i,B.T=n}}t.current=e,Ke=2}}function Fh(){if(Ke===2){Ke=0;var t=bi,e=ba,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=B.T,B.T=null;var i=Y.p;Y.p=2;var a=Re;Re|=4;try{ch(t,e.alternate,e)}finally{Re=a,Y.p=i,B.T=n}}Ke=3}}function jh(){if(Ke===4||Ke===3){Ke=0,zt();var t=bi,e=ba,n=ti,i=Sh;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ke=5:(Ke=0,ba=bi=null,Ph(t,t.pendingLanes));var a=t.pendingLanes;if(a===0&&(mi=null),Zt(n),e=e.stateNode,he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(de,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=B.T,a=Y.p,Y.p=2,B.T=null;try{for(var r=t.onRecoverableError,g=0;g<i.length;g++){var H=i[g];r(H.value,{componentStack:H.stack})}}finally{B.T=e,Y.p=a}}(ti&3)!==0&&vr(),jn(t),a=t.pendingLanes,(n&261930)!==0&&(a&42)!==0?t===Dl?os++:(os=0,Dl=t):os=0,ls(0)}}function Ph(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ia(e)))}function vr(){return Lh(),Fh(),jh(),zh()}function zh(){if(Ke!==5)return!1;var t=bi,e=wl;wl=0;var n=Zt(ti),i=B.T,a=Y.p;try{Y.p=32>n?32:n,B.T=null,n=Ml,Ml=null;var r=bi,g=ti;if(Ke=0,ba=bi=null,ti=0,(Re&6)!==0)throw Error(o(331));var H=Re;if(Re|=4,vh(r.current),mh(r,r.current,g,n),Re=H,ls(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(de,r)}catch{}return!0}finally{Y.p=a,B.T=i,Ph(t,e)}}function Uh(t,e,n){e=Sn(n,e),e=ll(t.stateNode,e,2),t=ui(t,e,2),t!==null&&(at(t,2),jn(t))}function Me(t,e,n){if(t.tag===3)Uh(t,t,n);else for(;e!==null;){if(e.tag===3){Uh(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(mi===null||!mi.has(i))){t=Sn(n,t),n=Bd(2),i=ui(e,n,2),i!==null&&(Hd(n,i,e,t),at(i,2),jn(i));break}}e=e.return}}function kl(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Tg;var a=new Set;i.set(e,a)}else a=i.get(e),a===void 0&&(a=new Set,i.set(e,a));a.has(n)||(Cl=!0,a.add(n),t=Og.bind(null,t,e,n),e.then(t,t))}function Og(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Le===t&&(_e&n)===n&&(Be===4||Be===3&&(_e&62914560)===_e&&300>Ot()-fr?(Re&2)===0&&ya(t,0):Tl|=n,ma===_e&&(ma=0)),jn(t)}function Bh(t,e){e===0&&(e=W()),t=Di(t,e),t!==null&&(at(t,e),jn(t))}function Ng(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Bh(t,n)}function kg(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(o(314))}i!==null&&i.delete(e),Bh(t,n)}function Lg(t,e){return ot(t,e)}var Ar=null,Aa=null,Ll=!1,_r=!1,Fl=!1,vi=0;function jn(t){t!==Aa&&t.next===null&&(Aa===null?Ar=Aa=t:Aa=Aa.next=t),_r=!0,Ll||(Ll=!0,jg())}function ls(t,e){if(!Fl&&_r){Fl=!0;do for(var n=!1,i=Ar;i!==null;){if(t!==0){var a=i.pendingLanes;if(a===0)var r=0;else{var g=i.suspendedLanes,H=i.pingedLanes;r=(1<<31-ht(42|t)+1)-1,r&=a&~(g&~H),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Xh(i,r))}else r=_e,r=Vt(i,i===Le?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(r&3)===0||Jt(i,r)||(n=!0,Xh(i,r));i=i.next}while(n);Fl=!1}}function Fg(){Hh()}function Hh(){_r=Ll=!1;var t=0;vi!==0&&Yg()&&(t=vi);for(var e=Ot(),n=null,i=Ar;i!==null;){var a=i.next,r=Ih(i,e);r===0?(i.next=null,n===null?Ar=a:n.next=a,a===null&&(Aa=n)):(n=i,(t!==0||(r&3)!==0)&&(_r=!0)),i=a}Ke!==0&&Ke!==5||ls(t),vi!==0&&(vi=0)}function Ih(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var g=31-ht(r),H=1<<g,rt=a[g];rt===-1?((H&n)===0||(H&i)!==0)&&(a[g]=Yt(H,e)):rt<=e&&(t.expiredLanes|=H),r&=~H}if(e=Le,n=_e,n=Vt(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(we===2||we===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&gt(i),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||Jt(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&gt(i),Zt(n)){case 2:case 8:n=It;break;case 32:n=ae;break;case 268435456:n=fe;break;default:n=ae}return i=qh.bind(null,t),n=ot(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&gt(i),t.callbackPriority=2,t.callbackNode=null,2}function qh(t,e){if(Ke!==0&&Ke!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(vr()&&t.callbackNode!==n)return null;var i=_e;return i=Vt(t,t===Le?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Eh(t,i,e),Ih(t,Ot()),t.callbackNode!=null&&t.callbackNode===n?qh.bind(null,t):null)}function Xh(t,e){if(vr())return null;Eh(t,e,!0)}function jg(){Kg(function(){(Re&6)!==0?ot(Gt,Fg):Hh()})}function jl(){if(vi===0){var t=sa;t===0&&(t=ce,ce<<=1,(ce&261888)===0&&(ce=256)),vi=t}return vi}function Gh(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ms(""+t)}function Yh(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Pg(t,e,n,i,a){if(e==="submit"&&n&&n.stateNode===a){var r=Gh((a[ee]||null).action),g=i.submitter;g&&(e=(e=g[ee]||null)?Gh(e.formAction):g.getAttribute("formAction"),e!==null&&(r=e,g=null));var H=new ks("action","action",null,i,a);t.push({event:H,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(vi!==0){var rt=g?Yh(a,g):new FormData(a);nl(n,{pending:!0,data:rt,method:a.method,action:r},null,rt)}}else typeof r=="function"&&(H.preventDefault(),rt=g?Yh(a,g):new FormData(a),nl(n,{pending:!0,data:rt,method:a.method,action:r},r,rt))},currentTarget:a}]})}}for(var Pl=0;Pl<vo.length;Pl++){var zl=vo[Pl],zg=zl.toLowerCase(),Ug=zl[0].toUpperCase()+zl.slice(1);Dn(zg,"on"+Ug)}Dn(xu,"onAnimationEnd"),Dn(Eu,"onAnimationIteration"),Dn(Cu,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(eg,"onTransitionRun"),Dn(ng,"onTransitionStart"),Dn(ig,"onTransitionCancel"),Dn(Tu,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cs));function Vh(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],a=i.event;i=i.listeners;t:{var r=void 0;if(e)for(var g=i.length-1;0<=g;g--){var H=i[g],rt=H.instance,Rt=H.currentTarget;if(H=H.listener,rt!==r&&a.isPropagationStopped())break t;r=H,a.currentTarget=Rt;try{r(a)}catch(Ut){js(Ut)}a.currentTarget=null,r=rt}else for(g=0;g<i.length;g++){if(H=i[g],rt=H.instance,Rt=H.currentTarget,H=H.listener,rt!==r&&a.isPropagationStopped())break t;r=H,a.currentTarget=Rt;try{r(a)}catch(Ut){js(Ut)}a.currentTarget=null,r=rt}}}}function Ae(t,e){var n=e[me];n===void 0&&(n=e[me]=new Set);var i=t+"__bubble";n.has(i)||(Kh(e,t,2,!1),n.add(i))}function Ul(t,e,n){var i=0;e&&(i|=4),Kh(n,t,i,e)}var Sr="_reactListening"+Math.random().toString(36).slice(2);function Bl(t){if(!t[Sr]){t[Sr]=!0,Hc.forEach(function(n){n!=="selectionchange"&&(Bg.has(n)||Ul(n,!1,t),Ul(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sr]||(e[Sr]=!0,Ul("selectionchange",!1,e))}}function Kh(t,e,n,i){switch(Ef(e)){case 2:var a=pm;break;case 8:a=gm;break;default:a=ec}n=a.bind(null,e,n,t),a=void 0,!so||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),i?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function Hl(t,e,n,i,a){var r=i;if((e&1)===0&&(e&2)===0&&i!==null)t:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var H=i.stateNode.containerInfo;if(H===a)break;if(g===4)for(g=i.return;g!==null;){var rt=g.tag;if((rt===3||rt===4)&&g.stateNode.containerInfo===a)return;g=g.return}for(;H!==null;){if(g=nn(H),g===null)return;if(rt=g.tag,rt===5||rt===6||rt===26||rt===27){i=r=g;continue t}H=H.parentNode}}i=i.return}$c(function(){var Rt=r,Ut=io(n),qt=[];t:{var Mt=Ru.get(t);if(Mt!==void 0){var Ft=ks,se=t;switch(t){case"keypress":if(Os(n)===0)break t;case"keydown":case"keyup":Ft=kp;break;case"focusin":se="focus",Ft=co;break;case"focusout":se="blur",Ft=co;break;case"beforeblur":case"afterblur":Ft=co;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ft=nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ft=_p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ft=jp;break;case xu:case Eu:case Cu:Ft=Ep;break;case Tu:Ft=zp;break;case"scroll":case"scrollend":Ft=vp;break;case"wheel":Ft=Bp;break;case"copy":case"cut":case"paste":Ft=Tp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ft=au;break;case"toggle":case"beforetoggle":Ft=Ip}var pe=(e&4)!==0,ke=!pe&&(t==="scroll"||t==="scrollend"),_t=pe?Mt!==null?Mt+"Capture":null:Mt;pe=[];for(var dt=Rt,Tt;dt!==null;){var Ht=dt;if(Tt=Ht.stateNode,Ht=Ht.tag,Ht!==5&&Ht!==26&&Ht!==27||Tt===null||_t===null||(Ht=Oa(dt,_t),Ht!=null&&pe.push(us(dt,Ht,Tt))),ke)break;dt=dt.return}0<pe.length&&(Mt=new Ft(Mt,se,null,n,Ut),qt.push({event:Mt,listeners:pe}))}}if((e&7)===0){t:{if(Mt=t==="mouseover"||t==="pointerover",Ft=t==="mouseout"||t==="pointerout",Mt&&n!==no&&(se=n.relatedTarget||n.fromElement)&&(nn(se)||se[le]))break t;if((Ft||Mt)&&(Mt=Ut.window===Ut?Ut:(Mt=Ut.ownerDocument)?Mt.defaultView||Mt.parentWindow:window,Ft?(se=n.relatedTarget||n.toElement,Ft=Rt,se=se?nn(se):null,se!==null&&(ke=L(se),pe=se.tag,se!==ke||pe!==5&&pe!==27&&pe!==6)&&(se=null)):(Ft=null,se=Rt),Ft!==se)){if(pe=nu,Ht="onMouseLeave",_t="onMouseEnter",dt="mouse",(t==="pointerout"||t==="pointerover")&&(pe=au,Ht="onPointerLeave",_t="onPointerEnter",dt="pointer"),ke=Ft==null?Mt:Da(Ft),Tt=se==null?Mt:Da(se),Mt=new pe(Ht,dt+"leave",Ft,n,Ut),Mt.target=ke,Mt.relatedTarget=Tt,Ht=null,nn(Ut)===Rt&&(pe=new pe(_t,dt+"enter",se,n,Ut),pe.target=Tt,pe.relatedTarget=ke,Ht=pe),ke=Ht,Ft&&se)e:{for(pe=Hg,_t=Ft,dt=se,Tt=0,Ht=_t;Ht;Ht=pe(Ht))Tt++;Ht=0;for(var ue=dt;ue;ue=pe(ue))Ht++;for(;0<Tt-Ht;)_t=pe(_t),Tt--;for(;0<Ht-Tt;)dt=pe(dt),Ht--;for(;Tt--;){if(_t===dt||dt!==null&&_t===dt.alternate){pe=_t;break e}_t=pe(_t),dt=pe(dt)}pe=null}else pe=null;Ft!==null&&Wh(qt,Mt,Ft,pe,!1),se!==null&&ke!==null&&Wh(qt,ke,se,pe,!0)}}t:{if(Mt=Rt?Da(Rt):window,Ft=Mt.nodeName&&Mt.nodeName.toLowerCase(),Ft==="select"||Ft==="input"&&Mt.type==="file")var Ce=hu;else if(uu(Mt))if(fu)Ce=Jp;else{Ce=Qp;var oe=Wp}else Ft=Mt.nodeName,!Ft||Ft.toLowerCase()!=="input"||Mt.type!=="checkbox"&&Mt.type!=="radio"?Rt&&eo(Rt.elementType)&&(Ce=hu):Ce=Zp;if(Ce&&(Ce=Ce(t,Rt))){du(qt,Ce,n,Ut);break t}oe&&oe(t,Mt,Rt),t==="focusout"&&Rt&&Mt.type==="number"&&Rt.memoizedProps.value!=null&&to(Mt,"number",Mt.value)}switch(oe=Rt?Da(Rt):window,t){case"focusin":(uu(oe)||oe.contentEditable==="true")&&(Zi=oe,mo=Rt,Ua=null);break;case"focusout":Ua=mo=Zi=null;break;case"mousedown":bo=!0;break;case"contextmenu":case"mouseup":case"dragend":bo=!1,_u(qt,n,Ut);break;case"selectionchange":if(tg)break;case"keydown":case"keyup":_u(qt,n,Ut)}var ye;if(ho)t:{switch(t){case"compositionstart":var Se="onCompositionStart";break t;case"compositionend":Se="onCompositionEnd";break t;case"compositionupdate":Se="onCompositionUpdate";break t}Se=void 0}else Qi?lu(t,n)&&(Se="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Se="onCompositionStart");Se&&(su&&n.locale!=="ko"&&(Qi||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Qi&&(ye=tu()):(ii=Ut,ro="value"in ii?ii.value:ii.textContent,Qi=!0)),oe=xr(Rt,Se),0<oe.length&&(Se=new iu(Se,t,null,n,Ut),qt.push({event:Se,listeners:oe}),ye?Se.data=ye:(ye=cu(n),ye!==null&&(Se.data=ye)))),(ye=Xp?Gp(t,n):Yp(t,n))&&(Se=xr(Rt,"onBeforeInput"),0<Se.length&&(oe=new iu("onBeforeInput","beforeinput",null,n,Ut),qt.push({event:oe,listeners:Se}),oe.data=ye)),Pg(qt,t,Rt,n,Ut)}Vh(qt,e)})}function us(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xr(t,e){for(var n=e+"Capture",i=[];t!==null;){var a=t,r=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||r===null||(a=Oa(t,n),a!=null&&i.unshift(us(t,a,r)),a=Oa(t,e),a!=null&&i.push(us(t,a,r))),t.tag===3)return i;t=t.return}return[]}function Hg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wh(t,e,n,i,a){for(var r=e._reactName,g=[];n!==null&&n!==i;){var H=n,rt=H.alternate,Rt=H.stateNode;if(H=H.tag,rt!==null&&rt===i)break;H!==5&&H!==26&&H!==27||Rt===null||(rt=Rt,a?(Rt=Oa(n,r),Rt!=null&&g.unshift(us(n,Rt,rt))):a||(Rt=Oa(n,r),Rt!=null&&g.push(us(n,Rt,rt)))),n=n.return}g.length!==0&&t.push({event:e,listeners:g})}var Ig=/\r\n?/g,qg=/\u0000|\uFFFD/g;function Qh(t){return(typeof t=="string"?t:""+t).replace(Ig,`
`).replace(qg,"")}function Zh(t,e){return e=Qh(e),Qh(t)===e}function Ne(t,e,n,i,a,r){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Vi(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Vi(t,""+i);break;case"className":Rs(t,"class",i);break;case"tabIndex":Rs(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Rs(t,n,i);break;case"style":Zc(t,i,r);break;case"data":if(e!=="object"){Rs(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Ms(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&Ne(t,e,"name",a.name,a,null),Ne(t,e,"formEncType",a.formEncType,a,null),Ne(t,e,"formMethod",a.formMethod,a,null),Ne(t,e,"formTarget",a.formTarget,a,null)):(Ne(t,e,"encType",a.encType,a,null),Ne(t,e,"method",a.method,a,null),Ne(t,e,"target",a.target,a,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Ms(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Un);break;case"onScroll":i!=null&&Ae("scroll",t);break;case"onScrollEnd":i!=null&&Ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Ms(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":Ae("beforetoggle",t),Ae("toggle",t),Ts(t,"popover",i);break;case"xlinkActuate":zn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":zn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":zn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":zn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":zn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":zn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":zn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":zn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":zn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ts(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=bp.get(n)||n,Ts(t,n,i))}}function Il(t,e,n,i,a,r){switch(n){case"style":Zc(t,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Vi(t,i):(typeof i=="number"||typeof i=="bigint")&&Vi(t,""+i);break;case"onScroll":i!=null&&Ae("scroll",t);break;case"onScrollEnd":i!=null&&Ae("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ic.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),e=n.slice(2,a?n.length-7:void 0),r=t[ee]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,a),typeof i=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,a);break t}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Ts(t,n,i)}}}function tn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",t),Ae("load",t);var i=!1,a=!1,r;for(r in n)if(n.hasOwnProperty(r)){var g=n[r];if(g!=null)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:Ne(t,e,r,g,n,null)}}a&&Ne(t,e,"srcSet",n.srcSet,n,null),i&&Ne(t,e,"src",n.src,n,null);return;case"input":Ae("invalid",t);var H=r=g=a=null,rt=null,Rt=null;for(i in n)if(n.hasOwnProperty(i)){var Ut=n[i];if(Ut!=null)switch(i){case"name":a=Ut;break;case"type":g=Ut;break;case"checked":rt=Ut;break;case"defaultChecked":Rt=Ut;break;case"value":r=Ut;break;case"defaultValue":H=Ut;break;case"children":case"dangerouslySetInnerHTML":if(Ut!=null)throw Error(o(137,e));break;default:Ne(t,e,i,Ut,n,null)}}Vc(t,r,H,rt,Rt,g,a,!1);return;case"select":Ae("invalid",t),i=g=r=null;for(a in n)if(n.hasOwnProperty(a)&&(H=n[a],H!=null))switch(a){case"value":r=H;break;case"defaultValue":g=H;break;case"multiple":i=H;default:Ne(t,e,a,H,n,null)}e=r,n=g,t.multiple=!!i,e!=null?Yi(t,!!i,e,!1):n!=null&&Yi(t,!!i,n,!0);return;case"textarea":Ae("invalid",t),r=a=i=null;for(g in n)if(n.hasOwnProperty(g)&&(H=n[g],H!=null))switch(g){case"value":i=H;break;case"defaultValue":a=H;break;case"children":r=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(91));break;default:Ne(t,e,g,H,n,null)}Wc(t,i,a,r);return;case"option":for(rt in n)if(n.hasOwnProperty(rt)&&(i=n[rt],i!=null))switch(rt){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ne(t,e,rt,i,n,null)}return;case"dialog":Ae("beforetoggle",t),Ae("toggle",t),Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":Ae("load",t);break;case"video":case"audio":for(i=0;i<cs.length;i++)Ae(cs[i],t);break;case"image":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"embed":case"source":case"link":Ae("error",t),Ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Rt in n)if(n.hasOwnProperty(Rt)&&(i=n[Rt],i!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:Ne(t,e,Rt,i,n,null)}return;default:if(eo(e)){for(Ut in n)n.hasOwnProperty(Ut)&&(i=n[Ut],i!==void 0&&Il(t,e,Ut,i,n,void 0));return}}for(H in n)n.hasOwnProperty(H)&&(i=n[H],i!=null&&Ne(t,e,H,i,n,null))}function Xg(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,r=null,g=null,H=null,rt=null,Rt=null,Ut=null;for(Ft in n){var qt=n[Ft];if(n.hasOwnProperty(Ft)&&qt!=null)switch(Ft){case"checked":break;case"value":break;case"defaultValue":rt=qt;default:i.hasOwnProperty(Ft)||Ne(t,e,Ft,null,i,qt)}}for(var Mt in i){var Ft=i[Mt];if(qt=n[Mt],i.hasOwnProperty(Mt)&&(Ft!=null||qt!=null))switch(Mt){case"type":r=Ft;break;case"name":a=Ft;break;case"checked":Rt=Ft;break;case"defaultChecked":Ut=Ft;break;case"value":g=Ft;break;case"defaultValue":H=Ft;break;case"children":case"dangerouslySetInnerHTML":if(Ft!=null)throw Error(o(137,e));break;default:Ft!==qt&&Ne(t,e,Mt,Ft,i,qt)}}$r(t,g,H,rt,Rt,Ut,r,a);return;case"select":Ft=g=H=Mt=null;for(r in n)if(rt=n[r],n.hasOwnProperty(r)&&rt!=null)switch(r){case"value":break;case"multiple":Ft=rt;default:i.hasOwnProperty(r)||Ne(t,e,r,null,i,rt)}for(a in i)if(r=i[a],rt=n[a],i.hasOwnProperty(a)&&(r!=null||rt!=null))switch(a){case"value":Mt=r;break;case"defaultValue":H=r;break;case"multiple":g=r;default:r!==rt&&Ne(t,e,a,r,i,rt)}e=H,n=g,i=Ft,Mt!=null?Yi(t,!!n,Mt,!1):!!i!=!!n&&(e!=null?Yi(t,!!n,e,!0):Yi(t,!!n,n?[]:"",!1));return;case"textarea":Ft=Mt=null;for(H in n)if(a=n[H],n.hasOwnProperty(H)&&a!=null&&!i.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Ne(t,e,H,null,i,a)}for(g in i)if(a=i[g],r=n[g],i.hasOwnProperty(g)&&(a!=null||r!=null))switch(g){case"value":Mt=a;break;case"defaultValue":Ft=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(o(91));break;default:a!==r&&Ne(t,e,g,a,i,r)}Kc(t,Mt,Ft);return;case"option":for(var se in n)if(Mt=n[se],n.hasOwnProperty(se)&&Mt!=null&&!i.hasOwnProperty(se))switch(se){case"selected":t.selected=!1;break;default:Ne(t,e,se,null,i,Mt)}for(rt in i)if(Mt=i[rt],Ft=n[rt],i.hasOwnProperty(rt)&&Mt!==Ft&&(Mt!=null||Ft!=null))switch(rt){case"selected":t.selected=Mt&&typeof Mt!="function"&&typeof Mt!="symbol";break;default:Ne(t,e,rt,Mt,i,Ft)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in n)Mt=n[pe],n.hasOwnProperty(pe)&&Mt!=null&&!i.hasOwnProperty(pe)&&Ne(t,e,pe,null,i,Mt);for(Rt in i)if(Mt=i[Rt],Ft=n[Rt],i.hasOwnProperty(Rt)&&Mt!==Ft&&(Mt!=null||Ft!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(o(137,e));break;default:Ne(t,e,Rt,Mt,i,Ft)}return;default:if(eo(e)){for(var ke in n)Mt=n[ke],n.hasOwnProperty(ke)&&Mt!==void 0&&!i.hasOwnProperty(ke)&&Il(t,e,ke,void 0,i,Mt);for(Ut in i)Mt=i[Ut],Ft=n[Ut],!i.hasOwnProperty(Ut)||Mt===Ft||Mt===void 0&&Ft===void 0||Il(t,e,Ut,Mt,i,Ft);return}}for(var _t in n)Mt=n[_t],n.hasOwnProperty(_t)&&Mt!=null&&!i.hasOwnProperty(_t)&&Ne(t,e,_t,null,i,Mt);for(qt in i)Mt=i[qt],Ft=n[qt],!i.hasOwnProperty(qt)||Mt===Ft||Mt==null&&Ft==null||Ne(t,e,qt,Mt,i,Ft)}function Jh(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gg(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var a=n[i],r=a.transferSize,g=a.initiatorType,H=a.duration;if(r&&H&&Jh(g)){for(g=0,H=a.responseEnd,i+=1;i<n.length;i++){var rt=n[i],Rt=rt.startTime;if(Rt>H)break;var Ut=rt.transferSize,qt=rt.initiatorType;Ut&&Jh(qt)&&(rt=rt.responseEnd,g+=Ut*(rt<H?1:(H-Rt)/(rt-Rt)))}if(--i,e+=8*(r+g)/(a.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ql=null,Xl=null;function Er(t){return t.nodeType===9?t:t.ownerDocument}function $h(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tf(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Gl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yl=null;function Yg(){var t=window.event;return t&&t.type==="popstate"?t===Yl?!1:(Yl=t,!0):(Yl=null,!1)}var ef=typeof setTimeout=="function"?setTimeout:void 0,Vg=typeof clearTimeout=="function"?clearTimeout:void 0,nf=typeof Promise=="function"?Promise:void 0,Kg=typeof queueMicrotask=="function"?queueMicrotask:typeof nf<"u"?function(t){return nf.resolve(null).then(t).catch(Wg)}:ef;function Wg(t){setTimeout(function(){throw t})}function Ai(t){return t==="head"}function af(t,e){var n=e,i=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(a),Ea(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")ds(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,ds(n);for(var r=n.firstChild;r;){var g=r.nextSibling,H=r.nodeName;r[en]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=g}}else n==="body"&&ds(t.ownerDocument.body);n=a}while(n);Ea(e)}function sf(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Vl(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vl(n),yn(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Qg(t,e,n,i){for(;t.nodeType===1;){var a=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[en])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==a.rel||t.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||t.getAttribute("title")!==(a.title==null?null:a.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(a.src==null?null:a.src)||t.getAttribute("type")!==(a.type==null?null:a.type)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=a.name==null?null:""+a.name;if(a.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=Rn(t.nextSibling),t===null)break}return null}function Zg(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Rn(t.nextSibling),t===null))return null;return t}function rf(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Rn(t.nextSibling),t===null))return null;return t}function Kl(t){return t.data==="$?"||t.data==="$~"}function Wl(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Jg(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Rn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Ql=null;function of(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Rn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function lf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function cf(t,e,n){switch(e=Er(n),t){case"html":if(t=e.documentElement,!t)throw Error(o(452));return t;case"head":if(t=e.head,!t)throw Error(o(453));return t;case"body":if(t=e.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function ds(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);yn(t)}var wn=new Map,uf=new Set;function Cr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ei=Y.d;Y.d={f:$g,r:tm,D:em,C:nm,L:im,m:am,X:rm,S:sm,M:om};function $g(){var t=ei.f(),e=mr();return t||e}function tm(t){var e=Pn(t);e!==null&&e.tag===5&&e.type==="form"?Td(e):ei.r(t)}var _a=typeof document>"u"?null:document;function df(t,e,n){var i=_a;if(i&&typeof e=="string"&&e){var a=An(e);a='link[rel="'+t+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),uf.has(a)||(uf.add(a),t={rel:t,crossOrigin:n,href:e},i.querySelector(a)===null&&(e=i.createElement("link"),tn(e,"link",t),We(e),i.head.appendChild(e)))}}function em(t){ei.D(t),df("dns-prefetch",t,null)}function nm(t,e){ei.C(t,e),df("preconnect",t,e)}function im(t,e,n){ei.L(t,e,n);var i=_a;if(i&&t&&e){var a='link[rel="preload"][as="'+An(e)+'"]';e==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+An(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+An(n.imageSizes)+'"]')):a+='[href="'+An(t)+'"]';var r=a;switch(e){case"style":r=Sa(t);break;case"script":r=xa(t)}wn.has(r)||(t=w({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),wn.set(r,t),i.querySelector(a)!==null||e==="style"&&i.querySelector(hs(r))||e==="script"&&i.querySelector(fs(r))||(e=i.createElement("link"),tn(e,"link",t),We(e),i.head.appendChild(e)))}}function am(t,e){ei.m(t,e);var n=_a;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",a='link[rel="modulepreload"][as="'+An(i)+'"][href="'+An(t)+'"]',r=a;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=xa(t)}if(!wn.has(r)&&(t=w({rel:"modulepreload",href:t},e),wn.set(r,t),n.querySelector(a)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(fs(r)))return}i=n.createElement("link"),tn(i,"link",t),We(i),n.head.appendChild(i)}}}function sm(t,e,n){ei.S(t,e,n);var i=_a;if(i&&t){var a=Xi(i).hoistableStyles,r=Sa(t);e=e||"default";var g=a.get(r);if(!g){var H={loading:0,preload:null};if(g=i.querySelector(hs(r)))H.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":e},n),(n=wn.get(r))&&Zl(t,n);var rt=g=i.createElement("link");We(rt),tn(rt,"link",t),rt._p=new Promise(function(Rt,Ut){rt.onload=Rt,rt.onerror=Ut}),rt.addEventListener("load",function(){H.loading|=1}),rt.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Tr(g,e,i)}g={type:"stylesheet",instance:g,count:1,state:H},a.set(r,g)}}}function rm(t,e){ei.X(t,e);var n=_a;if(n&&t){var i=Xi(n).hoistableScripts,a=xa(t),r=i.get(a);r||(r=n.querySelector(fs(a)),r||(t=w({src:t,async:!0},e),(e=wn.get(a))&&Jl(t,e),r=n.createElement("script"),We(r),tn(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}function om(t,e){ei.M(t,e);var n=_a;if(n&&t){var i=Xi(n).hoistableScripts,a=xa(t),r=i.get(a);r||(r=n.querySelector(fs(a)),r||(t=w({src:t,async:!0,type:"module"},e),(e=wn.get(a))&&Jl(t,e),r=n.createElement("script"),We(r),tn(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}function hf(t,e,n,i){var a=(a=q.current)?Cr(a):null;if(!a)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Sa(n.href),n=Xi(a).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Sa(n.href);var r=Xi(a).hoistableStyles,g=r.get(t);if(g||(a=a.ownerDocument||a,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,g),(r=a.querySelector(hs(t)))&&!r._p&&(g.instance=r,g.state.loading=5),wn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wn.set(t,n),r||lm(a,t,n,g.state))),e&&i===null)throw Error(o(528,""));return g}if(e&&i!==null)throw Error(o(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=xa(n),n=Xi(a).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Sa(t){return'href="'+An(t)+'"'}function hs(t){return'link[rel="stylesheet"]['+t+"]"}function ff(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function lm(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),tn(e,"link",n),We(e),t.head.appendChild(e))}function xa(t){return'[src="'+An(t)+'"]'}function fs(t){return"script[async]"+t}function pf(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+An(n.href)+'"]');if(i)return e.instance=i,We(i),i;var a=w({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),We(i),tn(i,"style",a),Tr(i,n.precedence,t),e.instance=i;case"stylesheet":a=Sa(n.href);var r=t.querySelector(hs(a));if(r)return e.state.loading|=4,e.instance=r,We(r),r;i=ff(n),(a=wn.get(a))&&Zl(i,a),r=(t.ownerDocument||t).createElement("link"),We(r);var g=r;return g._p=new Promise(function(H,rt){g.onload=H,g.onerror=rt}),tn(r,"link",i),e.state.loading|=4,Tr(r,n.precedence,t),e.instance=r;case"script":return r=xa(n.src),(a=t.querySelector(fs(r)))?(e.instance=a,We(a),a):(i=n,(a=wn.get(r))&&(i=w({},n),Jl(i,a)),t=t.ownerDocument||t,a=t.createElement("script"),We(a),tn(a,"link",i),t.head.appendChild(a),e.instance=a);case"void":return null;default:throw Error(o(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(i=e.instance,e.state.loading|=4,Tr(i,n.precedence,t));return e.instance}function Tr(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=i.length?i[i.length-1]:null,r=a,g=0;g<i.length;g++){var H=i[g];if(H.dataset.precedence===e)r=H;else if(r!==a)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Zl(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Jl(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Rr=null;function gf(t,e,n){if(Rr===null){var i=new Map,a=Rr=new Map;a.set(n,i)}else a=Rr,i=a.get(n),i||(i=new Map,a.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),a=0;a<n.length;a++){var r=n[a];if(!(r[en]||r[Kt]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var g=r.getAttribute(e)||"";g=t+g;var H=i.get(g);H?H.push(r):i.set(g,[r])}}return i}function mf(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function cm(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function bf(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function um(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var a=Sa(i.href),r=e.querySelector(hs(a));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=wr.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=r,We(r);return}r=e.ownerDocument||e,i=ff(i),(a=wn.get(a))&&Zl(i,a),r=r.createElement("link"),We(r);var g=r;g._p=new Promise(function(H,rt){g.onload=H,g.onerror=rt}),tn(r,"link",i),n.instance=r}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=wr.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var $l=0;function dm(t,e){return t.stylesheets&&t.count===0&&Dr(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Dr(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4+e);0<t.imgBytes&&$l===0&&($l=62500*Gg());var a=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Dr(t,t.stylesheets),t.unsuspend)){var r=t.unsuspend;t.unsuspend=null,r()}},(t.imgBytes>$l?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(a)}}:null}function wr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mr=null;function Dr(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mr=new Map,e.forEach(hm,t),Mr=null,wr.call(t))}function hm(t,e){if(!(e.state.loading&4)){var n=Mr.get(t);if(n)var i=n.get(null);else{n=new Map,Mr.set(t,n);for(var a=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<a.length;r++){var g=a[r];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(n.set(g.dataset.precedence,g),i=g)}i&&n.set(null,i)}a=e.instance,g=a.getAttribute("data-precedence"),r=n.get(g)||i,r===i&&n.set(null,a),n.set(g,a),this.count++,i=wr.bind(this),a.addEventListener("load",i),a.addEventListener("error",i),r?r.parentNode.insertBefore(a,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(a,t.firstChild)),e.state.loading|=4}}var ps={$$typeof:U,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function fm(t,e,n,i,a,r,g,H,rt){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=G(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G(0),this.hiddenUpdates=G(null),this.identifierPrefix=i,this.onUncaughtError=a,this.onCaughtError=r,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=rt,this.incompleteTransitions=new Map}function yf(t,e,n,i,a,r,g,H,rt,Rt,Ut,qt){return t=new fm(t,e,n,g,rt,Rt,Ut,qt,H),e=1,r===!0&&(e|=24),r=hn(3,null,null,e),t.current=r,r.stateNode=t,e=No(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:e},jo(r),t}function vf(t){return t?(t=ta,t):ta}function Af(t,e,n,i,a,r){a=vf(a),i.context===null?i.context=a:i.pendingContext=a,i=ci(e),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=ui(t,i,e),n!==null&&(un(n,t,e),Ya(n,t,e))}function _f(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tc(t,e){_f(t,e),(t=t.alternate)&&_f(t,e)}function Sf(t){if(t.tag===13||t.tag===31){var e=Di(t,67108864);e!==null&&un(e,t,67108864),tc(t,67108864)}}function xf(t){if(t.tag===13||t.tag===31){var e=bn();e=te(e);var n=Di(t,e);n!==null&&un(n,t,e),tc(t,e)}}var Or=!0;function pm(t,e,n,i){var a=B.T;B.T=null;var r=Y.p;try{Y.p=2,ec(t,e,n,i)}finally{Y.p=r,B.T=a}}function gm(t,e,n,i){var a=B.T;B.T=null;var r=Y.p;try{Y.p=8,ec(t,e,n,i)}finally{Y.p=r,B.T=a}}function ec(t,e,n,i){if(Or){var a=nc(i);if(a===null)Hl(t,e,i,Nr,n),Cf(t,i);else if(bm(a,t,e,n,i))i.stopPropagation();else if(Cf(t,i),e&4&&-1<mm.indexOf(t)){for(;a!==null;){var r=Pn(a);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var g=Bt(r.pendingLanes);if(g!==0){var H=r;for(H.pendingLanes|=2,H.entangledLanes|=2;g;){var rt=1<<31-ht(g);H.entanglements[1]|=rt,g&=~rt}jn(r),(Re&6)===0&&(pr=Ot()+500,ls(0))}}break;case 31:case 13:H=Di(r,2),H!==null&&un(H,r,2),mr(),tc(r,2)}if(r=nc(i),r===null&&Hl(t,e,i,Nr,n),r===a)break;a=r}a!==null&&i.stopPropagation()}else Hl(t,e,i,null,n)}}function nc(t){return t=io(t),ic(t)}var Nr=null;function ic(t){if(Nr=null,t=nn(t),t!==null){var e=L(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=D(e),t!==null)return t;t=null}else if(n===31){if(t=V(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Nr=t,null}function Ef(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ct()){case Gt:return 2;case It:return 8;case ae:case ie:return 32;case fe:return 268435456;default:return 32}default:return 32}}var ac=!1,_i=null,Si=null,xi=null,gs=new Map,ms=new Map,Ei=[],mm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cf(t,e){switch(t){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":gs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(e.pointerId)}}function bs(t,e,n,i,a,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[a]},e!==null&&(e=Pn(e),e!==null&&Sf(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function bm(t,e,n,i,a){switch(e){case"focusin":return _i=bs(_i,t,e,n,i,a),!0;case"dragenter":return Si=bs(Si,t,e,n,i,a),!0;case"mouseover":return xi=bs(xi,t,e,n,i,a),!0;case"pointerover":var r=a.pointerId;return gs.set(r,bs(gs.get(r)||null,t,e,n,i,a)),!0;case"gotpointercapture":return r=a.pointerId,ms.set(r,bs(ms.get(r)||null,t,e,n,i,a)),!0}return!1}function Tf(t){var e=nn(t.target);if(e!==null){var n=L(e);if(n!==null){if(e=n.tag,e===13){if(e=D(n),e!==null){t.blockedOn=e,re(t.priority,function(){xf(n)});return}}else if(e===31){if(e=V(n),e!==null){t.blockedOn=e,re(t.priority,function(){xf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nc(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);no=i,n.target.dispatchEvent(i),no=null}else return e=Pn(n),e!==null&&Sf(e),t.blockedOn=n,!1;e.shift()}return!0}function Rf(t,e,n){kr(t)&&n.delete(e)}function ym(){ac=!1,_i!==null&&kr(_i)&&(_i=null),Si!==null&&kr(Si)&&(Si=null),xi!==null&&kr(xi)&&(xi=null),gs.forEach(Rf),ms.forEach(Rf)}function Lr(t,e){t.blockedOn===e&&(t.blockedOn=null,ac||(ac=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ym)))}var Fr=null;function wf(t){Fr!==t&&(Fr=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Fr===t&&(Fr=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],a=t[e+2];if(typeof i!="function"){if(ic(i||n)===null)continue;break}var r=Pn(n);r!==null&&(t.splice(e,3),e-=3,nl(r,{pending:!0,data:a,method:n.method,action:i},i,a))}}))}function Ea(t){function e(rt){return Lr(rt,t)}_i!==null&&Lr(_i,t),Si!==null&&Lr(Si,t),xi!==null&&Lr(xi,t),gs.forEach(e),ms.forEach(e);for(var n=0;n<Ei.length;n++){var i=Ei[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Ei.length&&(n=Ei[0],n.blockedOn===null);)Tf(n),n.blockedOn===null&&Ei.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var a=n[i],r=n[i+1],g=a[ee]||null;if(typeof r=="function")g||wf(n);else if(g){var H=null;if(r&&r.hasAttribute("formAction")){if(a=r,g=r[ee]||null)H=g.formAction;else if(ic(a)!==null)continue}else H=g.action;typeof H=="function"?n[i+1]=H:(n.splice(i,3),i-=3),wf(n)}}}function Mf(){function t(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(g){return a=g})},focusReset:"manual",scroll:"manual"})}function e(){a!==null&&(a(),a=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,a=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),a!==null&&(a(),a=null)}}}function sc(t){this._internalRoot=t}jr.prototype.render=sc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(o(409));var n=e.current,i=bn();Af(n,i,t,e,null,null)},jr.prototype.unmount=sc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Af(t.current,2,null,t,null,null),mr(),e[le]=null}};function jr(t){this._internalRoot=t}jr.prototype.unstable_scheduleHydration=function(t){if(t){var e=Xt();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ei.length&&e!==0&&e<Ei[n].priority;n++);Ei.splice(n,0,t),n===0&&Tf(t)}};var Df=s.version;if(Df!=="19.2.0")throw Error(o(527,Df,"19.2.0"));Y.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=b(e),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var vm={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pr.isDisabled&&Pr.supportsFiber)try{de=Pr.inject(vm),he=Pr}catch{}}return reactDomClient_production.createRoot=function(t,e){if(!h(t))throw Error(o(299));var n=!1,i="",a=jd,r=Pd,g=zd;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(g=e.onRecoverableError)),e=yf(t,1,!1,null,null,n,i,null,a,r,g,Mf),t[le]=e.current,Bl(t),new sc(e)},reactDomClient_production.hydrateRoot=function(t,e,n){if(!h(t))throw Error(o(299));var i=!1,a="",r=jd,g=Pd,H=zd,rt=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(H=n.onRecoverableError),n.formState!==void 0&&(rt=n.formState)),e=yf(t,1,!0,e,n??null,i,a,rt,r,g,H,Mf),e.context=vf(null),n=e.current,i=bn(),i=te(i),a=ci(i),a.callback=null,ui(n,a,i),n=i,e.current.lanes=n,at(e,n),jn(e),t[le]=e.current,Bl(t),new jr(e)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(s){console.error(s)}}return l(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports),getMonthKey=l=>{if(l==null)return"Invalid Date";let s;if(typeof l=="number")s=new Date(Math.round((l-25569)*86400*1e3));else if(typeof l=="string")s=new Date(l);else if(l instanceof Date)s=l;else return"Invalid Date";if(isNaN(s.getTime()))return"Invalid Date";const u=s.getFullYear(),o=(s.getMonth()+1).toString().padStart(2,"0");return`${u}-${o}`},processExcelFile=l=>new Promise((s,u)=>{const o=new FileReader;o.onload=h=>{var L;try{if(!((L=h.target)!=null&&L.result))return u(new Error("Failed to read file."));const D=new Uint8Array(h.target.result),V=XLSX.read(D,{type:"array",cellDates:!0}),S=V.SheetNames[0],b=V.Sheets[S],y=XLSX.utils.sheet_to_json(b,{header:1,range:1}),w=new Map;y.forEach(O=>{const F=O[0],x=O[1],m=O[6];if(m&&F!==void 0&&x!==void 0){const R=m.toString().trim(),U=`${F instanceof Date?F.toISOString():F}-${x}-${R}`;w.has(U)||w.set(U,{teacher:R,date:F})}});const j={};for(const{teacher:O,date:F}of w.values()){j[O]||(j[O]={name:O,count:0,monthlyCounts:{}});const x=j[O];x.count+=1;const m=getMonthKey(F);m!=="Invalid Date"&&(x.monthlyCounts[m]=(x.monthlyCounts[m]||0)+1)}const M=Object.values(j);s(M)}catch(D){console.error("Error processing Excel file:",D),u(D)}},o.onerror=h=>{u(h)},o.readAsArrayBuffer(l)});function commonjsRequire(l){throw new Error('Could not dynamically require "'+l+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports$1){(function(s,u){module.exports=s.pdfjsLib=u()})(globalThis,()=>(()=>{var __webpack_modules__=[,((l,s)=>{var he;Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.TextRenderingMode=s.RenderingIntentFlag=s.PromiseCapability=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.MAX_IMAGE_SIZE_TO_CACHE=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationReplyType=s.AnnotationPrefix=s.AnnotationMode=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=X,s.bytesToString=Ct,s.createValidAbsoluteUrl=k,s.getModificationDate=It,s.getUuid=ne,s.getVerbosityLevel=nt,s.info=B,s.isArrayBuffer=ct,s.isArrayEqual=Gt,s.isNodeJS=void 0,s.normalizeUnicode=Qt,s.objectFromMap=jt,s.objectSize=Nt,s.setVerbosityLevel=ut,s.shadow=T,s.string32=Lt,s.stringToBytes=Et,s.stringToPDFString=wt,s.stringToUTF8String=zt,s.unreachable=st,s.utf8StringToString=Ot,s.warn=Y;const u=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=u;const o=[1,0,0,1,0,0];s.IDENTITY_MATRIX=o;const h=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=h;const L=1e7;s.MAX_IMAGE_SIZE_TO_CACHE=L;const D=1.35;s.LINE_FACTOR=D;const V=.35;s.LINE_DESCENT_FACTOR=V;const S=V/D;s.BASELINE_FACTOR=S;const b={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=b;const y={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=y;const w="pdfjs_internal_editor_";s.AnnotationEditorPrefix=w;const j={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};s.AnnotationEditorType=j;const M={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};s.AnnotationEditorParamsType=M;const O={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=O;const F={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=F;const x={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=x;const m={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=m;const R={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=R;const U={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=U;const P={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=P;const v={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=v;const E={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=E;const p={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=p;const _={O:"PageOpen",C:"PageClose"};s.PageActionEventType=_;const C={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=C;const Z={NONE:0,BINARY:1};s.CMapCompressionType=Z;const A={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=A;const z={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=z;let Q=C.WARNINGS;function ut(kt){Number.isInteger(kt)&&(Q=kt)}function nt(){return Q}function B(kt){Q>=C.INFOS&&console.log(`Info: ${kt}`)}function Y(kt){Q>=C.WARNINGS&&console.log(`Warning: ${kt}`)}function st(kt){throw new Error(kt)}function X(kt,ht){kt||st(ht)}function et(kt){switch(kt==null?void 0:kt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function k(kt,ht=null,vt=null){if(!kt)return null;try{if(vt&&typeof kt=="string"){if(vt.addDefaultProtocol&&kt.startsWith("www.")){const ge=kt.match(/\./g);(ge==null?void 0:ge.length)>=2&&(kt=`http://${kt}`)}if(vt.tryConvertEncoding)try{kt=zt(kt)}catch{}}const $t=ht?new URL(kt,ht):new URL(kt);if(et($t))return $t}catch{}return null}function T(kt,ht,vt,$t=!1){return Object.defineProperty(kt,ht,{value:vt,enumerable:!$t,configurable:!0,writable:!1}),vt}const d=(function(){function ht(vt,$t){this.constructor===ht&&st("Cannot initialize BaseException."),this.message=vt,this.name=$t}return ht.prototype=new Error,ht.constructor=ht,ht})();s.BaseException=d;class f extends d{constructor(ht,vt){super(ht,"PasswordException"),this.code=vt}}s.PasswordException=f;class N extends d{constructor(ht,vt){super(ht,"UnknownErrorException"),this.details=vt}}s.UnknownErrorException=N;class q extends d{constructor(ht){super(ht,"InvalidPDFException")}}s.InvalidPDFException=q;class K extends d{constructor(ht){super(ht,"MissingPDFException")}}s.MissingPDFException=K;class J extends d{constructor(ht,vt){super(ht,"UnexpectedResponseException"),this.status=vt}}s.UnexpectedResponseException=J;class it extends d{constructor(ht){super(ht,"FormatError")}}s.FormatError=it;class pt extends d{constructor(ht){super(ht,"AbortException")}}s.AbortException=pt;function Ct(kt){(typeof kt!="object"||(kt==null?void 0:kt.length)===void 0)&&st("Invalid argument for bytesToString");const ht=kt.length,vt=8192;if(ht<vt)return String.fromCharCode.apply(null,kt);const $t=[];for(let ge=0;ge<ht;ge+=vt){const ce=Math.min(ge+vt,ht),tt=kt.subarray(ge,ce);$t.push(String.fromCharCode.apply(null,tt))}return $t.join("")}function Et(kt){typeof kt!="string"&&st("Invalid argument for stringToBytes");const ht=kt.length,vt=new Uint8Array(ht);for(let $t=0;$t<ht;++$t)vt[$t]=kt.charCodeAt($t)&255;return vt}function Lt(kt){return String.fromCharCode(kt>>24&255,kt>>16&255,kt>>8&255,kt&255)}function Nt(kt){return Object.keys(kt).length}function jt(kt){const ht=Object.create(null);for(const[vt,$t]of kt)ht[vt]=$t;return ht}function ft(){const kt=new Uint8Array(4);return kt[0]=1,new Uint32Array(kt.buffer,0,1)[0]===1}function mt(){try{return new Function(""),!0}catch{return!1}}class I{static get isLittleEndian(){return T(this,"isLittleEndian",ft())}static get isEvalSupported(){return T(this,"isEvalSupported",mt())}static get isOffscreenCanvasSupported(){return T(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?T(this,"platform",{isWin:!1,isMac:!1}):T(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var ht,vt;return T(this,"isCSSRoundSupported",(vt=(ht=globalThis.CSS)==null?void 0:ht.supports)==null?void 0:vt.call(ht,"width: round(1.5px, 1px)"))}}s.FeatureTest=I;const $=[...Array(256).keys()].map(kt=>kt.toString(16).padStart(2,"0"));class ot{static makeHexColor(ht,vt,$t){return`#${$[ht]}${$[vt]}${$[$t]}`}static scaleMinMax(ht,vt){let $t;ht[0]?(ht[0]<0&&($t=vt[0],vt[0]=vt[1],vt[1]=$t),vt[0]*=ht[0],vt[1]*=ht[0],ht[3]<0&&($t=vt[2],vt[2]=vt[3],vt[3]=$t),vt[2]*=ht[3],vt[3]*=ht[3]):($t=vt[0],vt[0]=vt[2],vt[2]=$t,$t=vt[1],vt[1]=vt[3],vt[3]=$t,ht[1]<0&&($t=vt[2],vt[2]=vt[3],vt[3]=$t),vt[2]*=ht[1],vt[3]*=ht[1],ht[2]<0&&($t=vt[0],vt[0]=vt[1],vt[1]=$t),vt[0]*=ht[2],vt[1]*=ht[2]),vt[0]+=ht[4],vt[1]+=ht[4],vt[2]+=ht[5],vt[3]+=ht[5]}static transform(ht,vt){return[ht[0]*vt[0]+ht[2]*vt[1],ht[1]*vt[0]+ht[3]*vt[1],ht[0]*vt[2]+ht[2]*vt[3],ht[1]*vt[2]+ht[3]*vt[3],ht[0]*vt[4]+ht[2]*vt[5]+ht[4],ht[1]*vt[4]+ht[3]*vt[5]+ht[5]]}static applyTransform(ht,vt){const $t=ht[0]*vt[0]+ht[1]*vt[2]+vt[4],ge=ht[0]*vt[1]+ht[1]*vt[3]+vt[5];return[$t,ge]}static applyInverseTransform(ht,vt){const $t=vt[0]*vt[3]-vt[1]*vt[2],ge=(ht[0]*vt[3]-ht[1]*vt[2]+vt[2]*vt[5]-vt[4]*vt[3])/$t,ce=(-ht[0]*vt[1]+ht[1]*vt[0]+vt[4]*vt[1]-vt[5]*vt[0])/$t;return[ge,ce]}static getAxialAlignedBoundingBox(ht,vt){const $t=this.applyTransform(ht,vt),ge=this.applyTransform(ht.slice(2,4),vt),ce=this.applyTransform([ht[0],ht[3]],vt),tt=this.applyTransform([ht[2],ht[1]],vt);return[Math.min($t[0],ge[0],ce[0],tt[0]),Math.min($t[1],ge[1],ce[1],tt[1]),Math.max($t[0],ge[0],ce[0],tt[0]),Math.max($t[1],ge[1],ce[1],tt[1])]}static inverseTransform(ht){const vt=ht[0]*ht[3]-ht[1]*ht[2];return[ht[3]/vt,-ht[1]/vt,-ht[2]/vt,ht[0]/vt,(ht[2]*ht[5]-ht[4]*ht[3])/vt,(ht[4]*ht[1]-ht[5]*ht[0])/vt]}static singularValueDecompose2dScale(ht){const vt=[ht[0],ht[2],ht[1],ht[3]],$t=ht[0]*vt[0]+ht[1]*vt[2],ge=ht[0]*vt[1]+ht[1]*vt[3],ce=ht[2]*vt[0]+ht[3]*vt[2],tt=ht[2]*vt[1]+ht[3]*vt[3],xt=($t+tt)/2,Bt=Math.sqrt(($t+tt)**2-4*($t*tt-ce*ge))/2,Vt=xt+Bt||1,Jt=xt-Bt||1;return[Math.sqrt(Vt),Math.sqrt(Jt)]}static normalizeRect(ht){const vt=ht.slice(0);return ht[0]>ht[2]&&(vt[0]=ht[2],vt[2]=ht[0]),ht[1]>ht[3]&&(vt[1]=ht[3],vt[3]=ht[1]),vt}static intersect(ht,vt){const $t=Math.max(Math.min(ht[0],ht[2]),Math.min(vt[0],vt[2])),ge=Math.min(Math.max(ht[0],ht[2]),Math.max(vt[0],vt[2]));if($t>ge)return null;const ce=Math.max(Math.min(ht[1],ht[3]),Math.min(vt[1],vt[3])),tt=Math.min(Math.max(ht[1],ht[3]),Math.max(vt[1],vt[3]));return ce>tt?null:[$t,ce,ge,tt]}static bezierBoundingBox(ht,vt,$t,ge,ce,tt,xt,Bt){const Vt=[],Jt=[[],[]];let Yt,W,G,at,bt,St,Dt,Pt;for(let re=0;re<2;++re){if(re===0?(W=6*ht-12*$t+6*ce,Yt=-3*ht+9*$t-9*ce+3*xt,G=3*$t-3*ht):(W=6*vt-12*ge+6*tt,Yt=-3*vt+9*ge-9*tt+3*Bt,G=3*ge-3*vt),Math.abs(Yt)<1e-12){if(Math.abs(W)<1e-12)continue;at=-G/W,0<at&&at<1&&Vt.push(at);continue}Dt=W*W-4*G*Yt,Pt=Math.sqrt(Dt),!(Dt<0)&&(bt=(-W+Pt)/(2*Yt),0<bt&&bt<1&&Vt.push(bt),St=(-W-Pt)/(2*Yt),0<St&&St<1&&Vt.push(St))}let te=Vt.length,Zt;const Xt=te;for(;te--;)at=Vt[te],Zt=1-at,Jt[0][te]=Zt*Zt*Zt*ht+3*Zt*Zt*at*$t+3*Zt*at*at*ce+at*at*at*xt,Jt[1][te]=Zt*Zt*Zt*vt+3*Zt*Zt*at*ge+3*Zt*at*at*tt+at*at*at*Bt;return Jt[0][Xt]=ht,Jt[1][Xt]=vt,Jt[0][Xt+1]=xt,Jt[1][Xt+1]=Bt,Jt[0].length=Jt[1].length=Xt+2,[Math.min(...Jt[0]),Math.min(...Jt[1]),Math.max(...Jt[0]),Math.max(...Jt[1])]}}s.Util=ot;const gt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function wt(kt){if(kt[0]>=""){let vt;if(kt[0]===""&&kt[1]===""?vt="utf-16be":kt[0]===""&&kt[1]===""?vt="utf-16le":kt[0]===""&&kt[1]===""&&kt[2]===""&&(vt="utf-8"),vt)try{const $t=new TextDecoder(vt,{fatal:!0}),ge=Et(kt);return $t.decode(ge)}catch($t){Y(`stringToPDFString: "${$t}".`)}}const ht=[];for(let vt=0,$t=kt.length;vt<$t;vt++){const ge=gt[kt.charCodeAt(vt)];ht.push(ge?String.fromCharCode(ge):kt.charAt(vt))}return ht.join("")}function zt(kt){return decodeURIComponent(escape(kt))}function Ot(kt){return unescape(encodeURIComponent(kt))}function ct(kt){return typeof kt=="object"&&(kt==null?void 0:kt.byteLength)!==void 0}function Gt(kt,ht){if(kt.length!==ht.length)return!1;for(let vt=0,$t=kt.length;vt<$t;vt++)if(kt[vt]!==ht[vt])return!1;return!0}function It(kt=new Date){return[kt.getUTCFullYear().toString(),(kt.getUTCMonth()+1).toString().padStart(2,"0"),kt.getUTCDate().toString().padStart(2,"0"),kt.getUTCHours().toString().padStart(2,"0"),kt.getUTCMinutes().toString().padStart(2,"0"),kt.getUTCSeconds().toString().padStart(2,"0")].join("")}class ae{constructor(){yt(this,he,!1);this.promise=new Promise((ht,vt)=>{this.resolve=$t=>{At(this,he,!0),ht($t)},this.reject=$t=>{At(this,he,!0),vt($t)}})}get settled(){return c(this,he)}}he=new WeakMap,s.PromiseCapability=ae;let ie=null,fe=null;function Qt(kt){return ie||(ie=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,fe=new Map([["","t"]])),kt.replaceAll(ie,(ht,vt,$t)=>vt?vt.normalize("NFKC"):fe.get($t))}function ne(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const kt=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(kt);else for(let ht=0;ht<32;ht++)kt[ht]=Math.floor(Math.random()*255);return Ct(kt)}const de="pdfjs_internal_id_";s.AnnotationPrefix=de}),((__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{var l,u,o,h,Ca,zr,V,S,b,y,w,j,M,O,F,Ur,m,R,oc,P,v;Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(p){if(typeof p=="string"||p instanceof URL?p={url:p}:(0,_util.isArrayBuffer)(p)&&(p={data:p}),typeof p!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!p.url&&!p.data&&!p.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const _=new PDFDocumentLoadingTask,{docId:C}=_,Z=p.url?getUrlProp(p.url):null,A=p.data?getDataProp(p.data):null,z=p.httpHeaders||null,Q=p.withCredentials===!0,ut=p.password??null,nt=p.range instanceof PDFDataRangeTransport?p.range:null,B=Number.isInteger(p.rangeChunkSize)&&p.rangeChunkSize>0?p.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Y=p.worker instanceof PDFWorker?p.worker:null;const st=p.verbosity,X=typeof p.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(p.docBaseUrl)?p.docBaseUrl:null,et=typeof p.cMapUrl=="string"?p.cMapUrl:null,k=p.cMapPacked!==!1,T=p.CMapReaderFactory||DefaultCMapReaderFactory,d=typeof p.standardFontDataUrl=="string"?p.standardFontDataUrl:null,f=p.StandardFontDataFactory||DefaultStandardFontDataFactory,N=p.stopAtErrors!==!0,q=Number.isInteger(p.maxImageSize)&&p.maxImageSize>-1?p.maxImageSize:-1,K=p.isEvalSupported!==!1,J=typeof p.isOffscreenCanvasSupported=="boolean"?p.isOffscreenCanvasSupported:!_util.isNodeJS,it=Number.isInteger(p.canvasMaxAreaInBytes)?p.canvasMaxAreaInBytes:-1,pt=typeof p.disableFontFace=="boolean"?p.disableFontFace:_util.isNodeJS,Ct=p.fontExtraProperties===!0,Et=p.enableXfa===!0,Lt=p.ownerDocument||globalThis.document,Nt=p.disableRange===!0,jt=p.disableStream===!0,ft=p.disableAutoFetch===!0,mt=p.pdfBug===!0,I=nt?nt.length:p.length??NaN,$=typeof p.useSystemFonts=="boolean"?p.useSystemFonts:!_util.isNodeJS&&!pt,ot=typeof p.useWorkerFetch=="boolean"?p.useWorkerFetch:T===_display_utils.DOMCMapReaderFactory&&f===_display_utils.DOMStandardFontDataFactory&&et&&d&&(0,_display_utils.isValidFetchUrl)(et,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(d,document.baseURI),gt=p.canvasFactory||new DefaultCanvasFactory({ownerDocument:Lt}),wt=p.filterFactory||new DefaultFilterFactory({docId:C,ownerDocument:Lt}),zt=null;(0,_util.setVerbosityLevel)(st);const Ot={canvasFactory:gt,filterFactory:wt};if(ot||(Ot.cMapReaderFactory=new T({baseUrl:et,isCompressed:k}),Ot.standardFontDataFactory=new f({baseUrl:d})),!Y){const It={verbosity:st,port:_worker_options.GlobalWorkerOptions.workerPort};Y=It.port?PDFWorker.fromPort(It):new PDFWorker(It),_._worker=Y}const ct={docId:C,apiVersion:"3.11.174",data:A,password:ut,disableAutoFetch:ft,rangeChunkSize:B,length:I,docBaseUrl:X,enableXfa:Et,evaluatorOptions:{maxImageSize:q,disableFontFace:pt,ignoreErrors:N,isEvalSupported:K,isOffscreenCanvasSupported:J,canvasMaxAreaInBytes:it,fontExtraProperties:Ct,useSystemFonts:$,cMapUrl:ot?et:null,standardFontDataUrl:ot?d:null}},Gt={ignoreErrors:N,isEvalSupported:K,disableFontFace:pt,fontExtraProperties:Ct,enableXfa:Et,ownerDocument:Lt,disableAutoFetch:ft,pdfBug:mt,styleElement:zt};return Y.promise.then(function(){if(_.destroyed)throw new Error("Loading aborted");const It=_fetchDocument(Y,ct),ae=new Promise(function(ie){let fe;nt?fe=new _transport_stream.PDFDataTransportStream({length:I,initialData:nt.initialData,progressiveDone:nt.progressiveDone,contentDispositionFilename:nt.contentDispositionFilename,disableRange:Nt,disableStream:jt},nt):A||(fe=(ne=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(ne):(0,_display_utils.isValidFetchUrl)(ne.url)?new _displayFetch_stream.PDFFetchStream(ne):new _displayNetwork.PDFNetworkStream(ne))({url:Z,length:I,httpHeaders:z,withCredentials:Q,rangeChunkSize:B,disableRange:Nt,disableStream:jt})),ie(fe)});return Promise.all([It,ae]).then(function([ie,fe]){if(_.destroyed)throw new Error("Loading aborted");const Qt=new _message_handler.MessageHandler(C,ie,Y.port),ne=new WorkerTransport(Qt,_,fe,Gt,Ot);_._transport=ne,Qt.send("Ready",null)})}).catch(_._capability.reject),_}async function _fetchDocument(p,_){if(p.destroyed)throw new Error("Worker was destroyed");const C=await p.messageHandler.sendWithPromise("GetDocRequest",_,_.data?[_.data.buffer]:null);if(p.destroyed)throw new Error("Worker was destroyed");return C}function getUrlProp(p){if(p instanceof URL)return p.href;try{return new URL(p,window.location).href}catch{if(_util.isNodeJS&&typeof p=="string")return p}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(p){if(_util.isNodeJS&&typeof Buffer<"u"&&p instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(p instanceof Uint8Array&&p.byteLength===p.buffer.byteLength)return p;if(typeof p=="string")return(0,_util.stringToBytes)(p);if(typeof p=="object"&&!isNaN(p==null?void 0:p.length)||(0,_util.isArrayBuffer)(p))return new Uint8Array(p);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const s=class s{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${ys(s,l)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var _,C,Z;this.destroyed=!0;try{(_=this._worker)!=null&&_.port&&(this._worker._pendingDestroy=!0),await((C=this._transport)==null?void 0:C.destroy())}catch(A){throw(Z=this._worker)!=null&&Z.port&&delete this._worker._pendingDestroy,A}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};l=new WeakMap,yt(s,l,0);let PDFDocumentLoadingTask=s;exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(_,C,Z=!1,A=null){this.length=_,this.initialData=C,this.progressiveDone=Z,this.contentDispositionFilename=A,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(_){this._rangeListeners.push(_)}addProgressListener(_){this._progressListeners.push(_)}addProgressiveReadListener(_){this._progressiveReadListeners.push(_)}addProgressiveDoneListener(_){this._progressiveDoneListeners.push(_)}onDataRange(_,C){for(const Z of this._rangeListeners)Z(_,C)}onDataProgress(_,C){this._readyCapability.promise.then(()=>{for(const Z of this._progressListeners)Z(_,C)})}onDataProgressiveRead(_){this._readyCapability.promise.then(()=>{for(const C of this._progressiveReadListeners)C(_)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const _ of this._progressiveDoneListeners)_()})}transportReady(){this._readyCapability.resolve()}requestDataRange(_,C){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(_,C){this._pdfInfo=_,this._transport=C,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Z=>{if(!Z)return Z;const A=[];for(const z in Z)A.push(...Z[z]);return A}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(_){return this._transport.getPage(_)}getPageIndex(_){return this._transport.getPageIndex(_)}getDestinations(){return this._transport.getDestinations()}getDestination(_){return this._transport.getDestination(_)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(_=!1){return this._transport.startCleanup(_||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(_,C,Z,A=!1){yt(this,h);yt(this,u,null);yt(this,o,!1);this._pageIndex=_,this._pageInfo=C,this._transport=Z,this._stats=A?new _display_utils.StatTimer:null,this._pdfBug=A,this.commonObjs=Z.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:_,rotation:C=this.rotate,offsetX:Z=0,offsetY:A=0,dontFlip:z=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:_,rotation:C,offsetX:Z,offsetY:A,dontFlip:z})}getAnnotations({intent:_="display"}={}){const C=this._transport.getRenderingIntent(_);return this._transport.getAnnotations(this._pageIndex,C.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var _;return((_=this._transport._htmlForXfa)==null?void 0:_.children[this._pageIndex])||null}render({canvasContext:_,viewport:C,intent:Z="display",annotationMode:A=_util.AnnotationMode.ENABLE,transform:z=null,background:Q=null,optionalContentConfigPromise:ut=null,annotationCanvasMap:nt=null,pageColors:B=null,printAnnotationStorage:Y=null}){var f,N;(f=this._stats)==null||f.time("Overall");const st=this._transport.getRenderingIntent(Z,A,Y);At(this,o,!1),lt(this,h,zr).call(this),ut||(ut=this._transport.getOptionalContentConfig());let X=this._intentStates.get(st.cacheKey);X||(X=Object.create(null),this._intentStates.set(st.cacheKey,X)),X.streamReaderCancelTimeout&&(clearTimeout(X.streamReaderCancelTimeout),X.streamReaderCancelTimeout=null);const et=!!(st.renderingIntent&_util.RenderingIntentFlag.PRINT);X.displayReadyCapability||(X.displayReadyCapability=new _util.PromiseCapability,X.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(N=this._stats)==null||N.time("Page Request"),this._pumpOperatorList(st));const k=q=>{var K,J;X.renderTasks.delete(T),(this._maybeCleanupAfterRender||et)&&At(this,o,!0),lt(this,h,Ca).call(this,!et),q?(T.capability.reject(q),this._abortOperatorList({intentState:X,reason:q instanceof Error?q:new Error(q)})):T.capability.resolve(),(K=this._stats)==null||K.timeEnd("Rendering"),(J=this._stats)==null||J.timeEnd("Overall")},T=new InternalRenderTask({callback:k,params:{canvasContext:_,viewport:C,transform:z,background:Q},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:nt,operatorList:X.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!et,pdfBug:this._pdfBug,pageColors:B});(X.renderTasks||(X.renderTasks=new Set)).add(T);const d=T.task;return Promise.all([X.displayReadyCapability.promise,ut]).then(([q,K])=>{var J;if(this.destroyed){k();return}(J=this._stats)==null||J.time("Rendering"),T.initializeGraphics({transparency:q,optionalContentConfig:K}),T.operatorListChanged()}).catch(k),d}getOperatorList({intent:_="display",annotationMode:C=_util.AnnotationMode.ENABLE,printAnnotationStorage:Z=null}={}){var nt;function A(){Q.operatorList.lastChunk&&(Q.opListReadCapability.resolve(Q.operatorList),Q.renderTasks.delete(ut))}const z=this._transport.getRenderingIntent(_,C,Z,!0);let Q=this._intentStates.get(z.cacheKey);Q||(Q=Object.create(null),this._intentStates.set(z.cacheKey,Q));let ut;return Q.opListReadCapability||(ut=Object.create(null),ut.operatorListChanged=A,Q.opListReadCapability=new _util.PromiseCapability,(Q.renderTasks||(Q.renderTasks=new Set)).add(ut),Q.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(nt=this._stats)==null||nt.time("Page Request"),this._pumpOperatorList(z)),Q.opListReadCapability.promise}streamTextContent({includeMarkedContent:_=!1,disableNormalization:C=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:_===!0,disableNormalization:C===!0},{highWaterMark:100,size(A){return A.items.length}})}getTextContent(_={}){if(this._transport._htmlForXfa)return this.getXfa().then(Z=>_xfa_text.XfaText.textContent(Z));const C=this.streamTextContent(_);return new Promise(function(Z,A){function z(){Q.read().then(function({value:nt,done:B}){if(B){Z(ut);return}Object.assign(ut.styles,nt.styles),ut.items.push(...nt.items),z()},A)}const Q=C.getReader(),ut={items:[],styles:Object.create(null)};z()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const _=[];for(const C of this._intentStates.values())if(this._abortOperatorList({intentState:C,reason:new Error("Page was destroyed."),force:!0}),!C.opListReadCapability)for(const Z of C.renderTasks)_.push(Z.completed),Z.cancel();return this.objs.clear(),At(this,o,!1),lt(this,h,zr).call(this),Promise.all(_)}cleanup(_=!1){At(this,o,!0);const C=lt(this,h,Ca).call(this,!1);return _&&C&&this._stats&&(this._stats=new _display_utils.StatTimer),C}_startRenderPage(_,C){var A,z;const Z=this._intentStates.get(C);Z&&((A=this._stats)==null||A.timeEnd("Page Request"),(z=Z.displayReadyCapability)==null||z.resolve(_))}_renderPageChunk(_,C){for(let Z=0,A=_.length;Z<A;Z++)C.operatorList.fnArray.push(_.fnArray[Z]),C.operatorList.argsArray.push(_.argsArray[Z]);C.operatorList.lastChunk=_.lastChunk,C.operatorList.separateAnnots=_.separateAnnots;for(const Z of C.renderTasks)Z.operatorListChanged();_.lastChunk&&lt(this,h,Ca).call(this,!0)}_pumpOperatorList({renderingIntent:_,cacheKey:C,annotationStorageSerializable:Z}){const{map:A,transfers:z}=Z,ut=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:_,cacheKey:C,annotationStorage:A},z).getReader(),nt=this._intentStates.get(C);nt.streamReader=ut;const B=()=>{ut.read().then(({value:Y,done:st})=>{if(st){nt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Y,nt),B())},Y=>{if(nt.streamReader=null,!this._transport.destroyed){if(nt.operatorList){nt.operatorList.lastChunk=!0;for(const st of nt.renderTasks)st.operatorListChanged();lt(this,h,Ca).call(this,!0)}if(nt.displayReadyCapability)nt.displayReadyCapability.reject(Y);else if(nt.opListReadCapability)nt.opListReadCapability.reject(Y);else throw Y}})};B()}_abortOperatorList({intentState:_,reason:C,force:Z=!1}){if(_.streamReader){if(_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null),!Z){if(_.renderTasks.size>0)return;if(C instanceof _display_utils.RenderingCancelledException){let A=RENDERING_CANCELLED_TIMEOUT;C.extraDelay>0&&C.extraDelay<1e3&&(A+=C.extraDelay),_.streamReaderCancelTimeout=setTimeout(()=>{_.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:_,reason:C,force:!0})},A);return}}if(_.streamReader.cancel(new _util.AbortException(C.message)).catch(()=>{}),_.streamReader=null,!this._transport.destroyed){for(const[A,z]of this._intentStates)if(z===_){this._intentStates.delete(A);break}this.cleanup()}}}get stats(){return this._stats}}u=new WeakMap,o=new WeakMap,h=new WeakSet,Ca=function(_=!1){if(lt(this,h,zr).call(this),!c(this,o)||this.destroyed)return!1;if(_)return At(this,u,setTimeout(()=>{At(this,u,null),lt(this,h,Ca).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:C,operatorList:Z}of this._intentStates.values())if(C.size>0||!Z.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),At(this,o,!1),!0},zr=function(){c(this,u)&&(clearTimeout(c(this,u)),At(this,u,null))},exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){yt(this,V,new Set);yt(this,S,Promise.resolve())}postMessage(_,C){const Z={data:structuredClone(_,C?{transfer:C}:null)};c(this,S).then(()=>{for(const A of c(this,V))A.call(this,Z)})}addEventListener(_,C){c(this,V).add(C)}removeEventListener(_,C){c(this,V).delete(C)}terminate(){c(this,V).clear()}}V=new WeakMap,S=new WeakMap,exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const p=(b=document==null?void 0:document.currentScript)==null?void 0:b.src;p&&(PDFWorkerUtil.fallbackWorkerSrc=p.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(p,_){let C;try{if(C=new URL(p),!C.origin||C.origin==="null")return!1}catch{return!1}const Z=new URL(_,C);return C.origin===Z.origin},PDFWorkerUtil.createCDNWrapper=function(p){const _=`importScripts("${p}");`;return URL.createObjectURL(new Blob([_]))}}const _PDFWorker=class _PDFWorker{constructor({name:p=null,port:_=null,verbosity:C=(0,_util.getVerbosityLevel)()}={}){var Z;if(this.name=p,this.destroyed=!1,this.verbosity=C,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,_){if((Z=c(_PDFWorker,y))!=null&&Z.has(_))throw new Error("Cannot use more than one PDFWorker per port.");(c(_PDFWorker,y)||At(_PDFWorker,y,new WeakMap)).set(_,this),this._initializeFromPort(_);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(p){this._port=p,this._messageHandler=new _message_handler.MessageHandler("main","worker",p),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:p}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,p)||(p=PDFWorkerUtil.createCDNWrapper(new URL(p,window.location).href));const _=new Worker(p),C=new _message_handler.MessageHandler("main","worker",_),Z=()=>{_.removeEventListener("error",A),C.destroy(),_.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},A=()=>{this._webWorker||Z()};_.addEventListener("error",A),C.on("test",Q=>{if(_.removeEventListener("error",A),this.destroyed){Z();return}Q?(this._messageHandler=C,this._port=_,this._webWorker=_,this._readyCapability.resolve(),C.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),C.destroy(),_.terminate())}),C.on("ready",Q=>{if(_.removeEventListener("error",A),this.destroyed){Z();return}try{z()}catch{this._setupFakeWorker()}});const z=()=>{const Q=new Uint8Array;C.send("test",Q,[Q.buffer])};z();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(p=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const _=new LoopbackPort;this._port=_;const C=`fake${PDFWorkerUtil.fakeWorkerId++}`,Z=new _message_handler.MessageHandler(C+"_worker",C,_);p.setup(Z,_);const A=new _message_handler.MessageHandler(C,C+"_worker",_);this._messageHandler=A,this._readyCapability.resolve(),A.send("configure",{verbosity:this.verbosity})}).catch(p=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${p.message}".`))})}destroy(){var p;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(p=c(_PDFWorker,y))==null||p.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(p){var C;if(!(p!=null&&p.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const _=(C=c(this,y))==null?void 0:C.get(p.port);if(_){if(_._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return _}return new _PDFWorker(p)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var p;try{return((p=globalThis.pdfjsWorker)==null?void 0:p.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};y=new WeakMap,yt(_PDFWorker,y);let PDFWorker=_PDFWorker;exports$1.PDFWorker=PDFWorker;class WorkerTransport{constructor(_,C,Z,A,z){yt(this,F);yt(this,w,new Map);yt(this,j,new Map);yt(this,M,new Map);yt(this,O,null);this.messageHandler=_,this.loadingTask=C,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:A.ownerDocument,styleElement:A.styleElement}),this._params=A,this.canvasFactory=z.canvasFactory,this.filterFactory=z.filterFactory,this.cMapReaderFactory=z.cMapReaderFactory,this.standardFontDataFactory=z.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Z,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(_,C=_util.AnnotationMode.ENABLE,Z=null,A=!1){let z=_util.RenderingIntentFlag.DISPLAY,Q=_annotation_storage.SerializableEmpty;switch(_){case"any":z=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":z=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${_}`)}switch(C){case _util.AnnotationMode.DISABLE:z+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:z+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:z+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Q=(z&_util.RenderingIntentFlag.PRINT&&Z instanceof _annotation_storage.PrintAnnotationStorage?Z:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${C}`)}return A&&(z+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:z,cacheKey:`${z}_${Q.hash}`,annotationStorageSerializable:Q}}destroy(){var Z;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Z=c(this,O))==null||Z.reject(new Error("Worker was destroyed during onPassword callback"));const _=[];for(const A of c(this,j).values())_.push(A._destroy());c(this,j).clear(),c(this,M).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const C=this.messageHandler.sendWithPromise("Terminate",null);return _.push(C),Promise.all(_).then(()=>{var A;this.commonObjs.clear(),this.fontLoader.clear(),c(this,w).clear(),this.filterFactory.destroy(),(A=this._networkStream)==null||A.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:_,loadingTask:C}=this;_.on("GetReader",(Z,A)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=z=>{this._lastProgress={loaded:z.loaded,total:z.total}},A.onPull=()=>{this._fullReader.read().then(function({value:z,done:Q}){if(Q){A.close();return}(0,_util.assert)(z instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),A.enqueue(new Uint8Array(z),1,[z])}).catch(z=>{A.error(z)})},A.onCancel=z=>{this._fullReader.cancel(z),A.ready.catch(Q=>{if(!this.destroyed)throw Q})}}),_.on("ReaderHeadersReady",Z=>{const A=new _util.PromiseCapability,z=this._fullReader;return z.headersReady.then(()=>{var Q;(!z.isStreamingSupported||!z.isRangeSupported)&&(this._lastProgress&&((Q=C.onProgress)==null||Q.call(C,this._lastProgress)),z.onProgress=ut=>{var nt;(nt=C.onProgress)==null||nt.call(C,{loaded:ut.loaded,total:ut.total})}),A.resolve({isStreamingSupported:z.isStreamingSupported,isRangeSupported:z.isRangeSupported,contentLength:z.contentLength})},A.reject),A.promise}),_.on("GetRangeReader",(Z,A)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const z=this._networkStream.getRangeReader(Z.begin,Z.end);if(!z){A.close();return}A.onPull=()=>{z.read().then(function({value:Q,done:ut}){if(ut){A.close();return}(0,_util.assert)(Q instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),A.enqueue(new Uint8Array(Q),1,[Q])}).catch(Q=>{A.error(Q)})},A.onCancel=Q=>{z.cancel(Q),A.ready.catch(ut=>{if(!this.destroyed)throw ut})}}),_.on("GetDoc",({pdfInfo:Z})=>{this._numPages=Z.numPages,this._htmlForXfa=Z.htmlForXfa,delete Z.htmlForXfa,C._capability.resolve(new PDFDocumentProxy(Z,this))}),_.on("DocException",function(Z){let A;switch(Z.name){case"PasswordException":A=new _util.PasswordException(Z.message,Z.code);break;case"InvalidPDFException":A=new _util.InvalidPDFException(Z.message);break;case"MissingPDFException":A=new _util.MissingPDFException(Z.message);break;case"UnexpectedResponseException":A=new _util.UnexpectedResponseException(Z.message,Z.status);break;case"UnknownErrorException":A=new _util.UnknownErrorException(Z.message,Z.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}C._capability.reject(A)}),_.on("PasswordRequest",Z=>{if(At(this,O,new _util.PromiseCapability),C.onPassword){const A=z=>{z instanceof Error?c(this,O).reject(z):c(this,O).resolve({password:z})};try{C.onPassword(A,Z.code)}catch(z){c(this,O).reject(z)}}else c(this,O).reject(new _util.PasswordException(Z.message,Z.code));return c(this,O).promise}),_.on("DataLoaded",Z=>{var A;(A=C.onProgress)==null||A.call(C,{loaded:Z.length,total:Z.length}),this.downloadInfoCapability.resolve(Z)}),_.on("StartRenderPage",Z=>{if(this.destroyed)return;c(this,j).get(Z.pageIndex)._startRenderPage(Z.transparency,Z.cacheKey)}),_.on("commonobj",([Z,A,z])=>{var Q;if(!this.destroyed&&!this.commonObjs.has(Z))switch(A){case"Font":const ut=this._params;if("error"in z){const Y=z.error;(0,_util.warn)(`Error during font loading: ${Y}`),this.commonObjs.resolve(Z,Y);break}const nt=ut.pdfBug&&((Q=globalThis.FontInspector)!=null&&Q.enabled)?(Y,st)=>globalThis.FontInspector.fontAdded(Y,st):null,B=new _font_loader.FontFaceObject(z,{isEvalSupported:ut.isEvalSupported,disableFontFace:ut.disableFontFace,ignoreErrors:ut.ignoreErrors,inspectFont:nt});this.fontLoader.bind(B).catch(Y=>_.sendWithPromise("FontFallback",{id:Z})).finally(()=>{!ut.fontExtraProperties&&B.data&&(B.data=null),this.commonObjs.resolve(Z,B)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Z,z);break;default:throw new Error(`Got unknown common object type ${A}`)}}),_.on("obj",([Z,A,z,Q])=>{var nt;if(this.destroyed)return;const ut=c(this,j).get(A);if(!ut.objs.has(Z))switch(z){case"Image":if(ut.objs.resolve(Z,Q),Q){let B;if(Q.bitmap){const{width:Y,height:st}=Q;B=Y*st*4}else B=((nt=Q.data)==null?void 0:nt.length)||0;B>_util.MAX_IMAGE_SIZE_TO_CACHE&&(ut._maybeCleanupAfterRender=!0)}break;case"Pattern":ut.objs.resolve(Z,Q);break;default:throw new Error(`Got unknown object type ${z}`)}}),_.on("DocProgress",Z=>{var A;this.destroyed||(A=C.onProgress)==null||A.call(C,{loaded:Z.loaded,total:Z.total})}),_.on("FetchBuiltInCMap",Z=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Z):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),_.on("FetchStandardFontData",Z=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Z):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Z;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:_,transfers:C}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:_,filename:((Z=this._fullReader)==null?void 0:Z.filename)??null},C).finally(()=>{this.annotationStorage.resetModified()})}getPage(_){if(!Number.isInteger(_)||_<=0||_>this._numPages)return Promise.reject(new Error("Invalid page request."));const C=_-1,Z=c(this,M).get(C);if(Z)return Z;const A=this.messageHandler.sendWithPromise("GetPage",{pageIndex:C}).then(z=>{if(this.destroyed)throw new Error("Transport destroyed");const Q=new PDFPageProxy(C,z,this,this._params.pdfBug);return c(this,j).set(C,Q),Q});return c(this,M).set(C,A),A}getPageIndex(_){return typeof _!="object"||_===null||!Number.isInteger(_.num)||_.num<0||!Number.isInteger(_.gen)||_.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:_.num,gen:_.gen})}getAnnotations(_,C){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:_,intent:C})}getFieldObjects(){return lt(this,F,Ur).call(this,"GetFieldObjects")}hasJSActions(){return lt(this,F,Ur).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(_){return typeof _!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:_})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return lt(this,F,Ur).call(this,"GetDocJSActions")}getPageJSActions(_){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:_})}getStructTree(_){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:_})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(_=>new _optional_content_config.OptionalContentConfig(_))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const _="GetMetadata",C=c(this,w).get(_);if(C)return C;const Z=this.messageHandler.sendWithPromise(_,null).then(A=>{var z,Q;return{info:A[0],metadata:A[1]?new _metadata.Metadata(A[1]):null,contentDispositionFilename:((z=this._fullReader)==null?void 0:z.filename)??null,contentLength:((Q=this._fullReader)==null?void 0:Q.contentLength)??null}});return c(this,w).set(_,Z),Z}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(_=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const C of c(this,j).values())if(!C.cleanup())throw new Error(`startCleanup: Page ${C.pageNumber} is currently rendering.`);this.commonObjs.clear(),_||this.fontLoader.clear(),c(this,w).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:_,enableXfa:C}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:_,enableXfa:C})}}w=new WeakMap,j=new WeakMap,M=new WeakMap,O=new WeakMap,F=new WeakSet,Ur=function(_,C=null){const Z=c(this,w).get(_);if(Z)return Z;const A=this.messageHandler.sendWithPromise(_,C);return c(this,w).set(_,A),A};class PDFObjects{constructor(){yt(this,R);yt(this,m,Object.create(null))}get(_,C=null){if(C){const A=lt(this,R,oc).call(this,_);return A.capability.promise.then(()=>C(A.data)),null}const Z=c(this,m)[_];if(!(Z!=null&&Z.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${_}.`);return Z.data}has(_){const C=c(this,m)[_];return(C==null?void 0:C.capability.settled)||!1}resolve(_,C=null){const Z=lt(this,R,oc).call(this,_);Z.data=C,Z.capability.resolve()}clear(){var _;for(const C in c(this,m)){const{data:Z}=c(this,m)[C];(_=Z==null?void 0:Z.bitmap)==null||_.close()}At(this,m,Object.create(null))}}m=new WeakMap,R=new WeakSet,oc=function(_){var C;return(C=c(this,m))[_]||(C[_]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(_){yt(this,P,null);At(this,P,_),this.onContinue=null}get promise(){return c(this,P).capability.promise}cancel(_=0){c(this,P).cancel(null,_)}get separateAnnots(){const{separateAnnots:_}=c(this,P).operatorList;if(!_)return!1;const{annotationCanvasMap:C}=c(this,P);return _.form||_.canvas&&(C==null?void 0:C.size)>0}}P=new WeakMap,exports$1.RenderTask=RenderTask;const E=class E{constructor({callback:_,params:C,objs:Z,commonObjs:A,annotationCanvasMap:z,operatorList:Q,pageIndex:ut,canvasFactory:nt,filterFactory:B,useRequestAnimationFrame:Y=!1,pdfBug:st=!1,pageColors:X=null}){this.callback=_,this.params=C,this.objs=Z,this.commonObjs=A,this.annotationCanvasMap=z,this.operatorListIdx=null,this.operatorList=Q,this._pageIndex=ut,this.canvasFactory=nt,this.filterFactory=B,this._pdfBug=st,this.pageColors=X,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Y===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=C.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:_=!1,optionalContentConfig:C}){var ut,nt;if(this.cancelled)return;if(this._canvas){if(c(E,v).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(E,v).add(this._canvas)}this._pdfBug&&((ut=globalThis.StepperManager)!=null&&ut.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Z,viewport:A,transform:z,background:Q}=this.params;this.gfx=new _canvas.CanvasGraphics(Z,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:C},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:z,viewport:A,transparency:_,background:Q}),this.operatorListIdx=0,this.graphicsReady=!0,(nt=this.graphicsReadyCallback)==null||nt.call(this)}cancel(_=null,C=0){var Z;this.running=!1,this.cancelled=!0,(Z=this.gfx)==null||Z.endDrawing(),c(E,v).delete(this._canvas),this.callback(_||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,C))}operatorListChanged(){var _;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(_=this.stepper)==null||_.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(E,v).delete(this._canvas),this.callback())))}};v=new WeakMap,yt(E,v,new WeakSet);let InternalRenderTask=E;const version="3.11.174";exports$1.version=version;const build="ce8716743";exports$1.build=build}),((l,s,u)=>{var b,y,w,Nf,M;Object.defineProperty(s,"__esModule",{value:!0}),s.SerializableEmpty=s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var o=u(1),h=u(4),L=u(8);const D=Object.freeze({map:null,hash:"",transfers:void 0});s.SerializableEmpty=D;class V{constructor(){yt(this,w);yt(this,b,!1);yt(this,y,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(F,x){const m=c(this,y).get(F);return m===void 0?x:Object.assign(x,m)}getRawValue(F){return c(this,y).get(F)}remove(F){if(c(this,y).delete(F),c(this,y).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const x of c(this,y).values())if(x instanceof h.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(F,x){const m=c(this,y).get(F);let R=!1;if(m!==void 0)for(const[U,P]of Object.entries(x))m[U]!==P&&(R=!0,m[U]=P);else R=!0,c(this,y).set(F,x);R&&lt(this,w,Nf).call(this),x instanceof h.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(x.constructor._type)}has(F){return c(this,y).has(F)}getAll(){return c(this,y).size>0?(0,o.objectFromMap)(c(this,y)):null}setAll(F){for(const[x,m]of Object.entries(F))this.setValue(x,m)}get size(){return c(this,y).size}resetModified(){c(this,b)&&(At(this,b,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new S(this)}get serializable(){if(c(this,y).size===0)return D;const F=new Map,x=new L.MurmurHash3_64,m=[],R=Object.create(null);let U=!1;for(const[P,v]of c(this,y)){const E=v instanceof h.AnnotationEditor?v.serialize(!1,R):v;E&&(F.set(P,E),x.update(`${P}:${JSON.stringify(E)}`),U||(U=!!E.bitmap))}if(U)for(const P of F.values())P.bitmap&&m.push(P.bitmap);return F.size>0?{map:F,hash:x.hexdigest(),transfers:m}:D}}b=new WeakMap,y=new WeakMap,w=new WeakSet,Nf=function(){c(this,b)||(At(this,b,!0),typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=V;class S extends V{constructor(x){super();yt(this,M);const{map:m,hash:R,transfers:U}=x.serializable,P=structuredClone(m,U?{transfer:U}:null);At(this,M,{map:P,hash:R,transfers:U})}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,M)}}M=new WeakMap,s.PrintAnnotationStorage=S}),((l,s,u)=>{var S,b,y,w,j,M,O,F,x,m,R,U,P,v,E,lc,cc,C,uc,dc,kf,Lf,Ff,hc,jf;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var o=u(5),h=u(1),L=u(6);const Y=class Y{constructor(X){yt(this,E);yt(this,S,"");yt(this,b,!1);yt(this,y,null);yt(this,w,null);yt(this,j,null);yt(this,M,!1);yt(this,O,null);yt(this,F,this.focusin.bind(this));yt(this,x,this.focusout.bind(this));yt(this,m,!1);yt(this,R,!1);yt(this,U,!1);De(this,"_initialOptions",Object.create(null));De(this,"_uiManager",null);De(this,"_focusEventsAllowed",!0);De(this,"_l10nPromise",null);yt(this,P,!1);yt(this,v,Y._zIndex++);this.constructor===Y&&(0,h.unreachable)("Cannot initialize AnnotationEditor."),this.parent=X.parent,this.id=X.id,this.width=this.height=null,this.pageIndex=X.parent.pageIndex,this.name=X.name,this.div=null,this._uiManager=X.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=X.isCentered,this._structTreeParentId=null;const{rotation:et,rawDims:{pageWidth:k,pageHeight:T,pageX:d,pageY:f}}=this.parent.viewport;this.rotation=et,this.pageRotation=(360+et-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[k,T],this.pageTranslation=[d,f];const[N,q]=this.parentDimensions;this.x=X.x/N,this.y=X.y/q,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,h.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(X){const et=new V({id:X.parent.getNextId(),parent:X.parent,uiManager:X._uiManager});et.annotationElementId=X.annotationElementId,et.deleted=!0,et._uiManager.addToAnnotationStorage(et)}static initialize(X,et=null){if(Y._l10nPromise||(Y._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(T=>[T,X.get(T)]))),et!=null&&et.strings)for(const T of et.strings)Y._l10nPromise.set(T,X.get(T));if(Y._borderLineWidth!==-1)return;const k=getComputedStyle(document.documentElement);Y._borderLineWidth=parseFloat(k.getPropertyValue("--outline-width"))||0}static updateDefaultParams(X,et){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(X){return!1}static paste(X,et){(0,h.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,P)}set _isDraggable(X){var et;At(this,P,X),(et=this.div)==null||et.classList.toggle("draggable",X)}center(){const[X,et]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*et/(X*2),this.y+=this.width*X/(et*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*et/(X*2),this.y-=this.width*X/(et*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(X){this._uiManager.addCommands(X)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,v)}setParent(X){X!==null&&(this.pageIndex=X.pageIndex,this.pageDimensions=X.pageDimensions),this.parent=X}focusin(X){this._focusEventsAllowed&&(c(this,m)?At(this,m,!1):this.parent.setSelected(this))}focusout(X){var k;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const et=X.relatedTarget;et!=null&&et.closest(`#${this.id}`)||(X.preventDefault(),(k=this.parent)!=null&&k.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(X,et,k,T){const[d,f]=this.parentDimensions;[k,T]=this.screenToPageTranslation(k,T),this.x=(X+k)/d,this.y=(et+T)/f,this.fixAndSetPosition()}translate(X,et){lt(this,E,lc).call(this,this.parentDimensions,X,et)}translateInPage(X,et){lt(this,E,lc).call(this,this.pageDimensions,X,et),this.div.scrollIntoView({block:"nearest"})}drag(X,et){const[k,T]=this.parentDimensions;if(this.x+=X/k,this.y+=et/T,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:K,y:J}=this.div.getBoundingClientRect();this.parent.findNewParent(this,K,J)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:d,y:f}=this;const[N,q]=lt(this,E,cc).call(this);d+=N,f+=q,this.div.style.left=`${(100*d).toFixed(2)}%`,this.div.style.top=`${(100*f).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[X,et]=this.pageDimensions;let{x:k,y:T,width:d,height:f}=this;switch(d*=X,f*=et,k*=X,T*=et,this.rotation){case 0:k=Math.max(0,Math.min(X-d,k)),T=Math.max(0,Math.min(et-f,T));break;case 90:k=Math.max(0,Math.min(X-f,k)),T=Math.min(et,Math.max(d,T));break;case 180:k=Math.min(X,Math.max(d,k)),T=Math.min(et,Math.max(f,T));break;case 270:k=Math.min(X,Math.max(f,k)),T=Math.max(0,Math.min(et-d,T));break}this.x=k/=X,this.y=T/=et;const[N,q]=lt(this,E,cc).call(this);k+=N,T+=q;const{style:K}=this.div;K.left=`${(100*k).toFixed(2)}%`,K.top=`${(100*T).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(X,et){var k;return lt(k=Y,C,uc).call(k,X,et,this.parentRotation)}pageTranslationToScreen(X,et){var k;return lt(k=Y,C,uc).call(k,X,et,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:X,pageDimensions:[et,k]}=this,T=et*X,d=k*X;return h.FeatureTest.isCSSRoundSupported?[Math.round(T),Math.round(d)]:[T,d]}setDims(X,et){var d;const[k,T]=this.parentDimensions;this.div.style.width=`${(100*X/k).toFixed(2)}%`,c(this,M)||(this.div.style.height=`${(100*et/T).toFixed(2)}%`),(d=c(this,y))==null||d.classList.toggle("small",X<Y.SMALL_EDITOR_SIZE||et<Y.SMALL_EDITOR_SIZE)}fixDims(){const{style:X}=this.div,{height:et,width:k}=X,T=k.endsWith("%"),d=!c(this,M)&&et.endsWith("%");if(T&&d)return;const[f,N]=this.parentDimensions;T||(X.width=`${(100*parseFloat(k)/f).toFixed(2)}%`),!c(this,M)&&!d&&(X.height=`${(100*parseFloat(et)/N).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(c(this,y))return;const X=At(this,y,document.createElement("button"));X.className="altText";const et=await Y._l10nPromise.get("editor_alt_text_button_label");X.textContent=et,X.setAttribute("aria-label",et),X.tabIndex="0",X.addEventListener("contextmenu",L.noContextMenu),X.addEventListener("pointerdown",k=>k.stopPropagation()),X.addEventListener("click",k=>{k.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),X.addEventListener("keydown",k=>{k.target===X&&k.key==="Enter"&&(k.preventDefault(),this._uiManager.editAltText(this))}),lt(this,E,hc).call(this),this.div.append(X),Y.SMALL_EDITOR_SIZE||(Y.SMALL_EDITOR_SIZE=Math.min(128,Math.round(X.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:c(this,S),decorative:c(this,b)}}set altTextData({altText:X,decorative:et}){c(this,S)===X&&c(this,b)===et||(At(this,S,X),At(this,b,et),lt(this,E,hc).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",c(this,F)),this.div.addEventListener("focusout",c(this,x));const[X,et]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*et/X).toFixed(2)}%`,this.div.style.maxHeight=`${(100*X/et).toFixed(2)}%`);const[k,T]=this.getInitialTranslation();return this.translate(k,T),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(X){const{isMac:et}=h.FeatureTest.platform;if(X.button!==0||X.ctrlKey&&et){X.preventDefault();return}At(this,m,!0),lt(this,E,jf).call(this,X)}moveInDOM(){var X;(X=this.parent)==null||X.moveEditorInDOM(this)}_setParentAndPosition(X,et,k){X.changeParent(this),this.x=et,this.y=k,this.fixAndSetPosition()}getRect(X,et){const k=this.parentScale,[T,d]=this.pageDimensions,[f,N]=this.pageTranslation,q=X/k,K=et/k,J=this.x*T,it=this.y*d,pt=this.width*T,Ct=this.height*d;switch(this.rotation){case 0:return[J+q+f,d-it-K-Ct+N,J+q+pt+f,d-it-K+N];case 90:return[J+K+f,d-it+q+N,J+K+Ct+f,d-it+q+pt+N];case 180:return[J-q-pt+f,d-it+K+N,J-q+f,d-it+K+Ct+N];case 270:return[J-K-Ct+f,d-it-q-pt+N,J-K+f,d-it-q+N];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(X,et){const[k,T,d,f]=X,N=d-k,q=f-T;switch(this.rotation){case 0:return[k,et-f,N,q];case 90:return[k,et-T,q,N];case 180:return[d,et-T,N,q];case 270:return[d,et-f,q,N];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){At(this,U,!0)}disableEditMode(){At(this,U,!1)}isInEditMode(){return c(this,U)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var X,et;(X=this.div)==null||X.addEventListener("focusin",c(this,F)),(et=this.div)==null||et.addEventListener("focusout",c(this,x))}serialize(X=!1,et=null){(0,h.unreachable)("An editor must be serializable")}static deserialize(X,et,k){const T=new this.prototype.constructor({parent:et,id:et.getNextId(),uiManager:k});T.rotation=X.rotation;const[d,f]=T.pageDimensions,[N,q,K,J]=T.getRectInCurrentCoords(X.rect,f);return T.x=N/d,T.y=q/f,T.width=K/d,T.height=J/f,T}remove(){var X;this.div.removeEventListener("focusin",c(this,F)),this.div.removeEventListener("focusout",c(this,x)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(X=c(this,y))==null||X.remove(),At(this,y,null),At(this,w,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(lt(this,E,kf).call(this),c(this,O).classList.remove("hidden"))}select(){var X;this.makeResizable(),(X=this.div)==null||X.classList.add("selectedEditor")}unselect(){var X,et,k;(X=c(this,O))==null||X.classList.add("hidden"),(et=this.div)==null||et.classList.remove("selectedEditor"),(k=this.div)!=null&&k.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(X,et){}disableEditing(){c(this,y)&&(c(this,y).hidden=!0)}enableEditing(){c(this,y)&&(c(this,y).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return c(this,R)}set isEditing(X){At(this,R,X),this.parent&&(X?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(X,et){At(this,M,!0);const k=X/et,{style:T}=this.div;T.aspectRatio=k,T.height="auto"}static get MIN_SIZE(){return 16}};S=new WeakMap,b=new WeakMap,y=new WeakMap,w=new WeakMap,j=new WeakMap,M=new WeakMap,O=new WeakMap,F=new WeakMap,x=new WeakMap,m=new WeakMap,R=new WeakMap,U=new WeakMap,P=new WeakMap,v=new WeakMap,E=new WeakSet,lc=function([X,et],k,T){[k,T]=this.screenToPageTranslation(k,T),this.x+=k/X,this.y+=T/et,this.fixAndSetPosition()},cc=function(){const[X,et]=this.parentDimensions,{_borderLineWidth:k}=Y,T=k/X,d=k/et;switch(this.rotation){case 90:return[-T,d];case 180:return[T,d];case 270:return[T,-d];default:return[-T,-d]}},C=new WeakSet,uc=function(X,et,k){switch(k){case 90:return[et,-X];case 180:return[-X,-et];case 270:return[-et,X];default:return[X,et]}},dc=function(X){switch(X){case 90:{const[et,k]=this.pageDimensions;return[0,-et/k,k/et,0]}case 180:return[-1,0,0,-1];case 270:{const[et,k]=this.pageDimensions;return[0,et/k,-k/et,0]}default:return[1,0,0,1]}},kf=function(){if(c(this,O))return;At(this,O,document.createElement("div")),c(this,O).classList.add("resizers");const X=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||X.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const et of X){const k=document.createElement("div");c(this,O).append(k),k.classList.add("resizer",et),k.addEventListener("pointerdown",lt(this,E,Lf).bind(this,et)),k.addEventListener("contextmenu",L.noContextMenu)}this.div.prepend(c(this,O))},Lf=function(X,et){et.preventDefault();const{isMac:k}=h.FeatureTest.platform;if(et.button!==0||et.ctrlKey&&k)return;const T=lt(this,E,Ff).bind(this,X),d=this._isDraggable;this._isDraggable=!1;const f={passive:!0,capture:!0};window.addEventListener("pointermove",T,f);const N=this.x,q=this.y,K=this.width,J=this.height,it=this.parent.div.style.cursor,pt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(et.target).cursor;const Ct=()=>{this._isDraggable=d,window.removeEventListener("pointerup",Ct),window.removeEventListener("blur",Ct),window.removeEventListener("pointermove",T,f),this.parent.div.style.cursor=it,this.div.style.cursor=pt;const Et=this.x,Lt=this.y,Nt=this.width,jt=this.height;Et===N&&Lt===q&&Nt===K&&jt===J||this.addCommands({cmd:()=>{this.width=Nt,this.height=jt,this.x=Et,this.y=Lt;const[ft,mt]=this.parentDimensions;this.setDims(ft*Nt,mt*jt),this.fixAndSetPosition()},undo:()=>{this.width=K,this.height=J,this.x=N,this.y=q;const[ft,mt]=this.parentDimensions;this.setDims(ft*K,mt*J),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Ct),window.addEventListener("blur",Ct)},Ff=function(X,et){const[k,T]=this.parentDimensions,d=this.x,f=this.y,N=this.width,q=this.height,K=Y.MIN_SIZE/k,J=Y.MIN_SIZE/T,it=Qt=>Math.round(Qt*1e4)/1e4,pt=lt(this,E,dc).call(this,this.rotation),Ct=(Qt,ne)=>[pt[0]*Qt+pt[2]*ne,pt[1]*Qt+pt[3]*ne],Et=lt(this,E,dc).call(this,360-this.rotation),Lt=(Qt,ne)=>[Et[0]*Qt+Et[2]*ne,Et[1]*Qt+Et[3]*ne];let Nt,jt,ft=!1,mt=!1;switch(X){case"topLeft":ft=!0,Nt=(Qt,ne)=>[0,0],jt=(Qt,ne)=>[Qt,ne];break;case"topMiddle":Nt=(Qt,ne)=>[Qt/2,0],jt=(Qt,ne)=>[Qt/2,ne];break;case"topRight":ft=!0,Nt=(Qt,ne)=>[Qt,0],jt=(Qt,ne)=>[0,ne];break;case"middleRight":mt=!0,Nt=(Qt,ne)=>[Qt,ne/2],jt=(Qt,ne)=>[0,ne/2];break;case"bottomRight":ft=!0,Nt=(Qt,ne)=>[Qt,ne],jt=(Qt,ne)=>[0,0];break;case"bottomMiddle":Nt=(Qt,ne)=>[Qt/2,ne],jt=(Qt,ne)=>[Qt/2,0];break;case"bottomLeft":ft=!0,Nt=(Qt,ne)=>[0,ne],jt=(Qt,ne)=>[Qt,0];break;case"middleLeft":mt=!0,Nt=(Qt,ne)=>[0,ne/2],jt=(Qt,ne)=>[Qt,ne/2];break}const I=Nt(N,q),$=jt(N,q);let ot=Ct(...$);const gt=it(d+ot[0]),wt=it(f+ot[1]);let zt=1,Ot=1,[ct,Gt]=this.screenToPageTranslation(et.movementX,et.movementY);if([ct,Gt]=Lt(ct/k,Gt/T),ft){const Qt=Math.hypot(N,q);zt=Ot=Math.max(Math.min(Math.hypot($[0]-I[0]-ct,$[1]-I[1]-Gt)/Qt,1/N,1/q),K/N,J/q)}else mt?zt=Math.max(K,Math.min(1,Math.abs($[0]-I[0]-ct)))/N:Ot=Math.max(J,Math.min(1,Math.abs($[1]-I[1]-Gt)))/q;const It=it(N*zt),ae=it(q*Ot);ot=Ct(...jt(It,ae));const ie=gt-ot[0],fe=wt-ot[1];this.width=It,this.height=ae,this.x=ie,this.y=fe,this.setDims(k*It,T*ae),this.fixAndSetPosition()},hc=async function(){var k;const X=c(this,y);if(!X)return;if(!c(this,S)&&!c(this,b)){X.classList.remove("done"),(k=c(this,w))==null||k.remove();return}Y._l10nPromise.get("editor_alt_text_edit_button_label").then(T=>{X.setAttribute("aria-label",T)});let et=c(this,w);if(!et){At(this,w,et=document.createElement("span")),et.className="tooltip",et.setAttribute("role","tooltip");const T=et.id=`alt-text-tooltip-${this.id}`;X.setAttribute("aria-describedby",T);const d=100;X.addEventListener("mouseenter",()=>{At(this,j,setTimeout(()=>{At(this,j,null),c(this,w).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},d))}),X.addEventListener("mouseleave",()=>{var f;clearTimeout(c(this,j)),At(this,j,null),(f=c(this,w))==null||f.classList.remove("show")})}X.classList.add("done"),et.innerText=c(this,b)?await Y._l10nPromise.get("editor_alt_text_decorative_tooltip"):c(this,S),et.parentNode||X.append(et)},jf=function(X){if(!this._isDraggable)return;const et=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let k,T;et&&(k={passive:!0,capture:!0},T=f=>{const[N,q]=this.screenToPageTranslation(f.movementX,f.movementY);this._uiManager.dragSelectedEditors(N,q)},window.addEventListener("pointermove",T,k));const d=()=>{if(window.removeEventListener("pointerup",d),window.removeEventListener("blur",d),et&&window.removeEventListener("pointermove",T,k),At(this,m,!1),!this._uiManager.endDragSession()){const{isMac:f}=h.FeatureTest.platform;X.ctrlKey&&!f||X.shiftKey||X.metaKey&&f?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",d),window.addEventListener("blur",d)},yt(Y,C),De(Y,"_borderLineWidth",-1),De(Y,"_colorManager",new o.ColorManager),De(Y,"_zIndex",1),De(Y,"SMALL_EDITOR_SIZE",0);let D=Y;s.AnnotationEditor=D;class V extends D{constructor(X){super(X),this.annotationElementId=X.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((l,s,u)=>{var M,O,F,x,m,fc,P,v,E,p,_,Pf,A,z,Q,ut,nt,B,Y,st,X,et,k,T,d,f,N,q,K,J,it,pt,Ct,Et,Lt,Nt,jt,ft,mt,I,$,ot,gt,wt,zt,Ot,ct,zf,pc,gc,Br,mc,bc,Mn,vs,Uf,Bf,yc,As,vc;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=L,s.opacityToHex=D;var o=u(1),h=u(6);function L(ce,tt,xt){for(const Bt of xt)tt.addEventListener(Bt,ce[Bt].bind(ce))}function D(ce){return Math.round(Math.min(255,Math.max(1,255*ce))).toString(16).padStart(2,"0")}class V{constructor(){yt(this,M,0)}getId(){return`${o.AnnotationEditorPrefix}${ys(this,M)._++}`}}M=new WeakMap;const U=class U{constructor(){yt(this,m);yt(this,O,(0,o.getUuid)());yt(this,F,0);yt(this,x,null)}static get _isSVGFittingCanvas(){const tt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Bt=new OffscreenCanvas(1,3).getContext("2d"),Vt=new Image;Vt.src=tt;const Jt=Vt.decode().then(()=>(Bt.drawImage(Vt,0,0,1,1,0,0,1,3),new Uint32Array(Bt.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",Jt)}async getFromFile(tt){const{lastModified:xt,name:Bt,size:Vt,type:Jt}=tt;return lt(this,m,fc).call(this,`${xt}_${Bt}_${Vt}_${Jt}`,tt)}async getFromUrl(tt){return lt(this,m,fc).call(this,tt,tt)}async getFromId(tt){c(this,x)||At(this,x,new Map);const xt=c(this,x).get(tt);return xt?xt.bitmap?(xt.refCounter+=1,xt):xt.file?this.getFromFile(xt.file):this.getFromUrl(xt.url):null}getSvgUrl(tt){const xt=c(this,x).get(tt);return xt!=null&&xt.isSvg?xt.svgUrl:null}deleteId(tt){c(this,x)||At(this,x,new Map);const xt=c(this,x).get(tt);xt&&(xt.refCounter-=1,xt.refCounter===0&&(xt.bitmap=null))}isValidId(tt){return tt.startsWith(`image_${c(this,O)}_`)}};O=new WeakMap,F=new WeakMap,x=new WeakMap,m=new WeakSet,fc=async function(tt,xt){c(this,x)||At(this,x,new Map);let Bt=c(this,x).get(tt);if(Bt===null)return null;if(Bt!=null&&Bt.bitmap)return Bt.refCounter+=1,Bt;try{Bt||(Bt={bitmap:null,id:`image_${c(this,O)}_${ys(this,F)._++}`,refCounter:0,isSvg:!1});let Vt;if(typeof xt=="string"){Bt.url=xt;const Jt=await fetch(xt);if(!Jt.ok)throw new Error(Jt.statusText);Vt=await Jt.blob()}else Vt=Bt.file=xt;if(Vt.type==="image/svg+xml"){const Jt=U._isSVGFittingCanvas,Yt=new FileReader,W=new Image,G=new Promise((at,bt)=>{W.onload=()=>{Bt.bitmap=W,Bt.isSvg=!0,at()},Yt.onload=async()=>{const St=Bt.svgUrl=Yt.result;W.src=await Jt?`${St}#svgView(preserveAspectRatio(none))`:St},W.onerror=Yt.onerror=bt});Yt.readAsDataURL(Vt),await G}else Bt.bitmap=await createImageBitmap(Vt);Bt.refCounter=1}catch(Vt){console.error(Vt),Bt=null}return c(this,x).set(tt,Bt),Bt&&c(this,x).set(Bt.id,Bt),Bt};let S=U;class b{constructor(tt=128){yt(this,P,[]);yt(this,v,!1);yt(this,E);yt(this,p,-1);At(this,E,tt)}add({cmd:tt,undo:xt,mustExec:Bt,type:Vt=NaN,overwriteIfSameType:Jt=!1,keepUndo:Yt=!1}){if(Bt&&tt(),c(this,v))return;const W={cmd:tt,undo:xt,type:Vt};if(c(this,p)===-1){c(this,P).length>0&&(c(this,P).length=0),At(this,p,0),c(this,P).push(W);return}if(Jt&&c(this,P)[c(this,p)].type===Vt){Yt&&(W.undo=c(this,P)[c(this,p)].undo),c(this,P)[c(this,p)]=W;return}const G=c(this,p)+1;G===c(this,E)?c(this,P).splice(0,1):(At(this,p,G),G<c(this,P).length&&c(this,P).splice(G)),c(this,P).push(W)}undo(){c(this,p)!==-1&&(At(this,v,!0),c(this,P)[c(this,p)].undo(),At(this,v,!1),At(this,p,c(this,p)-1))}redo(){c(this,p)<c(this,P).length-1&&(At(this,p,c(this,p)+1),At(this,v,!0),c(this,P)[c(this,p)].cmd(),At(this,v,!1))}hasSomethingToUndo(){return c(this,p)!==-1}hasSomethingToRedo(){return c(this,p)<c(this,P).length-1}destroy(){At(this,P,null)}}P=new WeakMap,v=new WeakMap,E=new WeakMap,p=new WeakMap,s.CommandManager=b;class y{constructor(tt){yt(this,_);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:xt}=o.FeatureTest.platform;for(const[Bt,Vt,Jt={}]of tt)for(const Yt of Bt){const W=Yt.startsWith("mac+");xt&&W?(this.callbacks.set(Yt.slice(4),{callback:Vt,options:Jt}),this.allKeys.add(Yt.split("+").at(-1))):!xt&&!W&&(this.callbacks.set(Yt,{callback:Vt,options:Jt}),this.allKeys.add(Yt.split("+").at(-1)))}}exec(tt,xt){if(!this.allKeys.has(xt.key))return;const Bt=this.callbacks.get(lt(this,_,Pf).call(this,xt));if(!Bt)return;const{callback:Vt,options:{bubbles:Jt=!1,args:Yt=[],checker:W=null}}=Bt;W&&!W(tt,xt)||(Vt.bind(tt,...Yt)(),Jt||(xt.stopPropagation(),xt.preventDefault()))}}_=new WeakSet,Pf=function(tt){tt.altKey&&this.buffer.push("alt"),tt.ctrlKey&&this.buffer.push("ctrl"),tt.metaKey&&this.buffer.push("meta"),tt.shiftKey&&this.buffer.push("shift"),this.buffer.push(tt.key);const xt=this.buffer.join("+");return this.buffer.length=0,xt},s.KeyboardManager=y;const Z=class Z{get _colors(){const tt=new Map([["CanvasText",null],["Canvas",null]]);return(0,h.getColorValues)(tt),(0,o.shadow)(this,"_colors",tt)}convert(tt){const xt=(0,h.getRGB)(tt);if(!window.matchMedia("(forced-colors: active)").matches)return xt;for(const[Bt,Vt]of this._colors)if(Vt.every((Jt,Yt)=>Jt===xt[Yt]))return Z._colorsMapping.get(Bt);return xt}getHexCode(tt){const xt=this._colors.get(tt);return xt?o.Util.makeHexColor(...xt):tt}};De(Z,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let w=Z;s.ColorManager=w;const ge=class ge{constructor(tt,xt,Bt,Vt,Jt,Yt){yt(this,ct);yt(this,A,null);yt(this,z,new Map);yt(this,Q,new Map);yt(this,ut,null);yt(this,nt,null);yt(this,B,new b);yt(this,Y,0);yt(this,st,new Set);yt(this,X,null);yt(this,et,null);yt(this,k,new Set);yt(this,T,null);yt(this,d,new V);yt(this,f,!1);yt(this,N,!1);yt(this,q,null);yt(this,K,o.AnnotationEditorType.NONE);yt(this,J,new Set);yt(this,it,null);yt(this,pt,this.blur.bind(this));yt(this,Ct,this.focus.bind(this));yt(this,Et,this.copy.bind(this));yt(this,Lt,this.cut.bind(this));yt(this,Nt,this.paste.bind(this));yt(this,jt,this.keydown.bind(this));yt(this,ft,this.onEditingAction.bind(this));yt(this,mt,this.onPageChanging.bind(this));yt(this,I,this.onScaleChanging.bind(this));yt(this,$,this.onRotationChanging.bind(this));yt(this,ot,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});yt(this,gt,[0,0]);yt(this,wt,null);yt(this,zt,null);yt(this,Ot,null);At(this,zt,tt),At(this,Ot,xt),At(this,ut,Bt),this._eventBus=Vt,this._eventBus._on("editingaction",c(this,ft)),this._eventBus._on("pagechanging",c(this,mt)),this._eventBus._on("scalechanging",c(this,I)),this._eventBus._on("rotationchanging",c(this,$)),At(this,nt,Jt.annotationStorage),At(this,T,Jt.filterFactory),At(this,it,Yt),this.viewParameters={realScale:h.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const tt=ge.prototype,xt=Jt=>{const{activeElement:Yt}=document;return Yt&&c(Jt,zt).contains(Yt)&&Jt.hasSomethingToControl()},Bt=this.TRANSLATE_SMALL,Vt=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new y([[["ctrl+a","mac+meta+a"],tt.selectAll],[["ctrl+z","mac+meta+z"],tt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],tt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],tt.delete],[["Escape","mac+Escape"],tt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],tt.translateSelectedEditors,{args:[-Bt,0],checker:xt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],tt.translateSelectedEditors,{args:[-Vt,0],checker:xt}],[["ArrowRight","mac+ArrowRight"],tt.translateSelectedEditors,{args:[Bt,0],checker:xt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],tt.translateSelectedEditors,{args:[Vt,0],checker:xt}],[["ArrowUp","mac+ArrowUp"],tt.translateSelectedEditors,{args:[0,-Bt],checker:xt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],tt.translateSelectedEditors,{args:[0,-Vt],checker:xt}],[["ArrowDown","mac+ArrowDown"],tt.translateSelectedEditors,{args:[0,Bt],checker:xt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],tt.translateSelectedEditors,{args:[0,Vt],checker:xt}]]))}destroy(){lt(this,ct,Br).call(this),lt(this,ct,pc).call(this),this._eventBus._off("editingaction",c(this,ft)),this._eventBus._off("pagechanging",c(this,mt)),this._eventBus._off("scalechanging",c(this,I)),this._eventBus._off("rotationchanging",c(this,$));for(const tt of c(this,Q).values())tt.destroy();c(this,Q).clear(),c(this,z).clear(),c(this,k).clear(),At(this,A,null),c(this,J).clear(),c(this,B).destroy(),c(this,ut).destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",c(this,it)?c(this,T).addHCMFilter(c(this,it).foreground,c(this,it).background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(c(this,zt)).direction)}editAltText(tt){var xt;(xt=c(this,ut))==null||xt.editAltText(this,tt)}onPageChanging({pageNumber:tt}){At(this,Y,tt-1)}focusMainContainer(){c(this,zt).focus()}findParent(tt,xt){for(const Bt of c(this,Q).values()){const{x:Vt,y:Jt,width:Yt,height:W}=Bt.div.getBoundingClientRect();if(tt>=Vt&&tt<=Vt+Yt&&xt>=Jt&&xt<=Jt+W)return Bt}return null}disableUserSelect(tt=!1){c(this,Ot).classList.toggle("noUserSelect",tt)}addShouldRescale(tt){c(this,k).add(tt)}removeShouldRescale(tt){c(this,k).delete(tt)}onScaleChanging({scale:tt}){this.commitOrRemove(),this.viewParameters.realScale=tt*h.PixelsPerInch.PDF_TO_CSS_UNITS;for(const xt of c(this,k))xt.onScaleChanging()}onRotationChanging({pagesRotation:tt}){this.commitOrRemove(),this.viewParameters.rotation=tt}addToAnnotationStorage(tt){!tt.isEmpty()&&c(this,nt)&&!c(this,nt).has(tt.id)&&c(this,nt).setValue(tt.id,tt)}blur(){if(!this.hasSelection)return;const{activeElement:tt}=document;for(const xt of c(this,J))if(xt.div.contains(tt)){At(this,q,[xt,tt]),xt._focusEventsAllowed=!1;break}}focus(){if(!c(this,q))return;const[tt,xt]=c(this,q);At(this,q,null),xt.addEventListener("focusin",()=>{tt._focusEventsAllowed=!0},{once:!0}),xt.focus()}addEditListeners(){lt(this,ct,gc).call(this),lt(this,ct,mc).call(this)}removeEditListeners(){lt(this,ct,Br).call(this),lt(this,ct,bc).call(this)}copy(tt){var Bt;if(tt.preventDefault(),(Bt=c(this,A))==null||Bt.commitOrRemove(),!this.hasSelection)return;const xt=[];for(const Vt of c(this,J)){const Jt=Vt.serialize(!0);Jt&&xt.push(Jt)}xt.length!==0&&tt.clipboardData.setData("application/pdfjs",JSON.stringify(xt))}cut(tt){this.copy(tt),this.delete()}paste(tt){tt.preventDefault();const{clipboardData:xt}=tt;for(const Jt of xt.items)for(const Yt of c(this,et))if(Yt.isHandlingMimeForPasting(Jt.type)){Yt.paste(Jt,this.currentLayer);return}let Bt=xt.getData("application/pdfjs");if(!Bt)return;try{Bt=JSON.parse(Bt)}catch(Jt){(0,o.warn)(`paste: "${Jt.message}".`);return}if(!Array.isArray(Bt))return;this.unselectAll();const Vt=this.currentLayer;try{const Jt=[];for(const G of Bt){const at=Vt.deserialize(G);if(!at)return;Jt.push(at)}const Yt=()=>{for(const G of Jt)lt(this,ct,yc).call(this,G);lt(this,ct,vc).call(this,Jt)},W=()=>{for(const G of Jt)G.remove()};this.addCommands({cmd:Yt,undo:W,mustExec:!0})}catch(Jt){(0,o.warn)(`paste: "${Jt.message}".`)}}keydown(tt){var xt;(xt=this.getActive())!=null&&xt.shouldGetKeyboardEvents()||ge._keyboardManager.exec(this,tt)}onEditingAction(tt){["undo","redo","delete","selectAll"].includes(tt.name)&&this[tt.name]()}setEditingState(tt){tt?(lt(this,ct,zf).call(this),lt(this,ct,gc).call(this),lt(this,ct,mc).call(this),lt(this,ct,Mn).call(this,{isEditing:c(this,K)!==o.AnnotationEditorType.NONE,isEmpty:lt(this,ct,As).call(this),hasSomethingToUndo:c(this,B).hasSomethingToUndo(),hasSomethingToRedo:c(this,B).hasSomethingToRedo(),hasSelectedEditor:!1})):(lt(this,ct,pc).call(this),lt(this,ct,Br).call(this),lt(this,ct,bc).call(this),lt(this,ct,Mn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(tt){if(!c(this,et)){At(this,et,tt);for(const xt of c(this,et))lt(this,ct,vs).call(this,xt.defaultPropertiesToUpdate)}}getId(){return c(this,d).getId()}get currentLayer(){return c(this,Q).get(c(this,Y))}getLayer(tt){return c(this,Q).get(tt)}get currentPageIndex(){return c(this,Y)}addLayer(tt){c(this,Q).set(tt.pageIndex,tt),c(this,f)?tt.enable():tt.disable()}removeLayer(tt){c(this,Q).delete(tt.pageIndex)}updateMode(tt,xt=null){if(c(this,K)!==tt){if(At(this,K,tt),tt===o.AnnotationEditorType.NONE){this.setEditingState(!1),lt(this,ct,Bf).call(this);return}this.setEditingState(!0),lt(this,ct,Uf).call(this),this.unselectAll();for(const Bt of c(this,Q).values())Bt.updateMode(tt);if(xt){for(const Bt of c(this,z).values())if(Bt.annotationElementId===xt){this.setSelected(Bt),Bt.enterInEditMode();break}}}}updateToolbar(tt){tt!==c(this,K)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:tt})}updateParams(tt,xt){if(c(this,et)){if(tt===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(tt);return}for(const Bt of c(this,J))Bt.updateParams(tt,xt);for(const Bt of c(this,et))Bt.updateDefaultParams(tt,xt)}}enableWaiting(tt=!1){if(c(this,N)!==tt){At(this,N,tt);for(const xt of c(this,Q).values())tt?xt.disableClick():xt.enableClick(),xt.div.classList.toggle("waiting",tt)}}getEditors(tt){const xt=[];for(const Bt of c(this,z).values())Bt.pageIndex===tt&&xt.push(Bt);return xt}getEditor(tt){return c(this,z).get(tt)}addEditor(tt){c(this,z).set(tt.id,tt)}removeEditor(tt){var xt;c(this,z).delete(tt.id),this.unselect(tt),(!tt.annotationElementId||!c(this,st).has(tt.annotationElementId))&&((xt=c(this,nt))==null||xt.remove(tt.id))}addDeletedAnnotationElement(tt){c(this,st).add(tt.annotationElementId),tt.deleted=!0}isDeletedAnnotationElement(tt){return c(this,st).has(tt)}removeDeletedAnnotationElement(tt){c(this,st).delete(tt.annotationElementId),tt.deleted=!1}setActiveEditor(tt){c(this,A)!==tt&&(At(this,A,tt),tt&&lt(this,ct,vs).call(this,tt.propertiesToUpdate))}toggleSelected(tt){if(c(this,J).has(tt)){c(this,J).delete(tt),tt.unselect(),lt(this,ct,Mn).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,J).add(tt),tt.select(),lt(this,ct,vs).call(this,tt.propertiesToUpdate),lt(this,ct,Mn).call(this,{hasSelectedEditor:!0})}setSelected(tt){for(const xt of c(this,J))xt!==tt&&xt.unselect();c(this,J).clear(),c(this,J).add(tt),tt.select(),lt(this,ct,vs).call(this,tt.propertiesToUpdate),lt(this,ct,Mn).call(this,{hasSelectedEditor:!0})}isSelected(tt){return c(this,J).has(tt)}unselect(tt){tt.unselect(),c(this,J).delete(tt),lt(this,ct,Mn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,J).size!==0}undo(){c(this,B).undo(),lt(this,ct,Mn).call(this,{hasSomethingToUndo:c(this,B).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:lt(this,ct,As).call(this)})}redo(){c(this,B).redo(),lt(this,ct,Mn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,B).hasSomethingToRedo(),isEmpty:lt(this,ct,As).call(this)})}addCommands(tt){c(this,B).add(tt),lt(this,ct,Mn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:lt(this,ct,As).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const tt=[...c(this,J)],xt=()=>{for(const Vt of tt)Vt.remove()},Bt=()=>{for(const Vt of tt)lt(this,ct,yc).call(this,Vt)};this.addCommands({cmd:xt,undo:Bt,mustExec:!0})}commitOrRemove(){var tt;(tt=c(this,A))==null||tt.commitOrRemove()}hasSomethingToControl(){return c(this,A)||this.hasSelection}selectAll(){for(const tt of c(this,J))tt.commit();lt(this,ct,vc).call(this,c(this,z).values())}unselectAll(){if(c(this,A)){c(this,A).commitOrRemove();return}if(this.hasSelection){for(const tt of c(this,J))tt.unselect();c(this,J).clear(),lt(this,ct,Mn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(tt,xt,Bt=!1){if(Bt||this.commitOrRemove(),!this.hasSelection)return;c(this,gt)[0]+=tt,c(this,gt)[1]+=xt;const[Vt,Jt]=c(this,gt),Yt=[...c(this,J)],W=1e3;c(this,wt)&&clearTimeout(c(this,wt)),At(this,wt,setTimeout(()=>{At(this,wt,null),c(this,gt)[0]=c(this,gt)[1]=0,this.addCommands({cmd:()=>{for(const G of Yt)c(this,z).has(G.id)&&G.translateInPage(Vt,Jt)},undo:()=>{for(const G of Yt)c(this,z).has(G.id)&&G.translateInPage(-Vt,-Jt)},mustExec:!1})},W));for(const G of Yt)G.translateInPage(tt,xt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),At(this,X,new Map);for(const tt of c(this,J))c(this,X).set(tt,{savedX:tt.x,savedY:tt.y,savedPageIndex:tt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,X))return!1;this.disableUserSelect(!1);const tt=c(this,X);At(this,X,null);let xt=!1;for(const[{x:Vt,y:Jt,pageIndex:Yt},W]of tt)W.newX=Vt,W.newY=Jt,W.newPageIndex=Yt,xt||(xt=Vt!==W.savedX||Jt!==W.savedY||Yt!==W.savedPageIndex);if(!xt)return!1;const Bt=(Vt,Jt,Yt,W)=>{if(c(this,z).has(Vt.id)){const G=c(this,Q).get(W);G?Vt._setParentAndPosition(G,Jt,Yt):(Vt.pageIndex=W,Vt.x=Jt,Vt.y=Yt)}};return this.addCommands({cmd:()=>{for(const[Vt,{newX:Jt,newY:Yt,newPageIndex:W}]of tt)Bt(Vt,Jt,Yt,W)},undo:()=>{for(const[Vt,{savedX:Jt,savedY:Yt,savedPageIndex:W}]of tt)Bt(Vt,Jt,Yt,W)},mustExec:!0}),!0}dragSelectedEditors(tt,xt){if(c(this,X))for(const Bt of c(this,X).keys())Bt.drag(tt,xt)}rebuild(tt){if(tt.parent===null){const xt=this.getLayer(tt.pageIndex);xt?(xt.changeParent(tt),xt.addOrRebuild(tt)):(this.addEditor(tt),this.addToAnnotationStorage(tt),tt.rebuild())}else tt.parent.addOrRebuild(tt)}isActive(tt){return c(this,A)===tt}getActive(){return c(this,A)}getMode(){return c(this,K)}get imageManager(){return(0,o.shadow)(this,"imageManager",new S)}};A=new WeakMap,z=new WeakMap,Q=new WeakMap,ut=new WeakMap,nt=new WeakMap,B=new WeakMap,Y=new WeakMap,st=new WeakMap,X=new WeakMap,et=new WeakMap,k=new WeakMap,T=new WeakMap,d=new WeakMap,f=new WeakMap,N=new WeakMap,q=new WeakMap,K=new WeakMap,J=new WeakMap,it=new WeakMap,pt=new WeakMap,Ct=new WeakMap,Et=new WeakMap,Lt=new WeakMap,Nt=new WeakMap,jt=new WeakMap,ft=new WeakMap,mt=new WeakMap,I=new WeakMap,$=new WeakMap,ot=new WeakMap,gt=new WeakMap,wt=new WeakMap,zt=new WeakMap,Ot=new WeakMap,ct=new WeakSet,zf=function(){window.addEventListener("focus",c(this,Ct)),window.addEventListener("blur",c(this,pt))},pc=function(){window.removeEventListener("focus",c(this,Ct)),window.removeEventListener("blur",c(this,pt))},gc=function(){window.addEventListener("keydown",c(this,jt),{capture:!0})},Br=function(){window.removeEventListener("keydown",c(this,jt),{capture:!0})},mc=function(){document.addEventListener("copy",c(this,Et)),document.addEventListener("cut",c(this,Lt)),document.addEventListener("paste",c(this,Nt))},bc=function(){document.removeEventListener("copy",c(this,Et)),document.removeEventListener("cut",c(this,Lt)),document.removeEventListener("paste",c(this,Nt))},Mn=function(tt){Object.entries(tt).some(([Bt,Vt])=>c(this,ot)[Bt]!==Vt)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,ot),tt)})},vs=function(tt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:tt})},Uf=function(){if(!c(this,f)){At(this,f,!0);for(const tt of c(this,Q).values())tt.enable()}},Bf=function(){if(this.unselectAll(),c(this,f)){At(this,f,!1);for(const tt of c(this,Q).values())tt.disable()}},yc=function(tt){const xt=c(this,Q).get(tt.pageIndex);xt?xt.addOrRebuild(tt):this.addEditor(tt)},As=function(){if(c(this,z).size===0)return!0;if(c(this,z).size===1)for(const tt of c(this,z).values())return tt.isEmpty();return!1},vc=function(tt){c(this,J).clear();for(const xt of tt)xt.isEmpty()||(c(this,J).add(xt),xt.select());lt(this,ct,Mn).call(this,{hasSelectedEditor:!0})},De(ge,"TRANSLATE_SMALL",1),De(ge,"TRANSLATE_BIG",10);let j=ge;s.AnnotationEditorUIManager=j}),((l,s,u)=>{var Y,st,X,et,k,T,d,f,N,q,K,J,Ta,Ra,Ac,Hr,Ir,_s,Ss;Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMFilterFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=void 0,s.deprecated=p,s.getColorValues=z,s.getCurrentTransform=Q,s.getCurrentTransformInverse=ut,s.getFilenameFromUrl=m,s.getPdfFilenameFromUrl=R,s.getRGB=A,s.getXfaPageViewport=Z,s.isDataScheme=F,s.isPdfFile=x,s.isValidFetchUrl=P,s.loadScript=E,s.noContextMenu=v,s.setLayerDimensions=nt;var o=u(7),h=u(1);const L="http://www.w3.org/2000/svg",B=class B{};De(B,"CSS",96),De(B,"PDF",72),De(B,"PDF_TO_CSS_UNITS",B.CSS/B.PDF);let D=B;s.PixelsPerInch=D;class V extends o.BaseFilterFactory{constructor({docId:I,ownerDocument:$=globalThis.document}={}){super();yt(this,J);yt(this,Y);yt(this,st);yt(this,X);yt(this,et);yt(this,k);yt(this,T);yt(this,d);yt(this,f);yt(this,N);yt(this,q);yt(this,K,0);At(this,X,I),At(this,et,$)}addFilter(I){if(!I)return"none";let $=c(this,J,Ta).get(I);if($)return $;let ot,gt,wt,zt;if(I.length===1){const It=I[0],ae=new Array(256);for(let ie=0;ie<256;ie++)ae[ie]=It[ie]/255;zt=ot=gt=wt=ae.join(",")}else{const[It,ae,ie]=I,fe=new Array(256),Qt=new Array(256),ne=new Array(256);for(let de=0;de<256;de++)fe[de]=It[de]/255,Qt[de]=ae[de]/255,ne[de]=ie[de]/255;ot=fe.join(","),gt=Qt.join(","),wt=ne.join(","),zt=`${ot}${gt}${wt}`}if($=c(this,J,Ta).get(zt),$)return c(this,J,Ta).set(I,$),$;const Ot=`g_${c(this,X)}_transfer_map_${ys(this,K)._++}`,ct=`url(#${Ot})`;c(this,J,Ta).set(I,ct),c(this,J,Ta).set(zt,ct);const Gt=lt(this,J,Hr).call(this,Ot);return lt(this,J,_s).call(this,ot,gt,wt,Gt),ct}addHCMFilter(I,$){var ae;const ot=`${I}-${$}`;if(c(this,T)===ot)return c(this,d);if(At(this,T,ot),At(this,d,"none"),(ae=c(this,k))==null||ae.remove(),!I||!$)return c(this,d);const gt=lt(this,J,Ss).call(this,I);I=h.Util.makeHexColor(...gt);const wt=lt(this,J,Ss).call(this,$);if($=h.Util.makeHexColor(...wt),c(this,J,Ra).style.color="",I==="#000000"&&$==="#ffffff"||I===$)return c(this,d);const zt=new Array(256);for(let ie=0;ie<=255;ie++){const fe=ie/255;zt[ie]=fe<=.03928?fe/12.92:((fe+.055)/1.055)**2.4}const Ot=zt.join(","),ct=`g_${c(this,X)}_hcm_filter`,Gt=At(this,f,lt(this,J,Hr).call(this,ct));lt(this,J,_s).call(this,Ot,Ot,Ot,Gt),lt(this,J,Ac).call(this,Gt);const It=(ie,fe)=>{const Qt=gt[ie]/255,ne=wt[ie]/255,de=new Array(fe+1);for(let he=0;he<=fe;he++)de[he]=Qt+he/fe*(ne-Qt);return de.join(",")};return lt(this,J,_s).call(this,It(0,5),It(1,5),It(2,5),Gt),At(this,d,`url(#${ct})`),c(this,d)}addHighlightHCMFilter(I,$,ot,gt){var ne;const wt=`${I}-${$}-${ot}-${gt}`;if(c(this,N)===wt)return c(this,q);if(At(this,N,wt),At(this,q,"none"),(ne=c(this,f))==null||ne.remove(),!I||!$)return c(this,q);const[zt,Ot]=[I,$].map(lt(this,J,Ss).bind(this));let ct=Math.round(.2126*zt[0]+.7152*zt[1]+.0722*zt[2]),Gt=Math.round(.2126*Ot[0]+.7152*Ot[1]+.0722*Ot[2]),[It,ae]=[ot,gt].map(lt(this,J,Ss).bind(this));Gt<ct&&([ct,Gt,It,ae]=[Gt,ct,ae,It]),c(this,J,Ra).style.color="";const ie=(de,he,kt)=>{const ht=new Array(256),vt=(Gt-ct)/kt,$t=de/255,ge=(he-de)/(255*kt);let ce=0;for(let tt=0;tt<=kt;tt++){const xt=Math.round(ct+tt*vt),Bt=$t+tt*ge;for(let Vt=ce;Vt<=xt;Vt++)ht[Vt]=Bt;ce=xt+1}for(let tt=ce;tt<256;tt++)ht[tt]=ht[ce-1];return ht.join(",")},fe=`g_${c(this,X)}_hcm_highlight_filter`,Qt=At(this,f,lt(this,J,Hr).call(this,fe));return lt(this,J,Ac).call(this,Qt),lt(this,J,_s).call(this,ie(It[0],ae[0],5),ie(It[1],ae[1],5),ie(It[2],ae[2],5),Qt),At(this,q,`url(#${fe})`),c(this,q)}destroy(I=!1){I&&(c(this,d)||c(this,q))||(c(this,st)&&(c(this,st).parentNode.parentNode.remove(),At(this,st,null)),c(this,Y)&&(c(this,Y).clear(),At(this,Y,null)),At(this,K,0))}}Y=new WeakMap,st=new WeakMap,X=new WeakMap,et=new WeakMap,k=new WeakMap,T=new WeakMap,d=new WeakMap,f=new WeakMap,N=new WeakMap,q=new WeakMap,K=new WeakMap,J=new WeakSet,Ta=function(){return c(this,Y)||At(this,Y,new Map)},Ra=function(){if(!c(this,st)){const I=c(this,et).createElement("div"),{style:$}=I;$.visibility="hidden",$.contain="strict",$.width=$.height=0,$.position="absolute",$.top=$.left=0,$.zIndex=-1;const ot=c(this,et).createElementNS(L,"svg");ot.setAttribute("width",0),ot.setAttribute("height",0),At(this,st,c(this,et).createElementNS(L,"defs")),I.append(ot),ot.append(c(this,st)),c(this,et).body.append(I)}return c(this,st)},Ac=function(I){const $=c(this,et).createElementNS(L,"feColorMatrix");$.setAttribute("type","matrix"),$.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),I.append($)},Hr=function(I){const $=c(this,et).createElementNS(L,"filter");return $.setAttribute("color-interpolation-filters","sRGB"),$.setAttribute("id",I),c(this,J,Ra).append($),$},Ir=function(I,$,ot){const gt=c(this,et).createElementNS(L,$);gt.setAttribute("type","discrete"),gt.setAttribute("tableValues",ot),I.append(gt)},_s=function(I,$,ot,gt){const wt=c(this,et).createElementNS(L,"feComponentTransfer");gt.append(wt),lt(this,J,Ir).call(this,wt,"feFuncR",I),lt(this,J,Ir).call(this,wt,"feFuncG",$),lt(this,J,Ir).call(this,wt,"feFuncB",ot)},Ss=function(I){return c(this,J,Ra).style.color=I,A(getComputedStyle(c(this,J,Ra)).getPropertyValue("color"))},s.DOMFilterFactory=V;class S extends o.BaseCanvasFactory{constructor({ownerDocument:mt=globalThis.document}={}){super(),this._document=mt}_createCanvas(mt,I){const $=this._document.createElement("canvas");return $.width=mt,$.height=I,$}}s.DOMCanvasFactory=S;async function b(ft,mt=!1){if(P(ft,document.baseURI)){const I=await fetch(ft);if(!I.ok)throw new Error(I.statusText);return mt?new Uint8Array(await I.arrayBuffer()):(0,h.stringToBytes)(await I.text())}return new Promise((I,$)=>{const ot=new XMLHttpRequest;ot.open("GET",ft,!0),mt&&(ot.responseType="arraybuffer"),ot.onreadystatechange=()=>{if(ot.readyState===XMLHttpRequest.DONE){if(ot.status===200||ot.status===0){let gt;if(mt&&ot.response?gt=new Uint8Array(ot.response):!mt&&ot.responseText&&(gt=(0,h.stringToBytes)(ot.responseText)),gt){I(gt);return}}$(new Error(ot.statusText))}},ot.send(null)})}class y extends o.BaseCMapReaderFactory{_fetchData(mt,I){return b(mt,this.isCompressed).then($=>({cMapData:$,compressionType:I}))}}s.DOMCMapReaderFactory=y;class w extends o.BaseStandardFontDataFactory{_fetchData(mt){return b(mt,!0)}}s.DOMStandardFontDataFactory=w;class j extends o.BaseSVGFactory{_createSVG(mt){return document.createElementNS(L,mt)}}s.DOMSVGFactory=j;class M{constructor({viewBox:mt,scale:I,rotation:$,offsetX:ot=0,offsetY:gt=0,dontFlip:wt=!1}){this.viewBox=mt,this.scale=I,this.rotation=$,this.offsetX=ot,this.offsetY=gt;const zt=(mt[2]+mt[0])/2,Ot=(mt[3]+mt[1])/2;let ct,Gt,It,ae;switch($%=360,$<0&&($+=360),$){case 180:ct=-1,Gt=0,It=0,ae=1;break;case 90:ct=0,Gt=1,It=1,ae=0;break;case 270:ct=0,Gt=-1,It=-1,ae=0;break;case 0:ct=1,Gt=0,It=0,ae=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}wt&&(It=-It,ae=-ae);let ie,fe,Qt,ne;ct===0?(ie=Math.abs(Ot-mt[1])*I+ot,fe=Math.abs(zt-mt[0])*I+gt,Qt=(mt[3]-mt[1])*I,ne=(mt[2]-mt[0])*I):(ie=Math.abs(zt-mt[0])*I+ot,fe=Math.abs(Ot-mt[1])*I+gt,Qt=(mt[2]-mt[0])*I,ne=(mt[3]-mt[1])*I),this.transform=[ct*I,Gt*I,It*I,ae*I,ie-ct*I*zt-It*I*Ot,fe-Gt*I*zt-ae*I*Ot],this.width=Qt,this.height=ne}get rawDims(){const{viewBox:mt}=this;return(0,h.shadow)(this,"rawDims",{pageWidth:mt[2]-mt[0],pageHeight:mt[3]-mt[1],pageX:mt[0],pageY:mt[1]})}clone({scale:mt=this.scale,rotation:I=this.rotation,offsetX:$=this.offsetX,offsetY:ot=this.offsetY,dontFlip:gt=!1}={}){return new M({viewBox:this.viewBox.slice(),scale:mt,rotation:I,offsetX:$,offsetY:ot,dontFlip:gt})}convertToViewportPoint(mt,I){return h.Util.applyTransform([mt,I],this.transform)}convertToViewportRectangle(mt){const I=h.Util.applyTransform([mt[0],mt[1]],this.transform),$=h.Util.applyTransform([mt[2],mt[3]],this.transform);return[I[0],I[1],$[0],$[1]]}convertToPdfPoint(mt,I){return h.Util.applyInverseTransform([mt,I],this.transform)}}s.PageViewport=M;class O extends h.BaseException{constructor(mt,I=0){super(mt,"RenderingCancelledException"),this.extraDelay=I}}s.RenderingCancelledException=O;function F(ft){const mt=ft.length;let I=0;for(;I<mt&&ft[I].trim()==="";)I++;return ft.substring(I,I+5).toLowerCase()==="data:"}function x(ft){return typeof ft=="string"&&/\.pdf$/i.test(ft)}function m(ft,mt=!1){return mt||([ft]=ft.split(/[#?]/,1)),ft.substring(ft.lastIndexOf("/")+1)}function R(ft,mt="document.pdf"){if(typeof ft!="string")return mt;if(F(ft))return(0,h.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),mt;const I=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,$=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ot=I.exec(ft);let gt=$.exec(ot[1])||$.exec(ot[2])||$.exec(ot[3]);if(gt&&(gt=gt[0],gt.includes("%")))try{gt=$.exec(decodeURIComponent(gt))[0]}catch{}return gt||mt}class U{constructor(){De(this,"started",Object.create(null));De(this,"times",[])}time(mt){mt in this.started&&(0,h.warn)(`Timer is already running for ${mt}`),this.started[mt]=Date.now()}timeEnd(mt){mt in this.started||(0,h.warn)(`Timer has not been started for ${mt}`),this.times.push({name:mt,start:this.started[mt],end:Date.now()}),delete this.started[mt]}toString(){const mt=[];let I=0;for(const{name:$}of this.times)I=Math.max($.length,I);for(const{name:$,start:ot,end:gt}of this.times)mt.push(`${$.padEnd(I)} ${gt-ot}ms
`);return mt.join("")}}s.StatTimer=U;function P(ft,mt){try{const{protocol:I}=mt?new URL(ft,mt):new URL(ft);return I==="http:"||I==="https:"}catch{return!1}}function v(ft){ft.preventDefault()}function E(ft,mt=!1){return new Promise((I,$)=>{const ot=document.createElement("script");ot.src=ft,ot.onload=function(gt){mt&&ot.remove(),I(gt)},ot.onerror=function(){$(new Error(`Cannot load script at: ${ot.src}`))},(document.head||document.documentElement).append(ot)})}function p(ft){console.log("Deprecated API usage: "+ft)}let _;class C{static toDateObject(mt){if(!mt||typeof mt!="string")return null;_||(_=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const I=_.exec(mt);if(!I)return null;const $=parseInt(I[1],10);let ot=parseInt(I[2],10);ot=ot>=1&&ot<=12?ot-1:0;let gt=parseInt(I[3],10);gt=gt>=1&&gt<=31?gt:1;let wt=parseInt(I[4],10);wt=wt>=0&&wt<=23?wt:0;let zt=parseInt(I[5],10);zt=zt>=0&&zt<=59?zt:0;let Ot=parseInt(I[6],10);Ot=Ot>=0&&Ot<=59?Ot:0;const ct=I[7]||"Z";let Gt=parseInt(I[8],10);Gt=Gt>=0&&Gt<=23?Gt:0;let It=parseInt(I[9],10)||0;return It=It>=0&&It<=59?It:0,ct==="-"?(wt+=Gt,zt+=It):ct==="+"&&(wt-=Gt,zt-=It),new Date(Date.UTC($,ot,gt,wt,zt,Ot))}}s.PDFDateString=C;function Z(ft,{scale:mt=1,rotation:I=0}){const{width:$,height:ot}=ft.attributes.style,gt=[0,0,parseInt($),parseInt(ot)];return new M({viewBox:gt,scale:mt,rotation:I})}function A(ft){if(ft.startsWith("#")){const mt=parseInt(ft.slice(1),16);return[(mt&16711680)>>16,(mt&65280)>>8,mt&255]}return ft.startsWith("rgb(")?ft.slice(4,-1).split(",").map(mt=>parseInt(mt)):ft.startsWith("rgba(")?ft.slice(5,-1).split(",").map(mt=>parseInt(mt)).slice(0,3):((0,h.warn)(`Not a valid color format: "${ft}"`),[0,0,0])}function z(ft){const mt=document.createElement("span");mt.style.visibility="hidden",document.body.append(mt);for(const I of ft.keys()){mt.style.color=I;const $=window.getComputedStyle(mt).color;ft.set(I,A($))}mt.remove()}function Q(ft){const{a:mt,b:I,c:$,d:ot,e:gt,f:wt}=ft.getTransform();return[mt,I,$,ot,gt,wt]}function ut(ft){const{a:mt,b:I,c:$,d:ot,e:gt,f:wt}=ft.getTransform().invertSelf();return[mt,I,$,ot,gt,wt]}function nt(ft,mt,I=!1,$=!0){if(mt instanceof M){const{pageWidth:ot,pageHeight:gt}=mt.rawDims,{style:wt}=ft,zt=h.FeatureTest.isCSSRoundSupported,Ot=`var(--scale-factor) * ${ot}px`,ct=`var(--scale-factor) * ${gt}px`,Gt=zt?`round(${Ot}, 1px)`:`calc(${Ot})`,It=zt?`round(${ct}, 1px)`:`calc(${ct})`;!I||mt.rotation%180===0?(wt.width=Gt,wt.height=It):(wt.width=It,wt.height=Gt)}$&&ft.setAttribute("data-main-rotation",mt.rotation)}}),((l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseFilterFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var o=u(1);class h{constructor(){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(y){return"none"}addHCMFilter(y,w){return"none"}addHighlightHCMFilter(y,w,j,M){return"none"}destroy(y=!1){}}s.BaseFilterFactory=h;class L{constructor(){this.constructor===L&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(y,w){if(y<=0||w<=0)throw new Error("Invalid canvas size");const j=this._createCanvas(y,w);return{canvas:j,context:j.getContext("2d")}}reset(y,w,j){if(!y.canvas)throw new Error("Canvas is not specified");if(w<=0||j<=0)throw new Error("Invalid canvas size");y.canvas.width=w,y.canvas.height=j}destroy(y){if(!y.canvas)throw new Error("Canvas is not specified");y.canvas.width=0,y.canvas.height=0,y.canvas=null,y.context=null}_createCanvas(y,w){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=L;class D{constructor({baseUrl:y=null,isCompressed:w=!0}){this.constructor===D&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=y,this.isCompressed=w}async fetch({name:y}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!y)throw new Error("CMap name must be specified.");const w=this.baseUrl+y+(this.isCompressed?".bcmap":""),j=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(w,j).catch(M=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${w}`)})}_fetchData(y,w){(0,o.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=D;class V{constructor({baseUrl:y=null}){this.constructor===V&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=y}async fetch({filename:y}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!y)throw new Error("Font filename must be specified.");const w=`${this.baseUrl}${y}`;return this._fetchData(w).catch(j=>{throw new Error(`Unable to load font data at: ${w}`)})}_fetchData(y){(0,o.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=V;class S{constructor(){this.constructor===S&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(y,w,j=!1){if(y<=0||w<=0)throw new Error("Invalid SVG dimensions");const M=this._createSVG("svg:svg");return M.setAttribute("version","1.1"),j||(M.setAttribute("width",`${y}px`),M.setAttribute("height",`${w}px`)),M.setAttribute("preserveAspectRatio","none"),M.setAttribute("viewBox",`0 0 ${y} ${w}`),M}createElement(y){if(typeof y!="string")throw new Error("Invalid SVG element type");return this._createSVG(y)}_createSVG(y){(0,o.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=S}),((l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var o=u(1);const h=3285377520,L=4294901760,D=65535;class V{constructor(b){this.h1=b?b&4294967295:h,this.h2=b?b&4294967295:h}update(b){let y,w;if(typeof b=="string"){y=new Uint8Array(b.length*2),w=0;for(let p=0,_=b.length;p<_;p++){const C=b.charCodeAt(p);C<=255?y[w++]=C:(y[w++]=C>>>8,y[w++]=C&255)}}else if((0,o.isArrayBuffer)(b))y=b.slice(),w=y.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const j=w>>2,M=w-j*4,O=new Uint32Array(y.buffer,0,j);let F=0,x=0,m=this.h1,R=this.h2;const U=3432918353,P=461845907,v=U&D,E=P&D;for(let p=0;p<j;p++)p&1?(F=O[p],F=F*U&L|F*v&D,F=F<<15|F>>>17,F=F*P&L|F*E&D,m^=F,m=m<<13|m>>>19,m=m*5+3864292196):(x=O[p],x=x*U&L|x*v&D,x=x<<15|x>>>17,x=x*P&L|x*E&D,R^=x,R=R<<13|R>>>19,R=R*5+3864292196);switch(F=0,M){case 3:F^=y[j*4+2]<<16;case 2:F^=y[j*4+1]<<8;case 1:F^=y[j*4],F=F*U&L|F*v&D,F=F<<15|F>>>17,F=F*P&L|F*E&D,j&1?m^=F:R^=F}this.h1=m,this.h2=R}hexdigest(){let b=this.h1,y=this.h2;return b^=y>>>1,b=b*3981806797&L|b*36045&D,y=y*4283543511&L|((y<<16|b>>>16)*2950163797&L)>>>16,b^=y>>>1,b=b*444984403&L|b*60499&D,y=y*3301882366&L|((y<<16|b>>>16)*3120437893&L)>>>16,b^=y>>>1,(b>>>0).toString(16).padStart(8,"0")+(y>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=V}),((l,s,u)=>{var D;Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var o=u(1);class h{constructor({ownerDocument:S=globalThis.document,styleElement:b=null}){yt(this,D,new Set);this._document=S,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(S){this.nativeFontFaces.add(S),this._document.fonts.add(S)}removeNativeFontFace(S){this.nativeFontFaces.delete(S),this._document.fonts.delete(S)}insertRule(S){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const b=this.styleElement.sheet;b.insertRule(S,b.cssRules.length)}clear(){for(const S of this.nativeFontFaces)this._document.fonts.delete(S);this.nativeFontFaces.clear(),c(this,D).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(S){if(!(!S||c(this,D).has(S.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:b,src:y,style:w}=S,j=new FontFace(b,y,w);this.addNativeFontFace(j);try{await j.load(),c(this,D).add(b)}catch{(0,o.warn)(`Cannot load system font: ${S.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(j)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(S){if(S.attached||S.missingFile&&!S.systemFontInfo)return;if(S.attached=!0,S.systemFontInfo){await this.loadSystemFont(S.systemFontInfo);return}if(this.isFontLoadingAPISupported){const y=S.createNativeFontFace();if(y){this.addNativeFontFace(y);try{await y.loaded}catch(w){throw(0,o.warn)(`Failed to load font '${y.family}': '${w}'.`),S.disableFontFace=!0,w}}return}const b=S.createFontFaceRule();if(b){if(this.insertRule(b),this.isSyncFontLoadingSupported)return;await new Promise(y=>{const w=this._queueLoadingCallback(y);this._prepareFontLoadEvent(S,w)})}}get isFontLoadingAPISupported(){var b;const S=!!((b=this._document)!=null&&b.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",S)}get isSyncFontLoadingSupported(){let S=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(S=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",S)}_queueLoadingCallback(S){function b(){for((0,o.assert)(!w.done,"completeRequest() cannot be called twice."),w.done=!0;y.length>0&&y[0].done;){const j=y.shift();setTimeout(j.callback,0)}}const{loadingRequests:y}=this,w={done:!1,complete:b,callback:S};return y.push(w),w}get _loadTestFont(){const S=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",S)}_prepareFontLoadEvent(S,b){function y(A,z){return A.charCodeAt(z)<<24|A.charCodeAt(z+1)<<16|A.charCodeAt(z+2)<<8|A.charCodeAt(z+3)&255}function w(A,z,Q,ut){const nt=A.substring(0,z),B=A.substring(z+Q);return nt+ut+B}let j,M;const O=this._document.createElement("canvas");O.width=1,O.height=1;const F=O.getContext("2d");let x=0;function m(A,z){if(++x>30){(0,o.warn)("Load test font never loaded."),z();return}if(F.font="30px "+A,F.fillText(".",0,20),F.getImageData(0,0,1,1).data[3]>0){z();return}setTimeout(m.bind(null,A,z))}const R=`lt${Date.now()}${this.loadTestFontId++}`;let U=this._loadTestFont;U=w(U,976,R.length,R);const v=16,E=1482184792;let p=y(U,v);for(j=0,M=R.length-3;j<M;j+=4)p=p-E+y(R,j)|0;j<R.length&&(p=p-E+y(R+"XXX",j)|0),U=w(U,v,4,(0,o.string32)(p));const _=`url(data:font/opentype;base64,${btoa(U)});`,C=`@font-face {font-family:"${R}";src:${_}}`;this.insertRule(C);const Z=this._document.createElement("div");Z.style.visibility="hidden",Z.style.width=Z.style.height="10px",Z.style.position="absolute",Z.style.top=Z.style.left="0px";for(const A of[S.loadedName,R]){const z=this._document.createElement("span");z.textContent="Hi",z.style.fontFamily=A,Z.append(z)}this._document.body.append(Z),m(R,()=>{Z.remove(),b.complete()})}}D=new WeakMap,s.FontLoader=h;class L{constructor(S,{isEvalSupported:b=!0,disableFontFace:y=!1,ignoreErrors:w=!1,inspectFont:j=null}){this.compiledGlyphs=Object.create(null);for(const M in S)this[M]=S[M];this.isEvalSupported=b!==!1,this.disableFontFace=y===!0,this.ignoreErrors=w===!0,this._inspectFont=j}createNativeFontFace(){var b;if(!this.data||this.disableFontFace)return null;let S;if(!this.cssFontInfo)S=new FontFace(this.loadedName,this.data,{});else{const y={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(y.style=`oblique ${this.cssFontInfo.italicAngle}deg`),S=new FontFace(this.cssFontInfo.fontFamily,this.data,y)}return(b=this._inspectFont)==null||b.call(this,this),S}createFontFaceRule(){var w;if(!this.data||this.disableFontFace)return null;const S=(0,o.bytesToString)(this.data),b=`url(data:${this.mimetype};base64,${btoa(S)});`;let y;if(!this.cssFontInfo)y=`@font-face {font-family:"${this.loadedName}";src:${b}}`;else{let j=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(j+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),y=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${j}src:${b}}`}return(w=this._inspectFont)==null||w.call(this,this,b),y}getPathGenerator(S,b){if(this.compiledGlyphs[b]!==void 0)return this.compiledGlyphs[b];let y;try{y=S.get(this.loadedName+"_path_"+b)}catch(w){if(!this.ignoreErrors)throw w;return(0,o.warn)(`getPathGenerator - ignoring character: "${w}".`),this.compiledGlyphs[b]=function(j,M){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const w=[];for(const j of y){const M=j.args!==void 0?j.args.join(","):"";w.push("c.",j.cmd,"(",M,`);
`)}return this.compiledGlyphs[b]=new Function("c","size",w.join(""))}return this.compiledGlyphs[b]=function(w,j){for(const M of y)M.cmd==="scale"&&(M.args=[j,-j]),w[M.cmd].apply(w,M.args)}}}s.FontFaceObject=L}),((l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeFilterFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var o=u(7);u(1);const h=function(b){return new Promise((y,w)=>{require$$5.readFile(b,(M,O)=>{if(M||!O){w(new Error(M));return}y(new Uint8Array(O))})})};class L extends o.BaseFilterFactory{}s.NodeFilterFactory=L;class D extends o.BaseCanvasFactory{_createCanvas(y,w){return require$$5.createCanvas(y,w)}}s.NodeCanvasFactory=D;class V extends o.BaseCMapReaderFactory{_fetchData(y,w){return h(y).then(j=>({cMapData:j,compressionType:w}))}}s.NodeCMapReaderFactory=V;class S extends o.BaseStandardFontDataFactory{_fetchData(y){return h(y)}}s.NodeStandardFontDataFactory=S}),((l,s,u)=>{var st,_c,Sc;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var o=u(1),h=u(6),L=u(12),D=u(13);const V=16,S=100,b=4096,y=15,w=10,j=1e3,M=16;function O(T,d){if(T._removeMirroring)throw new Error("Context is already forwarding operations.");T.__originalSave=T.save,T.__originalRestore=T.restore,T.__originalRotate=T.rotate,T.__originalScale=T.scale,T.__originalTranslate=T.translate,T.__originalTransform=T.transform,T.__originalSetTransform=T.setTransform,T.__originalResetTransform=T.resetTransform,T.__originalClip=T.clip,T.__originalMoveTo=T.moveTo,T.__originalLineTo=T.lineTo,T.__originalBezierCurveTo=T.bezierCurveTo,T.__originalRect=T.rect,T.__originalClosePath=T.closePath,T.__originalBeginPath=T.beginPath,T._removeMirroring=()=>{T.save=T.__originalSave,T.restore=T.__originalRestore,T.rotate=T.__originalRotate,T.scale=T.__originalScale,T.translate=T.__originalTranslate,T.transform=T.__originalTransform,T.setTransform=T.__originalSetTransform,T.resetTransform=T.__originalResetTransform,T.clip=T.__originalClip,T.moveTo=T.__originalMoveTo,T.lineTo=T.__originalLineTo,T.bezierCurveTo=T.__originalBezierCurveTo,T.rect=T.__originalRect,T.closePath=T.__originalClosePath,T.beginPath=T.__originalBeginPath,delete T._removeMirroring},T.save=function(){d.save(),this.__originalSave()},T.restore=function(){d.restore(),this.__originalRestore()},T.translate=function(N,q){d.translate(N,q),this.__originalTranslate(N,q)},T.scale=function(N,q){d.scale(N,q),this.__originalScale(N,q)},T.transform=function(N,q,K,J,it,pt){d.transform(N,q,K,J,it,pt),this.__originalTransform(N,q,K,J,it,pt)},T.setTransform=function(N,q,K,J,it,pt){d.setTransform(N,q,K,J,it,pt),this.__originalSetTransform(N,q,K,J,it,pt)},T.resetTransform=function(){d.resetTransform(),this.__originalResetTransform()},T.rotate=function(N){d.rotate(N),this.__originalRotate(N)},T.clip=function(N){d.clip(N),this.__originalClip(N)},T.moveTo=function(f,N){d.moveTo(f,N),this.__originalMoveTo(f,N)},T.lineTo=function(f,N){d.lineTo(f,N),this.__originalLineTo(f,N)},T.bezierCurveTo=function(f,N,q,K,J,it){d.bezierCurveTo(f,N,q,K,J,it),this.__originalBezierCurveTo(f,N,q,K,J,it)},T.rect=function(f,N,q,K){d.rect(f,N,q,K),this.__originalRect(f,N,q,K)},T.closePath=function(){d.closePath(),this.__originalClosePath()},T.beginPath=function(){d.beginPath(),this.__originalBeginPath()}}class F{constructor(d){this.canvasFactory=d,this.cache=Object.create(null)}getCanvas(d,f,N){let q;return this.cache[d]!==void 0?(q=this.cache[d],this.canvasFactory.reset(q,f,N)):(q=this.canvasFactory.create(f,N),this.cache[d]=q),q}delete(d){delete this.cache[d]}clear(){for(const d in this.cache){const f=this.cache[d];this.canvasFactory.destroy(f),delete this.cache[d]}}}function x(T,d,f,N,q,K,J,it,pt,Ct){const[Et,Lt,Nt,jt,ft,mt]=(0,h.getCurrentTransform)(T);if(Lt===0&&Nt===0){const ot=J*Et+ft,gt=Math.round(ot),wt=it*jt+mt,zt=Math.round(wt),Ot=(J+pt)*Et+ft,ct=Math.abs(Math.round(Ot)-gt)||1,Gt=(it+Ct)*jt+mt,It=Math.abs(Math.round(Gt)-zt)||1;return T.setTransform(Math.sign(Et),0,0,Math.sign(jt),gt,zt),T.drawImage(d,f,N,q,K,0,0,ct,It),T.setTransform(Et,Lt,Nt,jt,ft,mt),[ct,It]}if(Et===0&&jt===0){const ot=it*Nt+ft,gt=Math.round(ot),wt=J*Lt+mt,zt=Math.round(wt),Ot=(it+Ct)*Nt+ft,ct=Math.abs(Math.round(Ot)-gt)||1,Gt=(J+pt)*Lt+mt,It=Math.abs(Math.round(Gt)-zt)||1;return T.setTransform(0,Math.sign(Lt),Math.sign(Nt),0,gt,zt),T.drawImage(d,f,N,q,K,0,0,It,ct),T.setTransform(Et,Lt,Nt,jt,ft,mt),[It,ct]}T.drawImage(d,f,N,q,K,J,it,pt,Ct);const I=Math.hypot(Et,Lt),$=Math.hypot(Nt,jt);return[I*pt,$*Ct]}function m(T){const{width:d,height:f}=T;if(d>j||f>j)return null;const N=1e3,q=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),K=d+1;let J=new Uint8Array(K*(f+1)),it,pt,Ct;const Et=d+7&-8;let Lt=new Uint8Array(Et*f),Nt=0;for(const $ of T.data){let ot=128;for(;ot>0;)Lt[Nt++]=$&ot?0:255,ot>>=1}let jt=0;for(Nt=0,Lt[Nt]!==0&&(J[0]=1,++jt),pt=1;pt<d;pt++)Lt[Nt]!==Lt[Nt+1]&&(J[pt]=Lt[Nt]?2:1,++jt),Nt++;for(Lt[Nt]!==0&&(J[pt]=2,++jt),it=1;it<f;it++){Nt=it*Et,Ct=it*K,Lt[Nt-Et]!==Lt[Nt]&&(J[Ct]=Lt[Nt]?1:8,++jt);let $=(Lt[Nt]?4:0)+(Lt[Nt-Et]?8:0);for(pt=1;pt<d;pt++)$=($>>2)+(Lt[Nt+1]?4:0)+(Lt[Nt-Et+1]?8:0),q[$]&&(J[Ct+pt]=q[$],++jt),Nt++;if(Lt[Nt-Et]!==Lt[Nt]&&(J[Ct+pt]=Lt[Nt]?2:4,++jt),jt>N)return null}for(Nt=Et*(f-1),Ct=it*K,Lt[Nt]!==0&&(J[Ct]=8,++jt),pt=1;pt<d;pt++)Lt[Nt]!==Lt[Nt+1]&&(J[Ct+pt]=Lt[Nt]?4:8,++jt),Nt++;if(Lt[Nt]!==0&&(J[Ct+pt]=4,++jt),jt>N)return null;const ft=new Int32Array([0,K,-1,0,-K,0,0,0,1]),mt=new Path2D;for(it=0;jt&&it<=f;it++){let $=it*K;const ot=$+d;for(;$<ot&&!J[$];)$++;if($===ot)continue;mt.moveTo($%K,it);const gt=$;let wt=J[$];do{const zt=ft[wt];do $+=zt;while(!J[$]);const Ot=J[$];Ot!==5&&Ot!==10?(wt=Ot,J[$]=0):(wt=Ot&51*wt>>4,J[$]&=wt>>2|wt<<2),mt.lineTo($%K,$/K|0),J[$]||--jt}while(gt!==$);--it}return Lt=null,J=null,function($){$.save(),$.scale(1/d,-1/f),$.translate(0,-f),$.fill(mt),$.beginPath(),$.restore()}}class R{constructor(d,f){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,d,f])}clone(){const d=Object.create(this);return d.clipBox=this.clipBox.slice(),d}setCurrentPoint(d,f){this.x=d,this.y=f}updatePathMinMax(d,f,N){[f,N]=o.Util.applyTransform([f,N],d),this.minX=Math.min(this.minX,f),this.minY=Math.min(this.minY,N),this.maxX=Math.max(this.maxX,f),this.maxY=Math.max(this.maxY,N)}updateRectMinMax(d,f){const N=o.Util.applyTransform(f,d),q=o.Util.applyTransform(f.slice(2),d);this.minX=Math.min(this.minX,N[0],q[0]),this.minY=Math.min(this.minY,N[1],q[1]),this.maxX=Math.max(this.maxX,N[0],q[0]),this.maxY=Math.max(this.maxY,N[1],q[1])}updateScalingPathMinMax(d,f){o.Util.scaleMinMax(d,f),this.minX=Math.min(this.minX,f[0]),this.maxX=Math.max(this.maxX,f[1]),this.minY=Math.min(this.minY,f[2]),this.maxY=Math.max(this.maxY,f[3])}updateCurvePathMinMax(d,f,N,q,K,J,it,pt,Ct,Et){const Lt=o.Util.bezierBoundingBox(f,N,q,K,J,it,pt,Ct);if(Et){Et[0]=Math.min(Et[0],Lt[0],Lt[2]),Et[1]=Math.max(Et[1],Lt[0],Lt[2]),Et[2]=Math.min(Et[2],Lt[1],Lt[3]),Et[3]=Math.max(Et[3],Lt[1],Lt[3]);return}this.updateRectMinMax(d,Lt)}getPathBoundingBox(d=L.PathType.FILL,f=null){const N=[this.minX,this.minY,this.maxX,this.maxY];if(d===L.PathType.STROKE){f||(0,o.unreachable)("Stroke bounding box must include transform.");const q=o.Util.singularValueDecompose2dScale(f),K=q[0]*this.lineWidth/2,J=q[1]*this.lineWidth/2;N[0]-=K,N[1]-=J,N[2]+=K,N[3]+=J}return N}updateClipFromPath(){const d=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(d||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(d){this.clipBox=d,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(d=L.PathType.FILL,f=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(d,f))}}function U(T,d){if(typeof ImageData<"u"&&d instanceof ImageData){T.putImageData(d,0,0);return}const f=d.height,N=d.width,q=f%M,K=(f-q)/M,J=q===0?K:K+1,it=T.createImageData(N,M);let pt=0,Ct;const Et=d.data,Lt=it.data;let Nt,jt,ft,mt;if(d.kind===o.ImageKind.GRAYSCALE_1BPP){const I=Et.byteLength,$=new Uint32Array(Lt.buffer,0,Lt.byteLength>>2),ot=$.length,gt=N+7>>3,wt=4294967295,zt=o.FeatureTest.isLittleEndian?4278190080:255;for(Nt=0;Nt<J;Nt++){for(ft=Nt<K?M:q,Ct=0,jt=0;jt<ft;jt++){const Ot=I-pt;let ct=0;const Gt=Ot>gt?N:Ot*8-7,It=Gt&-8;let ae=0,ie=0;for(;ct<It;ct+=8)ie=Et[pt++],$[Ct++]=ie&128?wt:zt,$[Ct++]=ie&64?wt:zt,$[Ct++]=ie&32?wt:zt,$[Ct++]=ie&16?wt:zt,$[Ct++]=ie&8?wt:zt,$[Ct++]=ie&4?wt:zt,$[Ct++]=ie&2?wt:zt,$[Ct++]=ie&1?wt:zt;for(;ct<Gt;ct++)ae===0&&(ie=Et[pt++],ae=128),$[Ct++]=ie&ae?wt:zt,ae>>=1}for(;Ct<ot;)$[Ct++]=0;T.putImageData(it,0,Nt*M)}}else if(d.kind===o.ImageKind.RGBA_32BPP){for(jt=0,mt=N*M*4,Nt=0;Nt<K;Nt++)Lt.set(Et.subarray(pt,pt+mt)),pt+=mt,T.putImageData(it,0,jt),jt+=M;Nt<J&&(mt=N*q*4,Lt.set(Et.subarray(pt,pt+mt)),T.putImageData(it,0,jt))}else if(d.kind===o.ImageKind.RGB_24BPP)for(ft=M,mt=N*ft,Nt=0;Nt<J;Nt++){for(Nt>=K&&(ft=q,mt=N*ft),Ct=0,jt=mt;jt--;)Lt[Ct++]=Et[pt++],Lt[Ct++]=Et[pt++],Lt[Ct++]=Et[pt++],Lt[Ct++]=255;T.putImageData(it,0,Nt*M)}else throw new Error(`bad image kind: ${d.kind}`)}function P(T,d){if(d.bitmap){T.drawImage(d.bitmap,0,0);return}const f=d.height,N=d.width,q=f%M,K=(f-q)/M,J=q===0?K:K+1,it=T.createImageData(N,M);let pt=0;const Ct=d.data,Et=it.data;for(let Lt=0;Lt<J;Lt++){const Nt=Lt<K?M:q;({srcPos:pt}=(0,D.convertBlackAndWhiteToRGBA)({src:Ct,srcPos:pt,dest:Et,width:N,height:Nt,nonBlackColor:0})),T.putImageData(it,0,Lt*M)}}function v(T,d){const f=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const N of f)T[N]!==void 0&&(d[N]=T[N]);T.setLineDash!==void 0&&(d.setLineDash(T.getLineDash()),d.lineDashOffset=T.lineDashOffset)}function E(T){if(T.strokeStyle=T.fillStyle="#000000",T.fillRule="nonzero",T.globalAlpha=1,T.lineWidth=1,T.lineCap="butt",T.lineJoin="miter",T.miterLimit=10,T.globalCompositeOperation="source-over",T.font="10px sans-serif",T.setLineDash!==void 0&&(T.setLineDash([]),T.lineDashOffset=0),!o.isNodeJS){const{filter:d}=T;d!=="none"&&d!==""&&(T.filter="none")}}function p(T,d,f,N){const q=T.length;for(let K=3;K<q;K+=4){const J=T[K];if(J===0)T[K-3]=d,T[K-2]=f,T[K-1]=N;else if(J<255){const it=255-J;T[K-3]=T[K-3]*J+d*it>>8,T[K-2]=T[K-2]*J+f*it>>8,T[K-1]=T[K-1]*J+N*it>>8}}}function _(T,d,f){const N=T.length,q=1/255;for(let K=3;K<N;K+=4){const J=f?f[T[K]]:T[K];d[K]=d[K]*J*q|0}}function C(T,d,f){const N=T.length;for(let q=3;q<N;q+=4){const K=T[q-3]*77+T[q-2]*152+T[q-1]*28;d[q]=f?d[q]*f[K>>8]>>8:d[q]*K>>16}}function Z(T,d,f,N,q,K,J,it,pt,Ct,Et){const Lt=!!K,Nt=Lt?K[0]:0,jt=Lt?K[1]:0,ft=Lt?K[2]:0,mt=q==="Luminosity"?C:_,$=Math.min(N,Math.ceil(1048576/f));for(let ot=0;ot<N;ot+=$){const gt=Math.min($,N-ot),wt=T.getImageData(it-Ct,ot+(pt-Et),f,gt),zt=d.getImageData(it,ot+pt,f,gt);Lt&&p(wt.data,Nt,jt,ft),mt(wt.data,zt.data,J),d.putImageData(zt,it,ot+pt)}}function A(T,d,f,N){const q=N[0],K=N[1],J=N[2]-q,it=N[3]-K;J===0||it===0||(Z(d.context,f,J,it,d.subtype,d.backdrop,d.transferMap,q,K,d.offsetX,d.offsetY),T.save(),T.globalAlpha=1,T.globalCompositeOperation="source-over",T.setTransform(1,0,0,1,0,0),T.drawImage(f.canvas,0,0),T.restore())}function z(T,d){const f=o.Util.singularValueDecompose2dScale(T);f[0]=Math.fround(f[0]),f[1]=Math.fround(f[1]);const N=Math.fround((globalThis.devicePixelRatio||1)*h.PixelsPerInch.PDF_TO_CSS_UNITS);return d!==void 0?d:f[0]<=N||f[1]<=N}const Q=["butt","round","square"],ut=["miter","round","bevel"],nt={},B={},k=class k{constructor(d,f,N,q,K,{optionalContentConfig:J,markedContentStack:it=null},pt,Ct){yt(this,st);this.ctx=d,this.current=new R(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=f,this.objs=N,this.canvasFactory=q,this.filterFactory=K,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=it||[],this.optionalContentConfig=J,this.cachedCanvases=new F(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=pt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ct,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(d,f=null){return typeof d=="string"?d.startsWith("g_")?this.commonObjs.get(d):this.objs.get(d):f}beginDrawing({transform:d,viewport:f,transparency:N=!1,background:q=null}){const K=this.ctx.canvas.width,J=this.ctx.canvas.height,it=this.ctx.fillStyle;if(this.ctx.fillStyle=q||"#ffffff",this.ctx.fillRect(0,0,K,J),this.ctx.fillStyle=it,N){const pt=this.cachedCanvases.getCanvas("transparent",K,J);this.compositeCtx=this.ctx,this.transparentCanvas=pt.canvas,this.ctx=pt.context,this.ctx.save(),this.ctx.transform(...(0,h.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),E(this.ctx),d&&(this.ctx.transform(...d),this.outputScaleX=d[0],this.outputScaleY=d[0]),this.ctx.transform(...f.transform),this.viewportScale=f.scale,this.baseTransform=(0,h.getCurrentTransform)(this.ctx)}executeOperatorList(d,f,N,q){const K=d.argsArray,J=d.fnArray;let it=f||0;const pt=K.length;if(pt===it)return it;const Ct=pt-it>w&&typeof N=="function",Et=Ct?Date.now()+y:0;let Lt=0;const Nt=this.commonObjs,jt=this.objs;let ft;for(;;){if(q!==void 0&&it===q.nextBreakPoint)return q.breakIt(it,N),it;if(ft=J[it],ft!==o.OPS.dependency)this[ft].apply(this,K[it]);else for(const mt of K[it]){const I=mt.startsWith("g_")?Nt:jt;if(!I.has(mt))return I.get(mt,N),it}if(it++,it===pt)return it;if(Ct&&++Lt>w){if(Date.now()>Et)return N(),it;Lt=0}}}endDrawing(){lt(this,st,_c).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const d of this._cachedBitmapsMap.values()){for(const f of d.values())typeof HTMLCanvasElement<"u"&&f instanceof HTMLCanvasElement&&(f.width=f.height=0);d.clear()}this._cachedBitmapsMap.clear(),lt(this,st,Sc).call(this)}_scaleImage(d,f){const N=d.width,q=d.height;let K=Math.max(Math.hypot(f[0],f[1]),1),J=Math.max(Math.hypot(f[2],f[3]),1),it=N,pt=q,Ct="prescale1",Et,Lt;for(;K>2&&it>1||J>2&&pt>1;){let Nt=it,jt=pt;K>2&&it>1&&(Nt=it>=16384?Math.floor(it/2)-1||1:Math.ceil(it/2),K/=it/Nt),J>2&&pt>1&&(jt=pt>=16384?Math.floor(pt/2)-1||1:Math.ceil(pt)/2,J/=pt/jt),Et=this.cachedCanvases.getCanvas(Ct,Nt,jt),Lt=Et.context,Lt.clearRect(0,0,Nt,jt),Lt.drawImage(d,0,0,it,pt,0,0,Nt,jt),d=Et.canvas,it=Nt,pt=jt,Ct=Ct==="prescale1"?"prescale2":"prescale1"}return{img:d,paintWidth:it,paintHeight:pt}}_createMaskCanvas(d){const f=this.ctx,{width:N,height:q}=d,K=this.current.fillColor,J=this.current.patternFill,it=(0,h.getCurrentTransform)(f);let pt,Ct,Et,Lt;if((d.bitmap||d.data)&&d.count>1){const ct=d.bitmap||d.data.buffer;Ct=JSON.stringify(J?it:[it.slice(0,4),K]),pt=this._cachedBitmapsMap.get(ct),pt||(pt=new Map,this._cachedBitmapsMap.set(ct,pt));const Gt=pt.get(Ct);if(Gt&&!J){const It=Math.round(Math.min(it[0],it[2])+it[4]),ae=Math.round(Math.min(it[1],it[3])+it[5]);return{canvas:Gt,offsetX:It,offsetY:ae}}Et=Gt}Et||(Lt=this.cachedCanvases.getCanvas("maskCanvas",N,q),P(Lt.context,d));let Nt=o.Util.transform(it,[1/N,0,0,-1/q,0,0]);Nt=o.Util.transform(Nt,[1,0,0,1,0,-q]);const jt=o.Util.applyTransform([0,0],Nt),ft=o.Util.applyTransform([N,q],Nt),mt=o.Util.normalizeRect([jt[0],jt[1],ft[0],ft[1]]),I=Math.round(mt[2]-mt[0])||1,$=Math.round(mt[3]-mt[1])||1,ot=this.cachedCanvases.getCanvas("fillCanvas",I,$),gt=ot.context,wt=Math.min(jt[0],ft[0]),zt=Math.min(jt[1],ft[1]);gt.translate(-wt,-zt),gt.transform(...Nt),Et||(Et=this._scaleImage(Lt.canvas,(0,h.getCurrentTransformInverse)(gt)),Et=Et.img,pt&&J&&pt.set(Ct,Et)),gt.imageSmoothingEnabled=z((0,h.getCurrentTransform)(gt),d.interpolate),x(gt,Et,0,0,Et.width,Et.height,0,0,N,q),gt.globalCompositeOperation="source-in";const Ot=o.Util.transform((0,h.getCurrentTransformInverse)(gt),[1,0,0,1,-wt,-zt]);return gt.fillStyle=J?K.getPattern(f,this,Ot,L.PathType.FILL):K,gt.fillRect(0,0,N,q),pt&&!J&&(this.cachedCanvases.delete("fillCanvas"),pt.set(Ct,ot.canvas)),{canvas:ot.canvas,offsetX:Math.round(wt),offsetY:Math.round(zt)}}setLineWidth(d){d!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=d,this.ctx.lineWidth=d}setLineCap(d){this.ctx.lineCap=Q[d]}setLineJoin(d){this.ctx.lineJoin=ut[d]}setMiterLimit(d){this.ctx.miterLimit=d}setDash(d,f){const N=this.ctx;N.setLineDash!==void 0&&(N.setLineDash(d),N.lineDashOffset=f)}setRenderingIntent(d){}setFlatness(d){}setGState(d){for(const[f,N]of d)switch(f){case"LW":this.setLineWidth(N);break;case"LC":this.setLineCap(N);break;case"LJ":this.setLineJoin(N);break;case"ML":this.setMiterLimit(N);break;case"D":this.setDash(N[0],N[1]);break;case"RI":this.setRenderingIntent(N);break;case"FL":this.setFlatness(N);break;case"Font":this.setFont(N[0],N[1]);break;case"CA":this.current.strokeAlpha=N;break;case"ca":this.current.fillAlpha=N,this.ctx.globalAlpha=N;break;case"BM":this.ctx.globalCompositeOperation=N;break;case"SMask":this.current.activeSMask=N?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(N);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const d=this.inSMaskMode;this.current.activeSMask&&!d?this.beginSMaskMode():!this.current.activeSMask&&d&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const d=this.ctx.canvas.width,f=this.ctx.canvas.height,N="smaskGroupAt"+this.groupLevel,q=this.cachedCanvases.getCanvas(N,d,f);this.suspendedCtx=this.ctx,this.ctx=q.context;const K=this.ctx;K.setTransform(...(0,h.getCurrentTransform)(this.suspendedCtx)),v(this.suspendedCtx,K),O(K,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),v(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(d){if(!this.current.activeSMask)return;d?(d[0]=Math.floor(d[0]),d[1]=Math.floor(d[1]),d[2]=Math.ceil(d[2]),d[3]=Math.ceil(d[3])):d=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const f=this.current.activeSMask,N=this.suspendedCtx;A(N,f,this.ctx,d),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(v(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const d=this.current;this.stateStack.push(d),this.current=d.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),v(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(d,f,N,q,K,J){this.ctx.transform(d,f,N,q,K,J),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(d,f,N){const q=this.ctx,K=this.current;let J=K.x,it=K.y,pt,Ct;const Et=(0,h.getCurrentTransform)(q),Lt=Et[0]===0&&Et[3]===0||Et[1]===0&&Et[2]===0,Nt=Lt?N.slice(0):null;for(let jt=0,ft=0,mt=d.length;jt<mt;jt++)switch(d[jt]|0){case o.OPS.rectangle:J=f[ft++],it=f[ft++];const I=f[ft++],$=f[ft++],ot=J+I,gt=it+$;q.moveTo(J,it),I===0||$===0?q.lineTo(ot,gt):(q.lineTo(ot,it),q.lineTo(ot,gt),q.lineTo(J,gt)),Lt||K.updateRectMinMax(Et,[J,it,ot,gt]),q.closePath();break;case o.OPS.moveTo:J=f[ft++],it=f[ft++],q.moveTo(J,it),Lt||K.updatePathMinMax(Et,J,it);break;case o.OPS.lineTo:J=f[ft++],it=f[ft++],q.lineTo(J,it),Lt||K.updatePathMinMax(Et,J,it);break;case o.OPS.curveTo:pt=J,Ct=it,J=f[ft+4],it=f[ft+5],q.bezierCurveTo(f[ft],f[ft+1],f[ft+2],f[ft+3],J,it),K.updateCurvePathMinMax(Et,pt,Ct,f[ft],f[ft+1],f[ft+2],f[ft+3],J,it,Nt),ft+=6;break;case o.OPS.curveTo2:pt=J,Ct=it,q.bezierCurveTo(J,it,f[ft],f[ft+1],f[ft+2],f[ft+3]),K.updateCurvePathMinMax(Et,pt,Ct,J,it,f[ft],f[ft+1],f[ft+2],f[ft+3],Nt),J=f[ft+2],it=f[ft+3],ft+=4;break;case o.OPS.curveTo3:pt=J,Ct=it,J=f[ft+2],it=f[ft+3],q.bezierCurveTo(f[ft],f[ft+1],J,it,J,it),K.updateCurvePathMinMax(Et,pt,Ct,f[ft],f[ft+1],J,it,J,it,Nt),ft+=4;break;case o.OPS.closePath:q.closePath();break}Lt&&K.updateScalingPathMinMax(Et,Nt),K.setCurrentPoint(J,it)}closePath(){this.ctx.closePath()}stroke(d=!0){const f=this.ctx,N=this.current.strokeColor;f.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof N=="object"&&(N!=null&&N.getPattern)?(f.save(),f.strokeStyle=N.getPattern(f,this,(0,h.getCurrentTransformInverse)(f),L.PathType.STROKE),this.rescaleAndStroke(!1),f.restore()):this.rescaleAndStroke(!0)),d&&this.consumePath(this.current.getClippedPathBoundingBox()),f.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(d=!0){const f=this.ctx,N=this.current.fillColor,q=this.current.patternFill;let K=!1;q&&(f.save(),f.fillStyle=N.getPattern(f,this,(0,h.getCurrentTransformInverse)(f),L.PathType.FILL),K=!0);const J=this.current.getClippedPathBoundingBox();this.contentVisible&&J!==null&&(this.pendingEOFill?(f.fill("evenodd"),this.pendingEOFill=!1):f.fill()),K&&f.restore(),d&&this.consumePath(J)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=nt}eoClip(){this.pendingClip=B}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const d=this.pendingTextPaths,f=this.ctx;if(d===void 0){f.beginPath();return}f.save(),f.beginPath();for(const N of d)f.setTransform(...N.transform),f.translate(N.x,N.y),N.addToPath(f,N.fontSize);f.restore(),f.clip(),f.beginPath(),delete this.pendingTextPaths}setCharSpacing(d){this.current.charSpacing=d}setWordSpacing(d){this.current.wordSpacing=d}setHScale(d){this.current.textHScale=d/100}setLeading(d){this.current.leading=-d}setFont(d,f){var Et;const N=this.commonObjs.get(d),q=this.current;if(!N)throw new Error(`Can't find font for ${d}`);if(q.fontMatrix=N.fontMatrix||o.FONT_IDENTITY_MATRIX,(q.fontMatrix[0]===0||q.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+d),f<0?(f=-f,q.fontDirection=-1):q.fontDirection=1,this.current.font=N,this.current.fontSize=f,N.isType3Font)return;const K=N.loadedName||"sans-serif",J=((Et=N.systemFontInfo)==null?void 0:Et.css)||`"${K}", ${N.fallbackName}`;let it="normal";N.black?it="900":N.bold&&(it="bold");const pt=N.italic?"italic":"normal";let Ct=f;f<V?Ct=V:f>S&&(Ct=S),this.current.fontSizeScale=f/Ct,this.ctx.font=`${pt} ${it} ${Ct}px ${J}`}setTextRenderingMode(d){this.current.textRenderingMode=d}setTextRise(d){this.current.textRise=d}moveText(d,f){this.current.x=this.current.lineX+=d,this.current.y=this.current.lineY+=f}setLeadingMoveText(d,f){this.setLeading(-f),this.moveText(d,f)}setTextMatrix(d,f,N,q,K,J){this.current.textMatrix=[d,f,N,q,K,J],this.current.textMatrixScale=Math.hypot(d,f),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(d,f,N,q){const K=this.ctx,J=this.current,it=J.font,pt=J.textRenderingMode,Ct=J.fontSize/J.fontSizeScale,Et=pt&o.TextRenderingMode.FILL_STROKE_MASK,Lt=!!(pt&o.TextRenderingMode.ADD_TO_PATH_FLAG),Nt=J.patternFill&&!it.missingFile;let jt;(it.disableFontFace||Lt||Nt)&&(jt=it.getPathGenerator(this.commonObjs,d)),it.disableFontFace||Nt?(K.save(),K.translate(f,N),K.beginPath(),jt(K,Ct),q&&K.setTransform(...q),(Et===o.TextRenderingMode.FILL||Et===o.TextRenderingMode.FILL_STROKE)&&K.fill(),(Et===o.TextRenderingMode.STROKE||Et===o.TextRenderingMode.FILL_STROKE)&&K.stroke(),K.restore()):((Et===o.TextRenderingMode.FILL||Et===o.TextRenderingMode.FILL_STROKE)&&K.fillText(d,f,N),(Et===o.TextRenderingMode.STROKE||Et===o.TextRenderingMode.FILL_STROKE)&&K.strokeText(d,f,N)),Lt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,h.getCurrentTransform)(K),x:f,y:N,fontSize:Ct,addToPath:jt})}get isFontSubpixelAAEnabled(){const{context:d}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);d.scale(1.5,1),d.fillText("I",0,10);const f=d.getImageData(0,0,10,10).data;let N=!1;for(let q=3;q<f.length;q+=4)if(f[q]>0&&f[q]<255){N=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",N)}showText(d){const f=this.current,N=f.font;if(N.isType3Font)return this.showType3Text(d);const q=f.fontSize;if(q===0)return;const K=this.ctx,J=f.fontSizeScale,it=f.charSpacing,pt=f.wordSpacing,Ct=f.fontDirection,Et=f.textHScale*Ct,Lt=d.length,Nt=N.vertical,jt=Nt?1:-1,ft=N.defaultVMetrics,mt=q*f.fontMatrix[0],I=f.textRenderingMode===o.TextRenderingMode.FILL&&!N.disableFontFace&&!f.patternFill;K.save(),K.transform(...f.textMatrix),K.translate(f.x,f.y+f.textRise),Ct>0?K.scale(Et,-1):K.scale(Et,1);let $;if(f.patternFill){K.save();const Ot=f.fillColor.getPattern(K,this,(0,h.getCurrentTransformInverse)(K),L.PathType.FILL);$=(0,h.getCurrentTransform)(K),K.restore(),K.fillStyle=Ot}let ot=f.lineWidth;const gt=f.textMatrixScale;if(gt===0||ot===0){const Ot=f.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(Ot===o.TextRenderingMode.STROKE||Ot===o.TextRenderingMode.FILL_STROKE)&&(ot=this.getSinglePixelWidth())}else ot/=gt;if(J!==1&&(K.scale(J,J),ot/=J),K.lineWidth=ot,N.isInvalidPDFjsFont){const Ot=[];let ct=0;for(const Gt of d)Ot.push(Gt.unicode),ct+=Gt.width;K.fillText(Ot.join(""),0,0),f.x+=ct*mt*Et,K.restore(),this.compose();return}let wt=0,zt;for(zt=0;zt<Lt;++zt){const Ot=d[zt];if(typeof Ot=="number"){wt+=jt*Ot*q/1e3;continue}let ct=!1;const Gt=(Ot.isSpace?pt:0)+it,It=Ot.fontChar,ae=Ot.accent;let ie,fe,Qt=Ot.width;if(Nt){const de=Ot.vmetric||ft,he=-(Ot.vmetric?de[1]:Qt*.5)*mt,kt=de[2]*mt;Qt=de?-de[0]:Qt,ie=he/J,fe=(wt+kt)/J}else ie=wt/J,fe=0;if(N.remeasure&&Qt>0){const de=K.measureText(It).width*1e3/q*J;if(Qt<de&&this.isFontSubpixelAAEnabled){const he=Qt/de;ct=!0,K.save(),K.scale(he,1),ie/=he}else Qt!==de&&(ie+=(Qt-de)/2e3*q/J)}if(this.contentVisible&&(Ot.isInFont||N.missingFile)){if(I&&!ae)K.fillText(It,ie,fe);else if(this.paintChar(It,ie,fe,$),ae){const de=ie+q*ae.offset.x/J,he=fe-q*ae.offset.y/J;this.paintChar(ae.fontChar,de,he,$)}}const ne=Nt?Qt*mt-Gt*Ct:Qt*mt+Gt*Ct;wt+=ne,ct&&K.restore()}Nt?f.y-=wt:f.x+=wt*Et,K.restore(),this.compose()}showType3Text(d){const f=this.ctx,N=this.current,q=N.font,K=N.fontSize,J=N.fontDirection,it=q.vertical?1:-1,pt=N.charSpacing,Ct=N.wordSpacing,Et=N.textHScale*J,Lt=N.fontMatrix||o.FONT_IDENTITY_MATRIX,Nt=d.length,jt=N.textRenderingMode===o.TextRenderingMode.INVISIBLE;let ft,mt,I,$;if(!(jt||K===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,f.save(),f.transform(...N.textMatrix),f.translate(N.x,N.y),f.scale(Et,J),ft=0;ft<Nt;++ft){if(mt=d[ft],typeof mt=="number"){$=it*mt*K/1e3,this.ctx.translate($,0),N.x+=$*Et;continue}const ot=(mt.isSpace?Ct:0)+pt,gt=q.charProcOperatorList[mt.operatorListId];if(!gt){(0,o.warn)(`Type3 character "${mt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=mt,this.save(),f.scale(K,K),f.transform(...Lt),this.executeOperatorList(gt),this.restore()),I=o.Util.applyTransform([mt.width,0],Lt)[0]*K+ot,f.translate(I,0),N.x+=I*Et}f.restore(),this.processingType3=null}}setCharWidth(d,f){}setCharWidthAndBounds(d,f,N,q,K,J){this.ctx.rect(N,q,K-N,J-q),this.ctx.clip(),this.endPath()}getColorN_Pattern(d){let f;if(d[0]==="TilingPattern"){const N=d[1],q=this.baseTransform||(0,h.getCurrentTransform)(this.ctx),K={createCanvasGraphics:J=>new k(J,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};f=new L.TilingPattern(d,N,this.ctx,K,q)}else f=this._getPattern(d[1],d[2]);return f}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(d,f,N){const q=o.Util.makeHexColor(d,f,N);this.ctx.strokeStyle=q,this.current.strokeColor=q}setFillRGBColor(d,f,N){const q=o.Util.makeHexColor(d,f,N);this.ctx.fillStyle=q,this.current.fillColor=q,this.current.patternFill=!1}_getPattern(d,f=null){let N;return this.cachedPatterns.has(d)?N=this.cachedPatterns.get(d):(N=(0,L.getShadingPattern)(this.getObject(d)),this.cachedPatterns.set(d,N)),f&&(N.matrix=f),N}shadingFill(d){if(!this.contentVisible)return;const f=this.ctx;this.save();const N=this._getPattern(d);f.fillStyle=N.getPattern(f,this,(0,h.getCurrentTransformInverse)(f),L.PathType.SHADING);const q=(0,h.getCurrentTransformInverse)(f);if(q){const{width:K,height:J}=f.canvas,[it,pt,Ct,Et]=o.Util.getAxialAlignedBoundingBox([0,0,K,J],q);this.ctx.fillRect(it,pt,Ct-it,Et-pt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(d,f){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(d)&&d.length===6&&this.transform(...d),this.baseTransform=(0,h.getCurrentTransform)(this.ctx),f)){const N=f[2]-f[0],q=f[3]-f[1];this.ctx.rect(f[0],f[1],N,q),this.current.updateRectMinMax((0,h.getCurrentTransform)(this.ctx),f),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(d){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const f=this.ctx;d.isolated||(0,o.info)("TODO: Support non-isolated groups."),d.knockout&&(0,o.warn)("Knockout groups not supported.");const N=(0,h.getCurrentTransform)(f);if(d.matrix&&f.transform(...d.matrix),!d.bbox)throw new Error("Bounding box is required.");let q=o.Util.getAxialAlignedBoundingBox(d.bbox,(0,h.getCurrentTransform)(f));const K=[0,0,f.canvas.width,f.canvas.height];q=o.Util.intersect(q,K)||[0,0,0,0];const J=Math.floor(q[0]),it=Math.floor(q[1]);let pt=Math.max(Math.ceil(q[2])-J,1),Ct=Math.max(Math.ceil(q[3])-it,1),Et=1,Lt=1;pt>b&&(Et=pt/b,pt=b),Ct>b&&(Lt=Ct/b,Ct=b),this.current.startNewPathAndClipBox([0,0,pt,Ct]);let Nt="groupAt"+this.groupLevel;d.smask&&(Nt+="_smask_"+this.smaskCounter++%2);const jt=this.cachedCanvases.getCanvas(Nt,pt,Ct),ft=jt.context;ft.scale(1/Et,1/Lt),ft.translate(-J,-it),ft.transform(...N),d.smask?this.smaskStack.push({canvas:jt.canvas,context:ft,offsetX:J,offsetY:it,scaleX:Et,scaleY:Lt,subtype:d.smask.subtype,backdrop:d.smask.backdrop,transferMap:d.smask.transferMap||null,startTransformInverse:null}):(f.setTransform(1,0,0,1,0,0),f.translate(J,it),f.scale(Et,Lt),f.save()),v(f,ft),this.ctx=ft,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(f),this.groupLevel++}endGroup(d){if(!this.contentVisible)return;this.groupLevel--;const f=this.ctx,N=this.groupStack.pop();if(this.ctx=N,this.ctx.imageSmoothingEnabled=!1,d.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const q=(0,h.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...q);const K=o.Util.getAxialAlignedBoundingBox([0,0,f.canvas.width,f.canvas.height],q);this.ctx.drawImage(f.canvas,0,0),this.ctx.restore(),this.compose(K)}}beginAnnotation(d,f,N,q,K){if(lt(this,st,_c).call(this),E(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(f)&&f.length===4){const J=f[2]-f[0],it=f[3]-f[1];if(K&&this.annotationCanvasMap){N=N.slice(),N[4]-=f[0],N[5]-=f[1],f=f.slice(),f[0]=f[1]=0,f[2]=J,f[3]=it;const[pt,Ct]=o.Util.singularValueDecompose2dScale((0,h.getCurrentTransform)(this.ctx)),{viewportScale:Et}=this,Lt=Math.ceil(J*this.outputScaleX*Et),Nt=Math.ceil(it*this.outputScaleY*Et);this.annotationCanvas=this.canvasFactory.create(Lt,Nt);const{canvas:jt,context:ft}=this.annotationCanvas;this.annotationCanvasMap.set(d,jt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ft,this.ctx.save(),this.ctx.setTransform(pt,0,0,-Ct,0,it*Ct),E(this.ctx)}else E(this.ctx),this.ctx.rect(f[0],f[1],J,it),this.ctx.clip(),this.endPath()}this.current=new R(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...N),this.transform(...q)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),lt(this,st,Sc).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(d){if(!this.contentVisible)return;const f=d.count;d=this.getObject(d.data,d),d.count=f;const N=this.ctx,q=this.processingType3;if(q&&(q.compiled===void 0&&(q.compiled=m(d)),q.compiled)){q.compiled(N);return}const K=this._createMaskCanvas(d),J=K.canvas;N.save(),N.setTransform(1,0,0,1,0,0),N.drawImage(J,K.offsetX,K.offsetY),N.restore(),this.compose()}paintImageMaskXObjectRepeat(d,f,N=0,q=0,K,J){if(!this.contentVisible)return;d=this.getObject(d.data,d);const it=this.ctx;it.save();const pt=(0,h.getCurrentTransform)(it);it.transform(f,N,q,K,0,0);const Ct=this._createMaskCanvas(d);it.setTransform(1,0,0,1,Ct.offsetX-pt[4],Ct.offsetY-pt[5]);for(let Et=0,Lt=J.length;Et<Lt;Et+=2){const Nt=o.Util.transform(pt,[f,N,q,K,J[Et],J[Et+1]]),[jt,ft]=o.Util.applyTransform([0,0],Nt);it.drawImage(Ct.canvas,jt,ft)}it.restore(),this.compose()}paintImageMaskXObjectGroup(d){if(!this.contentVisible)return;const f=this.ctx,N=this.current.fillColor,q=this.current.patternFill;for(const K of d){const{data:J,width:it,height:pt,transform:Ct}=K,Et=this.cachedCanvases.getCanvas("maskCanvas",it,pt),Lt=Et.context;Lt.save();const Nt=this.getObject(J,K);P(Lt,Nt),Lt.globalCompositeOperation="source-in",Lt.fillStyle=q?N.getPattern(Lt,this,(0,h.getCurrentTransformInverse)(f),L.PathType.FILL):N,Lt.fillRect(0,0,it,pt),Lt.restore(),f.save(),f.transform(...Ct),f.scale(1,-1),x(f,Et.canvas,0,0,it,pt,0,-1,1,1),f.restore()}this.compose()}paintImageXObject(d){if(!this.contentVisible)return;const f=this.getObject(d);if(!f){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(f)}paintImageXObjectRepeat(d,f,N,q){if(!this.contentVisible)return;const K=this.getObject(d);if(!K){(0,o.warn)("Dependent image isn't ready yet");return}const J=K.width,it=K.height,pt=[];for(let Ct=0,Et=q.length;Ct<Et;Ct+=2)pt.push({transform:[f,0,0,N,q[Ct],q[Ct+1]],x:0,y:0,w:J,h:it});this.paintInlineImageXObjectGroup(K,pt)}applyTransferMapsToCanvas(d){return this.current.transferMaps!=="none"&&(d.filter=this.current.transferMaps,d.drawImage(d.canvas,0,0),d.filter="none"),d.canvas}applyTransferMapsToBitmap(d){if(this.current.transferMaps==="none")return d.bitmap;const{bitmap:f,width:N,height:q}=d,K=this.cachedCanvases.getCanvas("inlineImage",N,q),J=K.context;return J.filter=this.current.transferMaps,J.drawImage(f,0,0),J.filter="none",K.canvas}paintInlineImageXObject(d){if(!this.contentVisible)return;const f=d.width,N=d.height,q=this.ctx;if(this.save(),!o.isNodeJS){const{filter:it}=q;it!=="none"&&it!==""&&(q.filter="none")}q.scale(1/f,-1/N);let K;if(d.bitmap)K=this.applyTransferMapsToBitmap(d);else if(typeof HTMLElement=="function"&&d instanceof HTMLElement||!d.data)K=d;else{const pt=this.cachedCanvases.getCanvas("inlineImage",f,N).context;U(pt,d),K=this.applyTransferMapsToCanvas(pt)}const J=this._scaleImage(K,(0,h.getCurrentTransformInverse)(q));q.imageSmoothingEnabled=z((0,h.getCurrentTransform)(q),d.interpolate),x(q,J.img,0,0,J.paintWidth,J.paintHeight,0,-N,f,N),this.compose(),this.restore()}paintInlineImageXObjectGroup(d,f){if(!this.contentVisible)return;const N=this.ctx;let q;if(d.bitmap)q=d.bitmap;else{const K=d.width,J=d.height,pt=this.cachedCanvases.getCanvas("inlineImage",K,J).context;U(pt,d),q=this.applyTransferMapsToCanvas(pt)}for(const K of f)N.save(),N.transform(...K.transform),N.scale(1,-1),x(N,q,K.x,K.y,K.w,K.h,0,-1,1,1),N.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(d){}markPointProps(d,f){}beginMarkedContent(d){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(d,f){d==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(f)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(d){const f=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(d);const N=this.ctx;this.pendingClip&&(f||(this.pendingClip===B?N.clip("evenodd"):N.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),N.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const d=(0,h.getCurrentTransform)(this.ctx);if(d[1]===0&&d[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(d[0]),Math.abs(d[3]));else{const f=Math.abs(d[0]*d[3]-d[2]*d[1]),N=Math.hypot(d[0],d[2]),q=Math.hypot(d[1],d[3]);this._cachedGetSinglePixelWidth=Math.max(N,q)/f}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:d}=this.current,{a:f,b:N,c:q,d:K}=this.ctx.getTransform();let J,it;if(N===0&&q===0){const pt=Math.abs(f),Ct=Math.abs(K);if(pt===Ct)if(d===0)J=it=1/pt;else{const Et=pt*d;J=it=Et<1?1/Et:1}else if(d===0)J=1/pt,it=1/Ct;else{const Et=pt*d,Lt=Ct*d;J=Et<1?1/Et:1,it=Lt<1?1/Lt:1}}else{const pt=Math.abs(f*K-N*q),Ct=Math.hypot(f,N),Et=Math.hypot(q,K);if(d===0)J=Et/pt,it=Ct/pt;else{const Lt=d*pt;J=Et>Lt?Et/Lt:1,it=Ct>Lt?Ct/Lt:1}}this._cachedScaleForStroking[0]=J,this._cachedScaleForStroking[1]=it}return this._cachedScaleForStroking}rescaleAndStroke(d){const{ctx:f}=this,{lineWidth:N}=this.current,[q,K]=this.getScaleForStroking();if(f.lineWidth=N||1,q===1&&K===1){f.stroke();return}const J=f.getLineDash();if(d&&f.save(),f.scale(q,K),J.length>0){const it=Math.max(q,K);f.setLineDash(J.map(pt=>pt/it)),f.lineDashOffset/=it}f.stroke(),d&&f.restore()}isContentVisible(){for(let d=this.markedContentStack.length-1;d>=0;d--)if(!this.markedContentStack[d].visible)return!1;return!0}};st=new WeakSet,_c=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Sc=function(){if(this.pageColors){const d=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(d!=="none"){const f=this.ctx.filter;this.ctx.filter=d,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=f}}};let Y=k;s.CanvasGraphics=Y;for(const T in o.OPS)Y.prototype[T]!==void 0&&(Y.prototype[o.OPS[T]]=Y.prototype[T])}),((l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=M;var o=u(1),h=u(6);const L={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=L;function D(m,R){if(!R)return;const U=R[2]-R[0],P=R[3]-R[1],v=new Path2D;v.rect(R[0],R[1],U,P),m.clip(v)}class V{constructor(){this.constructor===V&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class S extends V{constructor(R){super(),this._type=R[1],this._bbox=R[2],this._colorStops=R[3],this._p0=R[4],this._p1=R[5],this._r0=R[6],this._r1=R[7],this.matrix=null}_createGradient(R){let U;this._type==="axial"?U=R.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(U=R.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const P of this._colorStops)U.addColorStop(P[0],P[1]);return U}getPattern(R,U,P,v){let E;if(v===L.STROKE||v===L.FILL){const p=U.current.getClippedPathBoundingBox(v,(0,h.getCurrentTransform)(R))||[0,0,0,0],_=Math.ceil(p[2]-p[0])||1,C=Math.ceil(p[3]-p[1])||1,Z=U.cachedCanvases.getCanvas("pattern",_,C,!0),A=Z.context;A.clearRect(0,0,A.canvas.width,A.canvas.height),A.beginPath(),A.rect(0,0,A.canvas.width,A.canvas.height),A.translate(-p[0],-p[1]),P=o.Util.transform(P,[1,0,0,1,p[0],p[1]]),A.transform(...U.baseTransform),this.matrix&&A.transform(...this.matrix),D(A,this._bbox),A.fillStyle=this._createGradient(A),A.fill(),E=R.createPattern(Z.canvas,"no-repeat");const z=new DOMMatrix(P);E.setTransform(z)}else D(R,this._bbox),E=this._createGradient(R);return E}}function b(m,R,U,P,v,E,p,_){const C=R.coords,Z=R.colors,A=m.data,z=m.width*4;let Q;C[U+1]>C[P+1]&&(Q=U,U=P,P=Q,Q=E,E=p,p=Q),C[P+1]>C[v+1]&&(Q=P,P=v,v=Q,Q=p,p=_,_=Q),C[U+1]>C[P+1]&&(Q=U,U=P,P=Q,Q=E,E=p,p=Q);const ut=(C[U]+R.offsetX)*R.scaleX,nt=(C[U+1]+R.offsetY)*R.scaleY,B=(C[P]+R.offsetX)*R.scaleX,Y=(C[P+1]+R.offsetY)*R.scaleY,st=(C[v]+R.offsetX)*R.scaleX,X=(C[v+1]+R.offsetY)*R.scaleY;if(nt>=X)return;const et=Z[E],k=Z[E+1],T=Z[E+2],d=Z[p],f=Z[p+1],N=Z[p+2],q=Z[_],K=Z[_+1],J=Z[_+2],it=Math.round(nt),pt=Math.round(X);let Ct,Et,Lt,Nt,jt,ft,mt,I;for(let $=it;$<=pt;$++){if($<Y){const Ot=$<nt?0:(nt-$)/(nt-Y);Ct=ut-(ut-B)*Ot,Et=et-(et-d)*Ot,Lt=k-(k-f)*Ot,Nt=T-(T-N)*Ot}else{let Ot;$>X?Ot=1:Y===X?Ot=0:Ot=(Y-$)/(Y-X),Ct=B-(B-st)*Ot,Et=d-(d-q)*Ot,Lt=f-(f-K)*Ot,Nt=N-(N-J)*Ot}let ot;$<nt?ot=0:$>X?ot=1:ot=(nt-$)/(nt-X),jt=ut-(ut-st)*ot,ft=et-(et-q)*ot,mt=k-(k-K)*ot,I=T-(T-J)*ot;const gt=Math.round(Math.min(Ct,jt)),wt=Math.round(Math.max(Ct,jt));let zt=z*$+gt*4;for(let Ot=gt;Ot<=wt;Ot++)ot=(Ct-Ot)/(Ct-jt),ot<0?ot=0:ot>1&&(ot=1),A[zt++]=Et-(Et-ft)*ot|0,A[zt++]=Lt-(Lt-mt)*ot|0,A[zt++]=Nt-(Nt-I)*ot|0,A[zt++]=255}}function y(m,R,U){const P=R.coords,v=R.colors;let E,p;switch(R.type){case"lattice":const _=R.verticesPerRow,C=Math.floor(P.length/_)-1,Z=_-1;for(E=0;E<C;E++){let A=E*_;for(let z=0;z<Z;z++,A++)b(m,U,P[A],P[A+1],P[A+_],v[A],v[A+1],v[A+_]),b(m,U,P[A+_+1],P[A+1],P[A+_],v[A+_+1],v[A+1],v[A+_])}break;case"triangles":for(E=0,p=P.length;E<p;E+=3)b(m,U,P[E],P[E+1],P[E+2],v[E],v[E+1],v[E+2]);break;default:throw new Error("illegal figure")}}class w extends V{constructor(R){super(),this._coords=R[2],this._colors=R[3],this._figures=R[4],this._bounds=R[5],this._bbox=R[7],this._background=R[8],this.matrix=null}_createMeshCanvas(R,U,P){const _=Math.floor(this._bounds[0]),C=Math.floor(this._bounds[1]),Z=Math.ceil(this._bounds[2])-_,A=Math.ceil(this._bounds[3])-C,z=Math.min(Math.ceil(Math.abs(Z*R[0]*1.1)),3e3),Q=Math.min(Math.ceil(Math.abs(A*R[1]*1.1)),3e3),ut=Z/z,nt=A/Q,B={coords:this._coords,colors:this._colors,offsetX:-_,offsetY:-C,scaleX:1/ut,scaleY:1/nt},Y=z+4,st=Q+4,X=P.getCanvas("mesh",Y,st,!1),et=X.context,k=et.createImageData(z,Q);if(U){const d=k.data;for(let f=0,N=d.length;f<N;f+=4)d[f]=U[0],d[f+1]=U[1],d[f+2]=U[2],d[f+3]=255}for(const d of this._figures)y(k,d,B);return et.putImageData(k,2,2),{canvas:X.canvas,offsetX:_-2*ut,offsetY:C-2*nt,scaleX:ut,scaleY:nt}}getPattern(R,U,P,v){D(R,this._bbox);let E;if(v===L.SHADING)E=o.Util.singularValueDecompose2dScale((0,h.getCurrentTransform)(R));else if(E=o.Util.singularValueDecompose2dScale(U.baseTransform),this.matrix){const _=o.Util.singularValueDecompose2dScale(this.matrix);E=[E[0]*_[0],E[1]*_[1]]}const p=this._createMeshCanvas(E,v===L.SHADING?null:this._background,U.cachedCanvases);return v!==L.SHADING&&(R.setTransform(...U.baseTransform),this.matrix&&R.transform(...this.matrix)),R.translate(p.offsetX,p.offsetY),R.scale(p.scaleX,p.scaleY),R.createPattern(p.canvas,"no-repeat")}}class j extends V{getPattern(){return"hotpink"}}function M(m){switch(m[0]){case"RadialAxial":return new S(m);case"Mesh":return new w(m);case"Dummy":return new j}throw new Error(`Unknown IR type: ${m[0]}`)}const O={COLORED:1,UNCOLORED:2},x=class x{constructor(R,U,P,v,E){this.operatorList=R[2],this.matrix=R[3]||[1,0,0,1,0,0],this.bbox=R[4],this.xstep=R[5],this.ystep=R[6],this.paintType=R[7],this.tilingType=R[8],this.color=U,this.ctx=P,this.canvasGraphicsFactory=v,this.baseTransform=E}createPatternCanvas(R){const U=this.operatorList,P=this.bbox,v=this.xstep,E=this.ystep,p=this.paintType,_=this.tilingType,C=this.color,Z=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+_);const A=P[0],z=P[1],Q=P[2],ut=P[3],nt=o.Util.singularValueDecompose2dScale(this.matrix),B=o.Util.singularValueDecompose2dScale(this.baseTransform),Y=[nt[0]*B[0],nt[1]*B[1]],st=this.getSizeAndScale(v,this.ctx.canvas.width,Y[0]),X=this.getSizeAndScale(E,this.ctx.canvas.height,Y[1]),et=R.cachedCanvases.getCanvas("pattern",st.size,X.size,!0),k=et.context,T=Z.createCanvasGraphics(k);T.groupLevel=R.groupLevel,this.setFillAndStrokeStyleToContext(T,p,C);let d=A,f=z,N=Q,q=ut;return A<0&&(d=0,N+=Math.abs(A)),z<0&&(f=0,q+=Math.abs(z)),k.translate(-(st.scale*d),-(X.scale*f)),T.transform(st.scale,0,0,X.scale,0,0),k.save(),this.clipBbox(T,d,f,N,q),T.baseTransform=(0,h.getCurrentTransform)(T.ctx),T.executeOperatorList(U),T.endDrawing(),{canvas:et.canvas,scaleX:st.scale,scaleY:X.scale,offsetX:d,offsetY:f}}getSizeAndScale(R,U,P){R=Math.abs(R);const v=Math.max(x.MAX_PATTERN_SIZE,U);let E=Math.ceil(R*P);return E>=v?E=v:P=E/R,{scale:P,size:E}}clipBbox(R,U,P,v,E){const p=v-U,_=E-P;R.ctx.rect(U,P,p,_),R.current.updateRectMinMax((0,h.getCurrentTransform)(R.ctx),[U,P,v,E]),R.clip(),R.endPath()}setFillAndStrokeStyleToContext(R,U,P){const v=R.ctx,E=R.current;switch(U){case O.COLORED:const p=this.ctx;v.fillStyle=p.fillStyle,v.strokeStyle=p.strokeStyle,E.fillColor=p.fillStyle,E.strokeColor=p.strokeStyle;break;case O.UNCOLORED:const _=o.Util.makeHexColor(P[0],P[1],P[2]);v.fillStyle=_,v.strokeStyle=_,E.fillColor=_,E.strokeColor=_;break;default:throw new o.FormatError(`Unsupported paint type: ${U}`)}}getPattern(R,U,P,v){let E=P;v!==L.SHADING&&(E=o.Util.transform(E,U.baseTransform),this.matrix&&(E=o.Util.transform(E,this.matrix)));const p=this.createPatternCanvas(U);let _=new DOMMatrix(E);_=_.translate(p.offsetX,p.offsetY),_=_.scale(1/p.scaleX,1/p.scaleY);const C=R.createPattern(p.canvas,"repeat");return C.setTransform(_),C}};De(x,"MAX_PATTERN_SIZE",3e3);let F=x;s.TilingPattern=F}),((l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertBlackAndWhiteToRGBA=L,s.convertToRGBA=h,s.grayToRGBA=V;var o=u(1);function h(S){switch(S.kind){case o.ImageKind.GRAYSCALE_1BPP:return L(S);case o.ImageKind.RGB_24BPP:return D(S)}return null}function L({src:S,srcPos:b=0,dest:y,width:w,height:j,nonBlackColor:M=4294967295,inverseDecode:O=!1}){const F=o.FeatureTest.isLittleEndian?4278190080:255,[x,m]=O?[M,F]:[F,M],R=w>>3,U=w&7,P=S.length;y=new Uint32Array(y.buffer);let v=0;for(let E=0;E<j;E++){for(const _=b+R;b<_;b++){const C=b<P?S[b]:255;y[v++]=C&128?m:x,y[v++]=C&64?m:x,y[v++]=C&32?m:x,y[v++]=C&16?m:x,y[v++]=C&8?m:x,y[v++]=C&4?m:x,y[v++]=C&2?m:x,y[v++]=C&1?m:x}if(U===0)continue;const p=b<P?S[b++]:255;for(let _=0;_<U;_++)y[v++]=p&1<<7-_?m:x}return{srcPos:b,destPos:v}}function D({src:S,srcPos:b=0,dest:y,destPos:w=0,width:j,height:M}){let O=0;const F=S.length>>2,x=new Uint32Array(S.buffer,b,F);if(o.FeatureTest.isLittleEndian){for(;O<F-2;O+=3,w+=4){const m=x[O],R=x[O+1],U=x[O+2];y[w]=m|4278190080,y[w+1]=m>>>24|R<<8|4278190080,y[w+2]=R>>>16|U<<16|4278190080,y[w+3]=U>>>8|4278190080}for(let m=O*4,R=S.length;m<R;m+=3)y[w++]=S[m]|S[m+1]<<8|S[m+2]<<16|4278190080}else{for(;O<F-2;O+=3,w+=4){const m=x[O],R=x[O+1],U=x[O+2];y[w]=m|255,y[w+1]=m<<24|R>>>8|255,y[w+2]=R<<16|U>>>16|255,y[w+3]=U<<8|255}for(let m=O*4,R=S.length;m<R;m+=3)y[w++]=S[m]<<24|S[m+1]<<16|S[m+2]<<8|255}return{srcPos:b,destPos:w}}function V(S,b){if(o.FeatureTest.isLittleEndian)for(let y=0,w=S.length;y<w;y++)b[y]=S[y]*65793|4278190080;else for(let y=0,w=S.length;y<w;y++)b[y]=S[y]*16843008|255}}),((l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const u=Object.create(null);s.GlobalWorkerOptions=u,u.workerPort=null,u.workerSrc=""}),((l,s,u)=>{var S,Hf,If,qr;Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var o=u(1);const h={DATA:1,ERROR:2},L={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function D(j){switch(j instanceof Error||typeof j=="object"&&j!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),j.name){case"AbortException":return new o.AbortException(j.message);case"MissingPDFException":return new o.MissingPDFException(j.message);case"PasswordException":return new o.PasswordException(j.message,j.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(j.message,j.status);case"UnknownErrorException":return new o.UnknownErrorException(j.message,j.details);default:return new o.UnknownErrorException(j.message,j.toString())}}class V{constructor(M,O,F){yt(this,S);this.sourceName=M,this.targetName=O,this.comObj=F,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=x=>{const m=x.data;if(m.targetName!==this.sourceName)return;if(m.stream){lt(this,S,If).call(this,m);return}if(m.callback){const U=m.callbackId,P=this.callbackCapabilities[U];if(!P)throw new Error(`Cannot resolve callback ${U}`);if(delete this.callbackCapabilities[U],m.callback===h.DATA)P.resolve(m.data);else if(m.callback===h.ERROR)P.reject(D(m.reason));else throw new Error("Unexpected callback case");return}const R=this.actionHandler[m.action];if(!R)throw new Error(`Unknown action from worker: ${m.action}`);if(m.callbackId){const U=this.sourceName,P=m.sourceName;new Promise(function(v){v(R(m.data))}).then(function(v){F.postMessage({sourceName:U,targetName:P,callback:h.DATA,callbackId:m.callbackId,data:v})},function(v){F.postMessage({sourceName:U,targetName:P,callback:h.ERROR,callbackId:m.callbackId,reason:D(v)})});return}if(m.streamId){lt(this,S,Hf).call(this,m);return}R(m.data)},F.addEventListener("message",this._onComObjOnMessage)}on(M,O){const F=this.actionHandler;if(F[M])throw new Error(`There is already an actionName called "${M}"`);F[M]=O}send(M,O,F){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:M,data:O},F)}sendWithPromise(M,O,F){const x=this.callbackId++,m=new o.PromiseCapability;this.callbackCapabilities[x]=m;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:M,callbackId:x,data:O},F)}catch(R){m.reject(R)}return m.promise}sendWithStream(M,O,F,x){const m=this.streamId++,R=this.sourceName,U=this.targetName,P=this.comObj;return new ReadableStream({start:v=>{const E=new o.PromiseCapability;return this.streamControllers[m]={controller:v,startCall:E,pullCall:null,cancelCall:null,isClosed:!1},P.postMessage({sourceName:R,targetName:U,action:M,streamId:m,data:O,desiredSize:v.desiredSize},x),E.promise},pull:v=>{const E=new o.PromiseCapability;return this.streamControllers[m].pullCall=E,P.postMessage({sourceName:R,targetName:U,stream:L.PULL,streamId:m,desiredSize:v.desiredSize}),E.promise},cancel:v=>{(0,o.assert)(v instanceof Error,"cancel must have a valid reason");const E=new o.PromiseCapability;return this.streamControllers[m].cancelCall=E,this.streamControllers[m].isClosed=!0,P.postMessage({sourceName:R,targetName:U,stream:L.CANCEL,streamId:m,reason:D(v)}),E.promise}},F)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}S=new WeakSet,Hf=function(M){const O=M.streamId,F=this.sourceName,x=M.sourceName,m=this.comObj,R=this,U=this.actionHandler[M.action],P={enqueue(v,E=1,p){if(this.isCancelled)return;const _=this.desiredSize;this.desiredSize-=E,_>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),m.postMessage({sourceName:F,targetName:x,stream:L.ENQUEUE,streamId:O,chunk:v},p)},close(){this.isCancelled||(this.isCancelled=!0,m.postMessage({sourceName:F,targetName:x,stream:L.CLOSE,streamId:O}),delete R.streamSinks[O])},error(v){(0,o.assert)(v instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,m.postMessage({sourceName:F,targetName:x,stream:L.ERROR,streamId:O,reason:D(v)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:M.desiredSize,ready:null};P.sinkCapability.resolve(),P.ready=P.sinkCapability.promise,this.streamSinks[O]=P,new Promise(function(v){v(U(M.data,P))}).then(function(){m.postMessage({sourceName:F,targetName:x,stream:L.START_COMPLETE,streamId:O,success:!0})},function(v){m.postMessage({sourceName:F,targetName:x,stream:L.START_COMPLETE,streamId:O,reason:D(v)})})},If=function(M){const O=M.streamId,F=this.sourceName,x=M.sourceName,m=this.comObj,R=this.streamControllers[O],U=this.streamSinks[O];switch(M.stream){case L.START_COMPLETE:M.success?R.startCall.resolve():R.startCall.reject(D(M.reason));break;case L.PULL_COMPLETE:M.success?R.pullCall.resolve():R.pullCall.reject(D(M.reason));break;case L.PULL:if(!U){m.postMessage({sourceName:F,targetName:x,stream:L.PULL_COMPLETE,streamId:O,success:!0});break}U.desiredSize<=0&&M.desiredSize>0&&U.sinkCapability.resolve(),U.desiredSize=M.desiredSize,new Promise(function(P){var v;P((v=U.onPull)==null?void 0:v.call(U))}).then(function(){m.postMessage({sourceName:F,targetName:x,stream:L.PULL_COMPLETE,streamId:O,success:!0})},function(P){m.postMessage({sourceName:F,targetName:x,stream:L.PULL_COMPLETE,streamId:O,reason:D(P)})});break;case L.ENQUEUE:if((0,o.assert)(R,"enqueue should have stream controller"),R.isClosed)break;R.controller.enqueue(M.chunk);break;case L.CLOSE:if((0,o.assert)(R,"close should have stream controller"),R.isClosed)break;R.isClosed=!0,R.controller.close(),lt(this,S,qr).call(this,R,O);break;case L.ERROR:(0,o.assert)(R,"error should have stream controller"),R.controller.error(D(M.reason)),lt(this,S,qr).call(this,R,O);break;case L.CANCEL_COMPLETE:M.success?R.cancelCall.resolve():R.cancelCall.reject(D(M.reason)),lt(this,S,qr).call(this,R,O);break;case L.CANCEL:if(!U)break;new Promise(function(P){var v;P((v=U.onCancel)==null?void 0:v.call(U,D(M.reason)))}).then(function(){m.postMessage({sourceName:F,targetName:x,stream:L.CANCEL_COMPLETE,streamId:O,success:!0})},function(P){m.postMessage({sourceName:F,targetName:x,stream:L.CANCEL_COMPLETE,streamId:O,reason:D(P)})}),U.sinkCapability.reject(D(M.reason)),U.isCancelled=!0,delete this.streamSinks[O];break;default:throw new Error("Unexpected stream case")}},qr=async function(M,O){var F,x,m;await Promise.allSettled([(F=M.startCall)==null?void 0:F.promise,(x=M.pullCall)==null?void 0:x.promise,(m=M.cancelCall)==null?void 0:m.promise]),delete this.streamControllers[O]},s.MessageHandler=V}),((l,s,u)=>{var L,D;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var o=u(1);class h{constructor({parsedData:S,rawData:b}){yt(this,L);yt(this,D);At(this,L,S),At(this,D,b)}getRaw(){return c(this,D)}get(S){return c(this,L).get(S)??null}getAll(){return(0,o.objectFromMap)(c(this,L))}has(S){return c(this,L).has(S)}}L=new WeakMap,D=new WeakMap,s.Metadata=h}),((l,s,u)=>{var S,b,y,w,j,M,xc;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var o=u(1),h=u(8);const L=Symbol("INTERNAL");class D{constructor(x,m){yt(this,S,!0);this.name=x,this.intent=m}get visible(){return c(this,S)}_setVisible(x,m){x!==L&&(0,o.unreachable)("Internal method `_setVisible` called."),At(this,S,m)}}S=new WeakMap;class V{constructor(x){yt(this,M);yt(this,b,null);yt(this,y,new Map);yt(this,w,null);yt(this,j,null);if(this.name=null,this.creator=null,x!==null){this.name=x.name,this.creator=x.creator,At(this,j,x.order);for(const m of x.groups)c(this,y).set(m.id,new D(m.name,m.intent));if(x.baseState==="OFF")for(const m of c(this,y).values())m._setVisible(L,!1);for(const m of x.on)c(this,y).get(m)._setVisible(L,!0);for(const m of x.off)c(this,y).get(m)._setVisible(L,!1);At(this,w,this.getHash())}}isVisible(x){if(c(this,y).size===0)return!0;if(!x)return(0,o.warn)("Optional content group not defined."),!0;if(x.type==="OCG")return c(this,y).has(x.id)?c(this,y).get(x.id).visible:((0,o.warn)(`Optional content group not found: ${x.id}`),!0);if(x.type==="OCMD"){if(x.expression)return lt(this,M,xc).call(this,x.expression);if(!x.policy||x.policy==="AnyOn"){for(const m of x.ids){if(!c(this,y).has(m))return(0,o.warn)(`Optional content group not found: ${m}`),!0;if(c(this,y).get(m).visible)return!0}return!1}else if(x.policy==="AllOn"){for(const m of x.ids){if(!c(this,y).has(m))return(0,o.warn)(`Optional content group not found: ${m}`),!0;if(!c(this,y).get(m).visible)return!1}return!0}else if(x.policy==="AnyOff"){for(const m of x.ids){if(!c(this,y).has(m))return(0,o.warn)(`Optional content group not found: ${m}`),!0;if(!c(this,y).get(m).visible)return!0}return!1}else if(x.policy==="AllOff"){for(const m of x.ids){if(!c(this,y).has(m))return(0,o.warn)(`Optional content group not found: ${m}`),!0;if(c(this,y).get(m).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${x.policy}.`),!0}return(0,o.warn)(`Unknown group type ${x.type}.`),!0}setVisibility(x,m=!0){if(!c(this,y).has(x)){(0,o.warn)(`Optional content group not found: ${x}`);return}c(this,y).get(x)._setVisible(L,!!m),At(this,b,null)}get hasInitialVisibility(){return c(this,w)===null||this.getHash()===c(this,w)}getOrder(){return c(this,y).size?c(this,j)?c(this,j).slice():[...c(this,y).keys()]:null}getGroups(){return c(this,y).size>0?(0,o.objectFromMap)(c(this,y)):null}getGroup(x){return c(this,y).get(x)||null}getHash(){if(c(this,b)!==null)return c(this,b);const x=new h.MurmurHash3_64;for(const[m,R]of c(this,y))x.update(`${m}:${R.visible}`);return At(this,b,x.hexdigest())}}b=new WeakMap,y=new WeakMap,w=new WeakMap,j=new WeakMap,M=new WeakSet,xc=function(x){const m=x.length;if(m<2)return!0;const R=x[0];for(let U=1;U<m;U++){const P=x[U];let v;if(Array.isArray(P))v=lt(this,M,xc).call(this,P);else if(c(this,y).has(P))v=c(this,y).get(P).visible;else return(0,o.warn)(`Optional content group not found: ${P}`),!0;switch(R){case"And":if(!v)return!1;break;case"Or":if(v)return!0;break;case"Not":return!v;default:return!0}}return R==="And"},s.OptionalContentConfig=V}),((l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var o=u(1),h=u(6);class L{constructor({length:b,initialData:y,progressiveDone:w=!1,contentDispositionFilename:j=null,disableRange:M=!1,disableStream:O=!1},F){if((0,o.assert)(F,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=w,this._contentDispositionFilename=j,(y==null?void 0:y.length)>0){const x=y instanceof Uint8Array&&y.byteLength===y.buffer.byteLength?y.buffer:new Uint8Array(y).buffer;this._queuedChunks.push(x)}this._pdfDataRangeTransport=F,this._isStreamingSupported=!O,this._isRangeSupported=!M,this._contentLength=b,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((x,m)=>{this._onReceiveData({begin:x,chunk:m})}),this._pdfDataRangeTransport.addProgressListener((x,m)=>{this._onProgress({loaded:x,total:m})}),this._pdfDataRangeTransport.addProgressiveReadListener(x=>{this._onReceiveData({chunk:x})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:b,chunk:y}){const w=y instanceof Uint8Array&&y.byteLength===y.buffer.byteLength?y.buffer:new Uint8Array(y).buffer;if(b===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(w):this._queuedChunks.push(w);else{const j=this._rangeReaders.some(function(M){return M._begin!==b?!1:(M._enqueue(w),!0)});(0,o.assert)(j,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var b;return((b=this._fullRequestReader)==null?void 0:b._loaded)??0}_onProgress(b){var y,w,j,M;b.total===void 0?(w=(y=this._rangeReaders[0])==null?void 0:y.onProgress)==null||w.call(y,{loaded:b.loaded}):(M=(j=this._fullRequestReader)==null?void 0:j.onProgress)==null||M.call(j,{loaded:b.loaded,total:b.total})}_onProgressiveDone(){var b;(b=this._fullRequestReader)==null||b.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(b){const y=this._rangeReaders.indexOf(b);y>=0&&this._rangeReaders.splice(y,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const b=this._queuedChunks;return this._queuedChunks=null,new D(this,b,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(b,y){if(y<=this._progressiveDataLength)return null;const w=new V(this,b,y);return this._pdfDataRangeTransport.requestDataRange(b,y),this._rangeReaders.push(w),w}cancelAllRequests(b){var y;(y=this._fullRequestReader)==null||y.cancel(b);for(const w of this._rangeReaders.slice(0))w.cancel(b);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=L;class D{constructor(b,y,w=!1,j=null){this._stream=b,this._done=w||!1,this._filename=(0,h.isPdfFile)(j)?j:null,this._queuedChunks=y||[],this._loaded=0;for(const M of this._queuedChunks)this._loaded+=M.byteLength;this._requests=[],this._headersReady=Promise.resolve(),b._fullRequestReader=this,this.onProgress=null}_enqueue(b){this._done||(this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b),this._loaded+=b.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=new o.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class V{constructor(b,y,w){this._stream=b,this._begin=y,this._end=w,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(b){if(!this._done){if(this._requests.length===0)this._queuedChunk=b;else{this._requests.shift().resolve({value:b,done:!1});for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const y=this._queuedChunk;return this._queuedChunk=null,{value:y,done:!1}}if(this._done)return{value:void 0,done:!0};const b=new o.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var o=u(1),h=u(20);function L(w,j,M){return{method:"GET",headers:w,signal:M.signal,mode:"cors",credentials:j?"include":"same-origin",redirect:"follow"}}function D(w){const j=new Headers;for(const M in w){const O=w[M];O!==void 0&&j.append(M,O)}return j}function V(w){return w instanceof Uint8Array?w.buffer:w instanceof ArrayBuffer?w:((0,o.warn)(`getArrayBuffer - unexpected data format: ${w}`),new Uint8Array(w).buffer)}class S{constructor(j){this.source=j,this.isHttp=/^https?:/i.test(j.url),this.httpHeaders=this.isHttp&&j.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var j;return((j=this._fullRequestReader)==null?void 0:j._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new b(this),this._fullRequestReader}getRangeReader(j,M){if(M<=this._progressiveDataLength)return null;const O=new y(this,j,M);return this._rangeRequestReaders.push(O),O}cancelAllRequests(j){var M;(M=this._fullRequestReader)==null||M.cancel(j);for(const O of this._rangeRequestReaders.slice(0))O.cancel(j)}}s.PDFFetchStream=S;class b{constructor(j){this._stream=j,this._reader=null,this._loaded=0,this._filename=null;const M=j.source;this._withCredentials=M.withCredentials||!1,this._contentLength=M.length,this._headersCapability=new o.PromiseCapability,this._disableRange=M.disableRange||!1,this._rangeChunkSize=M.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!M.disableStream,this._isRangeSupported=!M.disableRange,this._headers=D(this._stream.httpHeaders);const O=M.url;fetch(O,L(this._headers,this._withCredentials,this._abortController)).then(F=>{if(!(0,h.validateResponseStatus)(F.status))throw(0,h.createResponseStatusError)(F.status,O);this._reader=F.body.getReader(),this._headersCapability.resolve();const x=U=>F.headers.get(U),{allowRangeRequests:m,suggestedLength:R}=(0,h.validateRangeRequestCapabilities)({getResponseHeader:x,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=m,this._contentLength=R||this._contentLength,this._filename=(0,h.extractFilenameFromHeader)(x),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var O;await this._headersCapability.promise;const{value:j,done:M}=await this._reader.read();return M?{value:j,done:M}:(this._loaded+=j.byteLength,(O=this.onProgress)==null||O.call(this,{loaded:this._loaded,total:this._contentLength}),{value:V(j),done:!1})}cancel(j){var M;(M=this._reader)==null||M.cancel(j),this._abortController.abort()}}class y{constructor(j,M,O){this._stream=j,this._reader=null,this._loaded=0;const F=j.source;this._withCredentials=F.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!F.disableStream,this._abortController=new AbortController,this._headers=D(this._stream.httpHeaders),this._headers.append("Range",`bytes=${M}-${O-1}`);const x=F.url;fetch(x,L(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,h.validateResponseStatus)(m.status))throw(0,h.createResponseStatusError)(m.status,x);this._readCapability.resolve(),this._reader=m.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var O;await this._readCapability.promise;const{value:j,done:M}=await this._reader.read();return M?{value:j,done:M}:(this._loaded+=j.byteLength,(O=this.onProgress)==null||O.call(this,{loaded:this._loaded}),{value:V(j),done:!1})}cancel(j){var M;(M=this._reader)==null||M.cancel(j),this._abortController.abort()}}}),((l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=S,s.extractFilenameFromHeader=V,s.validateRangeRequestCapabilities=D,s.validateResponseStatus=b;var o=u(1),h=u(21),L=u(6);function D({getResponseHeader:y,isHttp:w,rangeChunkSize:j,disableRange:M}){const O={allowRangeRequests:!1,suggestedLength:void 0},F=parseInt(y("Content-Length"),10);return!Number.isInteger(F)||(O.suggestedLength=F,F<=2*j)||M||!w||y("Accept-Ranges")!=="bytes"||(y("Content-Encoding")||"identity")!=="identity"||(O.allowRangeRequests=!0),O}function V(y){const w=y("Content-Disposition");if(w){let j=(0,h.getFilenameFromContentDispositionHeader)(w);if(j.includes("%"))try{j=decodeURIComponent(j)}catch{}if((0,L.isPdfFile)(j))return j}return null}function S(y,w){return y===404||y===0&&w.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+w+'".'):new o.UnexpectedResponseException(`Unexpected server response (${y}) while retrieving PDF "${w}".`,y)}function b(y){return y===200||y===206}}),((l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=h;var o=u(1);function h(L){let D=!0,V=S("filename\\*","i").exec(L);if(V){V=V[1];let F=j(V);return F=unescape(F),F=M(F),F=O(F),y(F)}if(V=w(L),V){const F=O(V);return y(F)}if(V=S("filename","i").exec(L),V){V=V[1];let F=j(V);return F=O(F),y(F)}function S(F,x){return new RegExp("(?:^|;)\\s*"+F+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',x)}function b(F,x){if(F){if(!/^[\x00-\xFF]+$/.test(x))return x;try{const m=new TextDecoder(F,{fatal:!0}),R=(0,o.stringToBytes)(x);x=m.decode(R),D=!1}catch{}}return x}function y(F){return D&&/[\x80-\xff]/.test(F)&&(F=b("utf-8",F),D&&(F=b("iso-8859-1",F))),F}function w(F){const x=[];let m;const R=S("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=R.exec(F))!==null;){let[,P,v,E]=m;if(P=parseInt(P,10),P in x){if(P===0)break;continue}x[P]=[v,E]}const U=[];for(let P=0;P<x.length&&P in x;++P){let[v,E]=x[P];E=j(E),v&&(E=unescape(E),P===0&&(E=M(E))),U.push(E)}return U.join("")}function j(F){if(F.startsWith('"')){const x=F.slice(1).split('\\"');for(let m=0;m<x.length;++m){const R=x[m].indexOf('"');R!==-1&&(x[m]=x[m].slice(0,R),x.length=m+1),x[m]=x[m].replaceAll(/\\(.)/g,"$1")}F=x.join('"')}return F}function M(F){const x=F.indexOf("'");if(x===-1)return F;const m=F.slice(0,x),U=F.slice(x+1).replace(/^[^']*'/,"");return b(m,U)}function O(F){return!F.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(F)?F:F.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(x,m,R,U){if(R==="q"||R==="Q")return U=U.replaceAll("_"," "),U=U.replaceAll(/=([0-9a-fA-F]{2})/g,function(P,v){return String.fromCharCode(parseInt(v,16))}),b(m,U);try{U=atob(U)}catch{}return b(m,U)})}return""}}),((l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var o=u(1),h=u(20);const L=200,D=206;function V(j){const M=j.response;return typeof M!="string"?M:(0,o.stringToBytes)(M).buffer}class S{constructor(M,O={}){this.url=M,this.isHttp=/^https?:/i.test(M),this.httpHeaders=this.isHttp&&O.httpHeaders||Object.create(null),this.withCredentials=O.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(M,O,F){const x={begin:M,end:O};for(const m in F)x[m]=F[m];return this.request(x)}requestFull(M){return this.request(M)}request(M){const O=new XMLHttpRequest,F=this.currXhrId++,x=this.pendingRequests[F]={xhr:O};O.open("GET",this.url),O.withCredentials=this.withCredentials;for(const m in this.httpHeaders){const R=this.httpHeaders[m];R!==void 0&&O.setRequestHeader(m,R)}return this.isHttp&&"begin"in M&&"end"in M?(O.setRequestHeader("Range",`bytes=${M.begin}-${M.end-1}`),x.expectedStatus=D):x.expectedStatus=L,O.responseType="arraybuffer",M.onError&&(O.onerror=function(m){M.onError(O.status)}),O.onreadystatechange=this.onStateChange.bind(this,F),O.onprogress=this.onProgress.bind(this,F),x.onHeadersReceived=M.onHeadersReceived,x.onDone=M.onDone,x.onError=M.onError,x.onProgress=M.onProgress,O.send(null),F}onProgress(M,O){var x;const F=this.pendingRequests[M];F&&((x=F.onProgress)==null||x.call(F,O))}onStateChange(M,O){var P,v,E;const F=this.pendingRequests[M];if(!F)return;const x=F.xhr;if(x.readyState>=2&&F.onHeadersReceived&&(F.onHeadersReceived(),delete F.onHeadersReceived),x.readyState!==4||!(M in this.pendingRequests))return;if(delete this.pendingRequests[M],x.status===0&&this.isHttp){(P=F.onError)==null||P.call(F,x.status);return}const m=x.status||L;if(!(m===L&&F.expectedStatus===D)&&m!==F.expectedStatus){(v=F.onError)==null||v.call(F,x.status);return}const U=V(x);if(m===D){const p=x.getResponseHeader("Content-Range"),_=/bytes (\d+)-(\d+)\/(\d+)/.exec(p);F.onDone({begin:parseInt(_[1],10),chunk:U})}else U?F.onDone({begin:0,chunk:U}):(E=F.onError)==null||E.call(F,x.status)}getRequestXhr(M){return this.pendingRequests[M].xhr}isPendingRequest(M){return M in this.pendingRequests}abortRequest(M){const O=this.pendingRequests[M].xhr;delete this.pendingRequests[M],O.abort()}}class b{constructor(M){this._source=M,this._manager=new S(M.url,{httpHeaders:M.httpHeaders,withCredentials:M.withCredentials}),this._rangeChunkSize=M.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(M){const O=this._rangeRequestReaders.indexOf(M);O>=0&&this._rangeRequestReaders.splice(O,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new y(this._manager,this._source),this._fullRequestReader}getRangeReader(M,O){const F=new w(this._manager,M,O);return F.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(F),F}cancelAllRequests(M){var O;(O=this._fullRequestReader)==null||O.cancel(M);for(const F of this._rangeRequestReaders.slice(0))F.cancel(M)}}s.PDFNetworkStream=b;class y{constructor(M,O){this._manager=M;const F={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=O.url,this._fullRequestId=M.requestFull(F),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=O.disableRange||!1,this._contentLength=O.length,this._rangeChunkSize=O.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const M=this._fullRequestId,O=this._manager.getRequestXhr(M),F=R=>O.getResponseHeader(R),{allowRangeRequests:x,suggestedLength:m}=(0,h.validateRangeRequestCapabilities)({getResponseHeader:F,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});x&&(this._isRangeSupported=!0),this._contentLength=m||this._contentLength,this._filename=(0,h.extractFilenameFromHeader)(F),this._isRangeSupported&&this._manager.abortRequest(M),this._headersReceivedCapability.resolve()}_onDone(M){if(M&&(this._requests.length>0?this._requests.shift().resolve({value:M.chunk,done:!1}):this._cachedChunks.push(M.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const O of this._requests)O.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(M){this._storedError=(0,h.createResponseStatusError)(M,this._url),this._headersReceivedCapability.reject(this._storedError);for(const O of this._requests)O.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(M){var O;(O=this.onProgress)==null||O.call(this,{loaded:M.loaded,total:M.lengthComputable?M.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const M=new o.PromiseCapability;return this._requests.push(M),M.promise}cancel(M){this._done=!0,this._headersReceivedCapability.reject(M);for(const O of this._requests)O.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class w{constructor(M,O,F){this._manager=M;const x={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=M.url,this._requestId=M.requestRange(O,F,x),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var M;(M=this.onClosed)==null||M.call(this,this)}_onDone(M){const O=M.chunk;this._requests.length>0?this._requests.shift().resolve({value:O,done:!1}):this._queuedChunk=O,this._done=!0;for(const F of this._requests)F.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(M){this._storedError=(0,h.createResponseStatusError)(M,this._url);for(const O of this._requests)O.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(M){var O;this.isStreamingSupported||(O=this.onProgress)==null||O.call(this,{loaded:M.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const O=this._queuedChunk;return this._queuedChunk=null,{value:O,done:!1}}if(this._done)return{value:void 0,done:!0};const M=new o.PromiseCapability;return this._requests.push(M),M.promise}cancel(M){this._done=!0;for(const O of this._requests)O.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var o=u(1),h=u(20);const L=/^file:\/\/\/[a-zA-Z]:\//;function D(F){const x=require$$5,m=x.parse(F);return m.protocol==="file:"||m.host?m:/^[a-z]:[/\\]/i.test(F)?x.parse(`file:///${F}`):(m.host||(m.protocol="file:"),m)}class V{constructor(x){this.source=x,this.url=D(x.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&x.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var x;return((x=this._fullRequestReader)==null?void 0:x._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new M(this):new w(this),this._fullRequestReader}getRangeReader(x,m){if(m<=this._progressiveDataLength)return null;const R=this.isFsUrl?new O(this,x,m):new j(this,x,m);return this._rangeRequestReaders.push(R),R}cancelAllRequests(x){var m;(m=this._fullRequestReader)==null||m.cancel(x);for(const R of this._rangeRequestReaders.slice(0))R.cancel(x)}}s.PDFNodeStream=V;class S{constructor(x){this._url=x.url,this._done=!1,this._storedError=null,this.onProgress=null;const m=x.source;this._contentLength=m.length,this._loaded=0,this._filename=null,this._disableRange=m.disableRange||!1,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!m.disableStream,this._isRangeSupported=!m.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var R;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const x=this._readableStream.read();return x===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=x.length,(R=this.onProgress)==null||R.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(x).buffer,done:!1})}cancel(x){if(!this._readableStream){this._error(x);return}this._readableStream.destroy(x)}_error(x){this._storedError=x,this._readCapability.resolve()}_setReadableStream(x){this._readableStream=x,x.on("readable",()=>{this._readCapability.resolve()}),x.on("end",()=>{x.destroy(),this._done=!0,this._readCapability.resolve()}),x.on("error",m=>{this._error(m)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class b{constructor(x){this._url=x.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const m=x.source;this._isStreamingSupported=!m.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var R;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const x=this._readableStream.read();return x===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=x.length,(R=this.onProgress)==null||R.call(this,{loaded:this._loaded}),{value:new Uint8Array(x).buffer,done:!1})}cancel(x){if(!this._readableStream){this._error(x);return}this._readableStream.destroy(x)}_error(x){this._storedError=x,this._readCapability.resolve()}_setReadableStream(x){this._readableStream=x,x.on("readable",()=>{this._readCapability.resolve()}),x.on("end",()=>{x.destroy(),this._done=!0,this._readCapability.resolve()}),x.on("error",m=>{this._error(m)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function y(F,x){return{protocol:F.protocol,auth:F.auth,host:F.hostname,port:F.port,path:F.path,method:"GET",headers:x}}class w extends S{constructor(x){super(x);const m=R=>{if(R.statusCode===404){const E=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=E,this._headersCapability.reject(E);return}this._headersCapability.resolve(),this._setReadableStream(R);const U=E=>this._readableStream.headers[E.toLowerCase()],{allowRangeRequests:P,suggestedLength:v}=(0,h.validateRangeRequestCapabilities)({getResponseHeader:U,isHttp:x.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=P,this._contentLength=v||this._contentLength,this._filename=(0,h.extractFilenameFromHeader)(U)};if(this._request=null,this._url.protocol==="http:"){const R=require$$5;this._request=R.request(y(this._url,x.httpHeaders),m)}else{const R=require$$5;this._request=R.request(y(this._url,x.httpHeaders),m)}this._request.on("error",R=>{this._storedError=R,this._headersCapability.reject(R)}),this._request.end()}}class j extends b{constructor(x,m,R){super(x),this._httpHeaders={};for(const P in x.httpHeaders){const v=x.httpHeaders[P];v!==void 0&&(this._httpHeaders[P]=v)}this._httpHeaders.Range=`bytes=${m}-${R-1}`;const U=P=>{if(P.statusCode===404){const v=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=v;return}this._setReadableStream(P)};if(this._request=null,this._url.protocol==="http:"){const P=require$$5;this._request=P.request(y(this._url,this._httpHeaders),U)}else{const P=require$$5;this._request=P.request(y(this._url,this._httpHeaders),U)}this._request.on("error",P=>{this._storedError=P}),this._request.end()}}class M extends S{constructor(x){super(x);let m=decodeURIComponent(this._url.path);L.test(this._url.href)&&(m=m.replace(/^\//,""));const R=require$$5;R.lstat(m,(U,P)=>{if(U){U.code==="ENOENT"&&(U=new o.MissingPDFException(`Missing PDF "${m}".`)),this._storedError=U,this._headersCapability.reject(U);return}this._contentLength=P.size,this._setReadableStream(R.createReadStream(m)),this._headersCapability.resolve()})}}class O extends b{constructor(x,m,R){super(x);let U=decodeURIComponent(this._url.path);L.test(this._url.href)&&(U=U.replace(/^\//,""));const P=require$$5;this._setReadableStream(P.createReadStream(U,{start:m,end:R-1}))}}}),((l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var o=u(6),h=u(1);const L={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},D="http://www.w3.org/XML/1998/namespace",V="http://www.w3.org/1999/xlink",S=["butt","round","square"],b=["miter","round","bevel"],y=function(P,v="",E=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!E)return URL.createObjectURL(new Blob([P],{type:v}));const p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let _=`data:${v};base64,`;for(let C=0,Z=P.length;C<Z;C+=3){const A=P[C]&255,z=P[C+1]&255,Q=P[C+2]&255,ut=A>>2,nt=(A&3)<<4|z>>4,B=C+1<Z?(z&15)<<2|Q>>6:64,Y=C+2<Z?Q&63:64;_+=p[ut]+p[nt]+p[B]+p[Y]}return _},w=(function(){const P=new Uint8Array([137,80,78,71,13,10,26,10]),v=12,E=new Int32Array(256);for(let Q=0;Q<256;Q++){let ut=Q;for(let nt=0;nt<8;nt++)ut=ut&1?3988292384^ut>>1&2147483647:ut>>1&2147483647;E[Q]=ut}function p(Q,ut,nt){let B=-1;for(let Y=ut;Y<nt;Y++){const st=(B^Q[Y])&255,X=E[st];B=B>>>8^X}return B^-1}function _(Q,ut,nt,B){let Y=B;const st=ut.length;nt[Y]=st>>24&255,nt[Y+1]=st>>16&255,nt[Y+2]=st>>8&255,nt[Y+3]=st&255,Y+=4,nt[Y]=Q.charCodeAt(0)&255,nt[Y+1]=Q.charCodeAt(1)&255,nt[Y+2]=Q.charCodeAt(2)&255,nt[Y+3]=Q.charCodeAt(3)&255,Y+=4,nt.set(ut,Y),Y+=ut.length;const X=p(nt,B+4,Y);nt[Y]=X>>24&255,nt[Y+1]=X>>16&255,nt[Y+2]=X>>8&255,nt[Y+3]=X&255}function C(Q,ut,nt){let B=1,Y=0;for(let st=ut;st<nt;++st)B=(B+(Q[st]&255))%65521,Y=(Y+B)%65521;return Y<<16|B}function Z(Q){if(!h.isNodeJS)return A(Q);try{const ut=parseInt(process.versions.node)>=8?Q:Buffer.from(Q),nt=require$$5.deflateSync(ut,{level:9});return nt instanceof Uint8Array?nt:new Uint8Array(nt)}catch(ut){(0,h.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ut)}return A(Q)}function A(Q){let ut=Q.length;const nt=65535,B=Math.ceil(ut/nt),Y=new Uint8Array(2+ut+B*5+4);let st=0;Y[st++]=120,Y[st++]=156;let X=0;for(;ut>nt;)Y[st++]=0,Y[st++]=255,Y[st++]=255,Y[st++]=0,Y[st++]=0,Y.set(Q.subarray(X,X+nt),st),st+=nt,X+=nt,ut-=nt;Y[st++]=1,Y[st++]=ut&255,Y[st++]=ut>>8&255,Y[st++]=~ut&65535&255,Y[st++]=(~ut&65535)>>8&255,Y.set(Q.subarray(X),st),st+=Q.length-X;const et=C(Q,0,Q.length);return Y[st++]=et>>24&255,Y[st++]=et>>16&255,Y[st++]=et>>8&255,Y[st++]=et&255,Y}function z(Q,ut,nt,B){const Y=Q.width,st=Q.height;let X,et,k;const T=Q.data;switch(ut){case h.ImageKind.GRAYSCALE_1BPP:et=0,X=1,k=Y+7>>3;break;case h.ImageKind.RGB_24BPP:et=2,X=8,k=Y*3;break;case h.ImageKind.RGBA_32BPP:et=6,X=8,k=Y*4;break;default:throw new Error("invalid format")}const d=new Uint8Array((1+k)*st);let f=0,N=0;for(let Ct=0;Ct<st;++Ct)d[f++]=0,d.set(T.subarray(N,N+k),f),N+=k,f+=k;if(ut===h.ImageKind.GRAYSCALE_1BPP&&B){f=0;for(let Ct=0;Ct<st;Ct++){f++;for(let Et=0;Et<k;Et++)d[f++]^=255}}const q=new Uint8Array([Y>>24&255,Y>>16&255,Y>>8&255,Y&255,st>>24&255,st>>16&255,st>>8&255,st&255,X,et,0,0,0]),K=Z(d),J=P.length+v*3+q.length+K.length,it=new Uint8Array(J);let pt=0;return it.set(P,pt),pt+=P.length,_("IHDR",q,it,pt),pt+=v+q.length,_("IDATA",K,it,pt),pt+=v+K.length,_("IEND",new Uint8Array(0),it,pt),y(it,"image/png",nt)}return function(ut,nt,B){const Y=ut.kind===void 0?h.ImageKind.GRAYSCALE_1BPP:ut.kind;return z(ut,Y,nt,B)}})();class j{constructor(){this.fontSizeScale=1,this.fontWeight=L.fontWeight,this.fontSize=0,this.textMatrix=h.IDENTITY_MATRIX,this.fontMatrix=h.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=h.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=L.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(v,E){this.x=v,this.y=E}}function M(P){let v=[];const E=[];for(const p of P){if(p.fn==="save"){v.push({fnId:92,fn:"group",items:[]}),E.push(v),v=v.at(-1).items;continue}p.fn==="restore"?v=E.pop():v.push(p)}return v}function O(P){if(Number.isInteger(P))return P.toString();const v=P.toFixed(10);let E=v.length-1;if(v[E]!=="0")return v;do E--;while(v[E]==="0");return v.substring(0,v[E]==="."?E:E+1)}function F(P){if(P[4]===0&&P[5]===0){if(P[1]===0&&P[2]===0)return P[0]===1&&P[3]===1?"":`scale(${O(P[0])} ${O(P[3])})`;if(P[0]===P[3]&&P[1]===-P[2]){const v=Math.acos(P[0])*180/Math.PI;return`rotate(${O(v)})`}}else if(P[0]===1&&P[1]===0&&P[2]===0&&P[3]===1)return`translate(${O(P[4])} ${O(P[5])})`;return`matrix(${O(P[0])} ${O(P[1])} ${O(P[2])} ${O(P[3])} ${O(P[4])} ${O(P[5])})`}let x=0,m=0,R=0;class U{constructor(v,E,p=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new j,this.transformMatrix=h.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=v,this.objs=E,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!p,this._operatorIdMapping=[];for(const _ in h.OPS)this._operatorIdMapping[h.OPS[_]]=_}getObject(v,E=null){return typeof v=="string"?v.startsWith("g_")?this.commonObjs.get(v):this.objs.get(v):E}save(){this.transformStack.push(this.transformMatrix);const v=this.current;this.extraStack.push(v),this.current=v.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(v){this.save(),this.executeOpTree(v),this.restore()}loadDependencies(v){const E=v.fnArray,p=v.argsArray;for(let _=0,C=E.length;_<C;_++)if(E[_]===h.OPS.dependency)for(const Z of p[_]){const A=Z.startsWith("g_")?this.commonObjs:this.objs,z=new Promise(Q=>{A.get(Z,Q)});this.current.dependencies.push(z)}return Promise.all(this.current.dependencies)}transform(v,E,p,_,C,Z){const A=[v,E,p,_,C,Z];this.transformMatrix=h.Util.transform(this.transformMatrix,A),this.tgrp=null}getSVG(v,E){this.viewport=E;const p=this._initialize(E);return this.loadDependencies(v).then(()=>(this.transformMatrix=h.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(v)),p))}convertOpList(v){const E=this._operatorIdMapping,p=v.argsArray,_=v.fnArray,C=[];for(let Z=0,A=_.length;Z<A;Z++){const z=_[Z];C.push({fnId:z,fn:E[z],args:p[Z]})}return M(C)}executeOpTree(v){for(const E of v){const p=E.fn,_=E.fnId,C=E.args;switch(_|0){case h.OPS.beginText:this.beginText();break;case h.OPS.dependency:break;case h.OPS.setLeading:this.setLeading(C);break;case h.OPS.setLeadingMoveText:this.setLeadingMoveText(C[0],C[1]);break;case h.OPS.setFont:this.setFont(C);break;case h.OPS.showText:this.showText(C[0]);break;case h.OPS.showSpacedText:this.showText(C[0]);break;case h.OPS.endText:this.endText();break;case h.OPS.moveText:this.moveText(C[0],C[1]);break;case h.OPS.setCharSpacing:this.setCharSpacing(C[0]);break;case h.OPS.setWordSpacing:this.setWordSpacing(C[0]);break;case h.OPS.setHScale:this.setHScale(C[0]);break;case h.OPS.setTextMatrix:this.setTextMatrix(C[0],C[1],C[2],C[3],C[4],C[5]);break;case h.OPS.setTextRise:this.setTextRise(C[0]);break;case h.OPS.setTextRenderingMode:this.setTextRenderingMode(C[0]);break;case h.OPS.setLineWidth:this.setLineWidth(C[0]);break;case h.OPS.setLineJoin:this.setLineJoin(C[0]);break;case h.OPS.setLineCap:this.setLineCap(C[0]);break;case h.OPS.setMiterLimit:this.setMiterLimit(C[0]);break;case h.OPS.setFillRGBColor:this.setFillRGBColor(C[0],C[1],C[2]);break;case h.OPS.setStrokeRGBColor:this.setStrokeRGBColor(C[0],C[1],C[2]);break;case h.OPS.setStrokeColorN:this.setStrokeColorN(C);break;case h.OPS.setFillColorN:this.setFillColorN(C);break;case h.OPS.shadingFill:this.shadingFill(C[0]);break;case h.OPS.setDash:this.setDash(C[0],C[1]);break;case h.OPS.setRenderingIntent:this.setRenderingIntent(C[0]);break;case h.OPS.setFlatness:this.setFlatness(C[0]);break;case h.OPS.setGState:this.setGState(C[0]);break;case h.OPS.fill:this.fill();break;case h.OPS.eoFill:this.eoFill();break;case h.OPS.stroke:this.stroke();break;case h.OPS.fillStroke:this.fillStroke();break;case h.OPS.eoFillStroke:this.eoFillStroke();break;case h.OPS.clip:this.clip("nonzero");break;case h.OPS.eoClip:this.clip("evenodd");break;case h.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case h.OPS.paintImageXObject:this.paintImageXObject(C[0]);break;case h.OPS.paintInlineImageXObject:this.paintInlineImageXObject(C[0]);break;case h.OPS.paintImageMaskXObject:this.paintImageMaskXObject(C[0]);break;case h.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(C[0],C[1]);break;case h.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case h.OPS.closePath:this.closePath();break;case h.OPS.closeStroke:this.closeStroke();break;case h.OPS.closeFillStroke:this.closeFillStroke();break;case h.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case h.OPS.nextLine:this.nextLine();break;case h.OPS.transform:this.transform(C[0],C[1],C[2],C[3],C[4],C[5]);break;case h.OPS.constructPath:this.constructPath(C[0],C[1]);break;case h.OPS.endPath:this.endPath();break;case 92:this.group(E.items);break;default:(0,h.warn)(`Unimplemented operator ${p}`);break}}}setWordSpacing(v){this.current.wordSpacing=v}setCharSpacing(v){this.current.charSpacing=v}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(v,E,p,_,C,Z){const A=this.current;A.textMatrix=A.lineMatrix=[v,E,p,_,C,Z],A.textMatrixScale=Math.hypot(v,E),A.x=A.lineX=0,A.y=A.lineY=0,A.xcoords=[],A.ycoords=[],A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size",`${O(A.fontSize)}px`),A.tspan.setAttributeNS(null,"y",O(-A.y)),A.txtElement=this.svgFactory.createElement("svg:text"),A.txtElement.append(A.tspan)}beginText(){const v=this.current;v.x=v.lineX=0,v.y=v.lineY=0,v.textMatrix=h.IDENTITY_MATRIX,v.lineMatrix=h.IDENTITY_MATRIX,v.textMatrixScale=1,v.tspan=this.svgFactory.createElement("svg:tspan"),v.txtElement=this.svgFactory.createElement("svg:text"),v.txtgrp=this.svgFactory.createElement("svg:g"),v.xcoords=[],v.ycoords=[]}moveText(v,E){const p=this.current;p.x=p.lineX+=v,p.y=p.lineY+=E,p.xcoords=[],p.ycoords=[],p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${O(p.fontSize)}px`),p.tspan.setAttributeNS(null,"y",O(-p.y))}showText(v){const E=this.current,p=E.font,_=E.fontSize;if(_===0)return;const C=E.fontSizeScale,Z=E.charSpacing,A=E.wordSpacing,z=E.fontDirection,Q=E.textHScale*z,ut=p.vertical,nt=ut?1:-1,B=p.defaultVMetrics,Y=_*E.fontMatrix[0];let st=0;for(const k of v){if(k===null){st+=z*A;continue}else if(typeof k=="number"){st+=nt*k*_/1e3;continue}const T=(k.isSpace?A:0)+Z,d=k.fontChar;let f,N,q=k.width;if(ut){let J;const it=k.vmetric||B;J=k.vmetric?it[1]:q*.5,J=-J*Y;const pt=it[2]*Y;q=it?-it[0]:q,f=J/C,N=(st+pt)/C}else f=st/C,N=0;(k.isInFont||p.missingFile)&&(E.xcoords.push(E.x+f),ut&&E.ycoords.push(-E.y+N),E.tspan.textContent+=d);const K=ut?q*Y-T*z:q*Y+T*z;st+=K}E.tspan.setAttributeNS(null,"x",E.xcoords.map(O).join(" ")),ut?E.tspan.setAttributeNS(null,"y",E.ycoords.map(O).join(" ")):E.tspan.setAttributeNS(null,"y",O(-E.y)),ut?E.y-=st:E.x+=st*Q,E.tspan.setAttributeNS(null,"font-family",E.fontFamily),E.tspan.setAttributeNS(null,"font-size",`${O(E.fontSize)}px`),E.fontStyle!==L.fontStyle&&E.tspan.setAttributeNS(null,"font-style",E.fontStyle),E.fontWeight!==L.fontWeight&&E.tspan.setAttributeNS(null,"font-weight",E.fontWeight);const X=E.textRenderingMode&h.TextRenderingMode.FILL_STROKE_MASK;if(X===h.TextRenderingMode.FILL||X===h.TextRenderingMode.FILL_STROKE?(E.fillColor!==L.fillColor&&E.tspan.setAttributeNS(null,"fill",E.fillColor),E.fillAlpha<1&&E.tspan.setAttributeNS(null,"fill-opacity",E.fillAlpha)):E.textRenderingMode===h.TextRenderingMode.ADD_TO_PATH?E.tspan.setAttributeNS(null,"fill","transparent"):E.tspan.setAttributeNS(null,"fill","none"),X===h.TextRenderingMode.STROKE||X===h.TextRenderingMode.FILL_STROKE){const k=1/(E.textMatrixScale||1);this._setStrokeAttributes(E.tspan,k)}let et=E.textMatrix;E.textRise!==0&&(et=et.slice(),et[5]+=E.textRise),E.txtElement.setAttributeNS(null,"transform",`${F(et)} scale(${O(Q)}, -1)`),E.txtElement.setAttributeNS(D,"xml:space","preserve"),E.txtElement.append(E.tspan),E.txtgrp.append(E.txtElement),this._ensureTransformGroup().append(E.txtElement)}setLeadingMoveText(v,E){this.setLeading(-E),this.moveText(v,E)}addFontStyle(v){if(!v.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const E=y(v.data,v.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${v.loadedName}"; src: url(${E}); }
`}setFont(v){const E=this.current,p=this.commonObjs.get(v[0]);let _=v[1];E.font=p,this.embedFonts&&!p.missingFile&&!this.embeddedFonts[p.loadedName]&&(this.addFontStyle(p),this.embeddedFonts[p.loadedName]=p),E.fontMatrix=p.fontMatrix||h.FONT_IDENTITY_MATRIX;let C="normal";p.black?C="900":p.bold&&(C="bold");const Z=p.italic?"italic":"normal";_<0?(_=-_,E.fontDirection=-1):E.fontDirection=1,E.fontSize=_,E.fontFamily=p.loadedName,E.fontWeight=C,E.fontStyle=Z,E.tspan=this.svgFactory.createElement("svg:tspan"),E.tspan.setAttributeNS(null,"y",O(-E.y)),E.xcoords=[],E.ycoords=[]}endText(){var E;const v=this.current;v.textRenderingMode&h.TextRenderingMode.ADD_TO_PATH_FLAG&&((E=v.txtElement)!=null&&E.hasChildNodes())&&(v.element=v.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(v){v>0&&(this.current.lineWidth=v)}setLineCap(v){this.current.lineCap=S[v]}setLineJoin(v){this.current.lineJoin=b[v]}setMiterLimit(v){this.current.miterLimit=v}setStrokeAlpha(v){this.current.strokeAlpha=v}setStrokeRGBColor(v,E,p){this.current.strokeColor=h.Util.makeHexColor(v,E,p)}setFillAlpha(v){this.current.fillAlpha=v}setFillRGBColor(v,E,p){this.current.fillColor=h.Util.makeHexColor(v,E,p),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(v){this.current.strokeColor=this._makeColorN_Pattern(v)}setFillColorN(v){this.current.fillColor=this._makeColorN_Pattern(v)}shadingFill(v){const{width:E,height:p}=this.viewport,_=h.Util.inverseTransform(this.transformMatrix),[C,Z,A,z]=h.Util.getAxialAlignedBoundingBox([0,0,E,p],_),Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x",C),Q.setAttributeNS(null,"y",Z),Q.setAttributeNS(null,"width",A-C),Q.setAttributeNS(null,"height",z-Z),Q.setAttributeNS(null,"fill",this._makeShadingPattern(v)),this.current.fillAlpha<1&&Q.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Q)}_makeColorN_Pattern(v){return v[0]==="TilingPattern"?this._makeTilingPattern(v):this._makeShadingPattern(v)}_makeTilingPattern(v){const E=v[1],p=v[2],_=v[3]||h.IDENTITY_MATRIX,[C,Z,A,z]=v[4],Q=v[5],ut=v[6],nt=v[7],B=`shading${R++}`,[Y,st,X,et]=h.Util.normalizeRect([...h.Util.applyTransform([C,Z],_),...h.Util.applyTransform([A,z],_)]),[k,T]=h.Util.singularValueDecompose2dScale(_),d=Q*k,f=ut*T,N=this.svgFactory.createElement("svg:pattern");N.setAttributeNS(null,"id",B),N.setAttributeNS(null,"patternUnits","userSpaceOnUse"),N.setAttributeNS(null,"width",d),N.setAttributeNS(null,"height",f),N.setAttributeNS(null,"x",`${Y}`),N.setAttributeNS(null,"y",`${st}`);const q=this.svg,K=this.transformMatrix,J=this.current.fillColor,it=this.current.strokeColor,pt=this.svgFactory.create(X-Y,et-st);if(this.svg=pt,this.transformMatrix=_,nt===2){const Ct=h.Util.makeHexColor(...E);this.current.fillColor=Ct,this.current.strokeColor=Ct}return this.executeOpTree(this.convertOpList(p)),this.svg=q,this.transformMatrix=K,this.current.fillColor=J,this.current.strokeColor=it,N.append(pt.childNodes[0]),this.defs.append(N),`url(#${B})`}_makeShadingPattern(v){switch(typeof v=="string"&&(v=this.objs.get(v)),v[0]){case"RadialAxial":const E=`shading${R++}`,p=v[3];let _;switch(v[1]){case"axial":const C=v[4],Z=v[5];_=this.svgFactory.createElement("svg:linearGradient"),_.setAttributeNS(null,"id",E),_.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),_.setAttributeNS(null,"x1",C[0]),_.setAttributeNS(null,"y1",C[1]),_.setAttributeNS(null,"x2",Z[0]),_.setAttributeNS(null,"y2",Z[1]);break;case"radial":const A=v[4],z=v[5],Q=v[6],ut=v[7];_=this.svgFactory.createElement("svg:radialGradient"),_.setAttributeNS(null,"id",E),_.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),_.setAttributeNS(null,"cx",z[0]),_.setAttributeNS(null,"cy",z[1]),_.setAttributeNS(null,"r",ut),_.setAttributeNS(null,"fx",A[0]),_.setAttributeNS(null,"fy",A[1]),_.setAttributeNS(null,"fr",Q);break;default:throw new Error(`Unknown RadialAxial type: ${v[1]}`)}for(const C of p){const Z=this.svgFactory.createElement("svg:stop");Z.setAttributeNS(null,"offset",C[0]),Z.setAttributeNS(null,"stop-color",C[1]),_.append(Z)}return this.defs.append(_),`url(#${E})`;case"Mesh":return(0,h.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${v[0]}`)}}setDash(v,E){this.current.dashArray=v,this.current.dashPhase=E}constructPath(v,E){const p=this.current;let _=p.x,C=p.y,Z=[],A=0;for(const z of v)switch(z|0){case h.OPS.rectangle:_=E[A++],C=E[A++];const Q=E[A++],ut=E[A++],nt=_+Q,B=C+ut;Z.push("M",O(_),O(C),"L",O(nt),O(C),"L",O(nt),O(B),"L",O(_),O(B),"Z");break;case h.OPS.moveTo:_=E[A++],C=E[A++],Z.push("M",O(_),O(C));break;case h.OPS.lineTo:_=E[A++],C=E[A++],Z.push("L",O(_),O(C));break;case h.OPS.curveTo:_=E[A+4],C=E[A+5],Z.push("C",O(E[A]),O(E[A+1]),O(E[A+2]),O(E[A+3]),O(_),O(C)),A+=6;break;case h.OPS.curveTo2:Z.push("C",O(_),O(C),O(E[A]),O(E[A+1]),O(E[A+2]),O(E[A+3])),_=E[A+2],C=E[A+3],A+=4;break;case h.OPS.curveTo3:_=E[A+2],C=E[A+3],Z.push("C",O(E[A]),O(E[A+1]),O(_),O(C),O(_),O(C)),A+=4;break;case h.OPS.closePath:Z.push("Z");break}Z=Z.join(" "),p.path&&v.length>0&&v[0]!==h.OPS.rectangle&&v[0]!==h.OPS.moveTo?Z=p.path.getAttributeNS(null,"d")+Z:(p.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(p.path)),p.path.setAttributeNS(null,"d",Z),p.path.setAttributeNS(null,"fill","none"),p.element=p.path,p.setCurrentPoint(_,C)}endPath(){const v=this.current;if(v.path=null,!this.pendingClip)return;if(!v.element){this.pendingClip=null;return}const E=`clippath${x++}`,p=this.svgFactory.createElement("svg:clipPath");p.setAttributeNS(null,"id",E),p.setAttributeNS(null,"transform",F(this.transformMatrix));const _=v.element.cloneNode(!0);if(this.pendingClip==="evenodd"?_.setAttributeNS(null,"clip-rule","evenodd"):_.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,p.append(_),this.defs.append(p),v.activeClipUrl){v.clipGroup=null;for(const C of this.extraStack)C.clipGroup=null;p.setAttributeNS(null,"clip-path",v.activeClipUrl)}v.activeClipUrl=`url(#${E})`,this.tgrp=null}clip(v){this.pendingClip=v}closePath(){const v=this.current;if(v.path){const E=`${v.path.getAttributeNS(null,"d")}Z`;v.path.setAttributeNS(null,"d",E)}}setLeading(v){this.current.leading=-v}setTextRise(v){this.current.textRise=v}setTextRenderingMode(v){this.current.textRenderingMode=v}setHScale(v){this.current.textHScale=v/100}setRenderingIntent(v){}setFlatness(v){}setGState(v){for(const[E,p]of v)switch(E){case"LW":this.setLineWidth(p);break;case"LC":this.setLineCap(p);break;case"LJ":this.setLineJoin(p);break;case"ML":this.setMiterLimit(p);break;case"D":this.setDash(p[0],p[1]);break;case"RI":this.setRenderingIntent(p);break;case"FL":this.setFlatness(p);break;case"Font":this.setFont(p);break;case"CA":this.setStrokeAlpha(p);break;case"ca":this.setFillAlpha(p);break;default:(0,h.warn)(`Unimplemented graphic state operator ${E}`);break}}fill(){const v=this.current;v.element&&(v.element.setAttributeNS(null,"fill",v.fillColor),v.element.setAttributeNS(null,"fill-opacity",v.fillAlpha),this.endPath())}stroke(){const v=this.current;v.element&&(this._setStrokeAttributes(v.element),v.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(v,E=1){const p=this.current;let _=p.dashArray;E!==1&&_.length>0&&(_=_.map(function(C){return E*C})),v.setAttributeNS(null,"stroke",p.strokeColor),v.setAttributeNS(null,"stroke-opacity",p.strokeAlpha),v.setAttributeNS(null,"stroke-miterlimit",O(p.miterLimit)),v.setAttributeNS(null,"stroke-linecap",p.lineCap),v.setAttributeNS(null,"stroke-linejoin",p.lineJoin),v.setAttributeNS(null,"stroke-width",O(E*p.lineWidth)+"px"),v.setAttributeNS(null,"stroke-dasharray",_.map(O).join(" ")),v.setAttributeNS(null,"stroke-dashoffset",O(E*p.dashPhase)+"px")}eoFill(){var v;(v=this.current.element)==null||v.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var v;(v=this.current.element)==null||v.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x","0"),v.setAttributeNS(null,"y","0"),v.setAttributeNS(null,"width","1px"),v.setAttributeNS(null,"height","1px"),v.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(v)}paintImageXObject(v){const E=this.getObject(v);if(!E){(0,h.warn)(`Dependent image with object ID ${v} is not ready yet`);return}this.paintInlineImageXObject(E)}paintInlineImageXObject(v,E){const p=v.width,_=v.height,C=w(v,this.forceDataSchema,!!E),Z=this.svgFactory.createElement("svg:rect");Z.setAttributeNS(null,"x","0"),Z.setAttributeNS(null,"y","0"),Z.setAttributeNS(null,"width",O(p)),Z.setAttributeNS(null,"height",O(_)),this.current.element=Z,this.clip("nonzero");const A=this.svgFactory.createElement("svg:image");A.setAttributeNS(V,"xlink:href",C),A.setAttributeNS(null,"x","0"),A.setAttributeNS(null,"y",O(-_)),A.setAttributeNS(null,"width",O(p)+"px"),A.setAttributeNS(null,"height",O(_)+"px"),A.setAttributeNS(null,"transform",`scale(${O(1/p)} ${O(-1/_)})`),E?E.append(A):this._ensureTransformGroup().append(A)}paintImageMaskXObject(v){const E=this.getObject(v.data,v);if(E.bitmap){(0,h.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const p=this.current,_=E.width,C=E.height,Z=p.fillColor;p.maskId=`mask${m++}`;const A=this.svgFactory.createElement("svg:mask");A.setAttributeNS(null,"id",p.maskId);const z=this.svgFactory.createElement("svg:rect");z.setAttributeNS(null,"x","0"),z.setAttributeNS(null,"y","0"),z.setAttributeNS(null,"width",O(_)),z.setAttributeNS(null,"height",O(C)),z.setAttributeNS(null,"fill",Z),z.setAttributeNS(null,"mask",`url(#${p.maskId})`),this.defs.append(A),this._ensureTransformGroup().append(z),this.paintInlineImageXObject(E,A)}paintFormXObjectBegin(v,E){if(Array.isArray(v)&&v.length===6&&this.transform(v[0],v[1],v[2],v[3],v[4],v[5]),E){const p=E[2]-E[0],_=E[3]-E[1],C=this.svgFactory.createElement("svg:rect");C.setAttributeNS(null,"x",E[0]),C.setAttributeNS(null,"y",E[1]),C.setAttributeNS(null,"width",O(p)),C.setAttributeNS(null,"height",O(_)),this.current.element=C,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(v){const E=this.svgFactory.create(v.width,v.height),p=this.svgFactory.createElement("svg:defs");E.append(p),this.defs=p;const _=this.svgFactory.createElement("svg:g");return _.setAttributeNS(null,"transform",F(v.transform)),E.append(_),this.svg=_,E}_ensureClipGroup(){if(!this.current.clipGroup){const v=this.svgFactory.createElement("svg:g");v.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(v),this.current.clipGroup=v}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",F(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}s.SVGGraphics=U}),((l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class u{static textContent(h){const L=[],D={items:L,styles:Object.create(null)};function V(S){var w;if(!S)return;let b=null;const y=S.name;if(y==="#text")b=S.value;else if(u.shouldBuildText(y))(w=S==null?void 0:S.attributes)!=null&&w.textContent?b=S.attributes.textContent:S.value&&(b=S.value);else return;if(b!==null&&L.push({str:b}),!!S.children)for(const j of S.children)V(j)}return V(h),D}static shouldBuildText(h){return!(h==="textarea"||h==="input"||h==="option"||h==="select")}}s.XfaText=u}),((l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=F,s.updateTextLayer=x;var o=u(1),h=u(6);const L=1e5,D=30,V=.8,S=new Map;function b(m,R){let U;if(R&&o.FeatureTest.isOffscreenCanvasSupported)U=new OffscreenCanvas(m,m).getContext("2d",{alpha:!1});else{const P=document.createElement("canvas");P.width=P.height=m,U=P.getContext("2d",{alpha:!1})}return U}function y(m,R){const U=S.get(m);if(U)return U;const P=b(D,R);P.font=`${D}px ${m}`;const v=P.measureText("");let E=v.fontBoundingBoxAscent,p=Math.abs(v.fontBoundingBoxDescent);if(E){const C=E/(E+p);return S.set(m,C),P.canvas.width=P.canvas.height=0,C}P.strokeStyle="red",P.clearRect(0,0,D,D),P.strokeText("g",0,0);let _=P.getImageData(0,0,D,D).data;p=0;for(let C=_.length-1-3;C>=0;C-=4)if(_[C]>0){p=Math.ceil(C/4/D);break}P.clearRect(0,0,D,D),P.strokeText("A",0,D),_=P.getImageData(0,0,D,D).data,E=0;for(let C=0,Z=_.length;C<Z;C+=4)if(_[C]>0){E=D-Math.floor(C/4/D);break}if(P.canvas.width=P.canvas.height=0,E){const C=E/(E+p);return S.set(m,C),C}return S.set(m,V),V}function w(m,R,U){const P=document.createElement("span"),v={angle:0,canvasWidth:0,hasText:R.str!=="",hasEOL:R.hasEOL,fontSize:0};m._textDivs.push(P);const E=o.Util.transform(m._transform,R.transform);let p=Math.atan2(E[1],E[0]);const _=U[R.fontName];_.vertical&&(p+=Math.PI/2);const C=Math.hypot(E[2],E[3]),Z=C*y(_.fontFamily,m._isOffscreenCanvasSupported);let A,z;p===0?(A=E[4],z=E[5]-Z):(A=E[4]+Z*Math.sin(p),z=E[5]-Z*Math.cos(p));const Q="calc(var(--scale-factor)*",ut=P.style;m._container===m._rootContainer?(ut.left=`${(100*A/m._pageWidth).toFixed(2)}%`,ut.top=`${(100*z/m._pageHeight).toFixed(2)}%`):(ut.left=`${Q}${A.toFixed(2)}px)`,ut.top=`${Q}${z.toFixed(2)}px)`),ut.fontSize=`${Q}${C.toFixed(2)}px)`,ut.fontFamily=_.fontFamily,v.fontSize=C,P.setAttribute("role","presentation"),P.textContent=R.str,P.dir=R.dir,m._fontInspectorEnabled&&(P.dataset.fontName=R.fontName),p!==0&&(v.angle=p*(180/Math.PI));let nt=!1;if(R.str.length>1)nt=!0;else if(R.str!==" "&&R.transform[0]!==R.transform[3]){const B=Math.abs(R.transform[0]),Y=Math.abs(R.transform[3]);B!==Y&&Math.max(B,Y)/Math.min(B,Y)>1.5&&(nt=!0)}nt&&(v.canvasWidth=_.vertical?R.height:R.width),m._textDivProperties.set(P,v),m._isReadableStream&&m._layoutText(P)}function j(m){const{div:R,scale:U,properties:P,ctx:v,prevFontSize:E,prevFontFamily:p}=m,{style:_}=R;let C="";if(P.canvasWidth!==0&&P.hasText){const{fontFamily:Z}=_,{canvasWidth:A,fontSize:z}=P;(E!==z||p!==Z)&&(v.font=`${z*U}px ${Z}`,m.prevFontSize=z,m.prevFontFamily=Z);const{width:Q}=v.measureText(R.textContent);Q>0&&(C=`scaleX(${A*U/Q})`)}P.angle!==0&&(C=`rotate(${P.angle}deg) ${C}`),C.length>0&&(_.transform=C)}function M(m){if(m._canceled)return;const R=m._textDivs,U=m._capability;if(R.length>L){U.resolve();return}if(!m._isReadableStream)for(const v of R)m._layoutText(v);U.resolve()}class O{constructor({textContentSource:R,container:U,viewport:P,textDivs:v,textDivProperties:E,textContentItemsStr:p,isOffscreenCanvasSupported:_}){var Q;this._textContentSource=R,this._isReadableStream=R instanceof ReadableStream,this._container=this._rootContainer=U,this._textDivs=v||[],this._textContentItemsStr=p||[],this._isOffscreenCanvasSupported=_,this._fontInspectorEnabled=!!((Q=globalThis.FontInspector)!=null&&Q.enabled),this._reader=null,this._textDivProperties=E||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:P.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:b(0,_)};const{pageWidth:C,pageHeight:Z,pageX:A,pageY:z}=P.rawDims;this._transform=[1,0,0,-1,-A,z+Z],this._pageWidth=C,this._pageHeight=Z,(0,h.setLayerDimensions)(U,P),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(R,U){for(const P of R){if(P.str===void 0){if(P.type==="beginMarkedContentProps"||P.type==="beginMarkedContent"){const v=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),P.id!==null&&this._container.setAttribute("id",`${P.id}`),v.append(this._container)}else P.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(P.str),w(this,P,U)}}_layoutText(R){const U=this._layoutTextParams.properties=this._textDivProperties.get(R);if(this._layoutTextParams.div=R,j(this._layoutTextParams),U.hasText&&this._container.append(R),U.hasEOL){const P=document.createElement("br");P.setAttribute("role","presentation"),this._container.append(P)}}_render(){const R=new o.PromiseCapability;let U=Object.create(null);if(this._isReadableStream){const P=()=>{this._reader.read().then(({value:v,done:E})=>{if(E){R.resolve();return}Object.assign(U,v.styles),this._processItems(v.items,U),P()},R.reject)};this._reader=this._textContentSource.getReader(),P()}else if(this._textContentSource){const{items:P,styles:v}=this._textContentSource;this._processItems(P,v),R.resolve()}else throw new Error('No "textContentSource" parameter specified.');R.promise.then(()=>{U=null,M(this)},this._capability.reject)}}s.TextLayerRenderTask=O;function F(m){!m.textContentSource&&(m.textContent||m.textContentStream)&&((0,h.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),m.textContentSource=m.textContent||m.textContentStream);const{container:R,viewport:U}=m,P=getComputedStyle(R),v=P.getPropertyValue("visibility"),E=parseFloat(P.getPropertyValue("--scale-factor"));v==="visible"&&(!E||Math.abs(E-U.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const p=new O(m);return p._render(),p}function x({container:m,viewport:R,textDivs:U,textDivProperties:P,isOffscreenCanvasSupported:v,mustRotate:E=!0,mustRescale:p=!0}){if(E&&(0,h.setLayerDimensions)(m,{rotation:R.rotation}),p){const _=b(0,v),Z={prevFontSize:null,prevFontFamily:null,div:null,scale:R.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:_};for(const A of U)Z.properties=P.get(A),Z.div=A,j(Z)}}}),((l,s,u)=>{var y,w,j,M,O,F,x,m,R,U,P,Ec,Xr,Cc,Tc;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var o=u(1),h=u(4),L=u(28),D=u(33),V=u(6),S=u(34);const C=class C{constructor({uiManager:A,pageIndex:z,div:Q,accessibilityManager:ut,annotationLayer:nt,viewport:B,l10n:Y}){yt(this,P);yt(this,y);yt(this,w,!1);yt(this,j,null);yt(this,M,this.pointerup.bind(this));yt(this,O,this.pointerdown.bind(this));yt(this,F,new Map);yt(this,x,!1);yt(this,m,!1);yt(this,R,!1);yt(this,U);const st=[L.FreeTextEditor,D.InkEditor,S.StampEditor];if(!C._initialized){C._initialized=!0;for(const X of st)X.initialize(Y)}A.registerEditorTypes(st),At(this,U,A),this.pageIndex=z,this.div=Q,At(this,y,ut),At(this,j,nt),this.viewport=B,c(this,U).addLayer(this)}get isEmpty(){return c(this,F).size===0}updateToolbar(A){c(this,U).updateToolbar(A)}updateMode(A=c(this,U).getMode()){lt(this,P,Tc).call(this),A===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),A!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",A===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",A===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",A===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(A){if(!A&&c(this,U).getMode()!==o.AnnotationEditorType.INK)return;if(!A){for(const Q of c(this,F).values())if(Q.isEmpty()){Q.setInBackground();return}}lt(this,P,Xr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(A){c(this,U).setEditingState(A)}addCommands(A){c(this,U).addCommands(A)}enable(){this.div.style.pointerEvents="auto";const A=new Set;for(const Q of c(this,F).values())Q.enableEditing(),Q.annotationElementId&&A.add(Q.annotationElementId);if(!c(this,j))return;const z=c(this,j).getEditableAnnotations();for(const Q of z){if(Q.hide(),c(this,U).isDeletedAnnotationElement(Q.data.id)||A.has(Q.data.id))continue;const ut=this.deserialize(Q);ut&&(this.addOrRebuild(ut),ut.enableEditing())}}disable(){var z;At(this,R,!0),this.div.style.pointerEvents="none";const A=new Set;for(const Q of c(this,F).values()){if(Q.disableEditing(),!Q.annotationElementId||Q.serialize()!==null){A.add(Q.annotationElementId);continue}(z=this.getEditableAnnotation(Q.annotationElementId))==null||z.show(),Q.remove()}if(c(this,j)){const Q=c(this,j).getEditableAnnotations();for(const ut of Q){const{id:nt}=ut.data;A.has(nt)||c(this,U).isDeletedAnnotationElement(nt)||ut.show()}}lt(this,P,Tc).call(this),this.isEmpty&&(this.div.hidden=!0),At(this,R,!1)}getEditableAnnotation(A){var z;return((z=c(this,j))==null?void 0:z.getEditableAnnotation(A))||null}setActiveEditor(A){c(this,U).getActive()!==A&&c(this,U).setActiveEditor(A)}enableClick(){this.div.addEventListener("pointerdown",c(this,O)),this.div.addEventListener("pointerup",c(this,M))}disableClick(){this.div.removeEventListener("pointerdown",c(this,O)),this.div.removeEventListener("pointerup",c(this,M))}attach(A){c(this,F).set(A.id,A);const{annotationElementId:z}=A;z&&c(this,U).isDeletedAnnotationElement(z)&&c(this,U).removeDeletedAnnotationElement(A)}detach(A){var z;c(this,F).delete(A.id),(z=c(this,y))==null||z.removePointerInTextLayer(A.contentDiv),!c(this,R)&&A.annotationElementId&&c(this,U).addDeletedAnnotationElement(A)}remove(A){this.detach(A),c(this,U).removeEditor(A),A.div.contains(document.activeElement)&&setTimeout(()=>{c(this,U).focusMainContainer()},0),A.div.remove(),A.isAttachedToDOM=!1,c(this,m)||this.addInkEditorIfNeeded(!1)}changeParent(A){var z;A.parent!==this&&(A.annotationElementId&&(c(this,U).addDeletedAnnotationElement(A.annotationElementId),h.AnnotationEditor.deleteAnnotationElement(A),A.annotationElementId=null),this.attach(A),(z=A.parent)==null||z.detach(A),A.setParent(this),A.div&&A.isAttachedToDOM&&(A.div.remove(),this.div.append(A.div)))}add(A){if(this.changeParent(A),c(this,U).addEditor(A),this.attach(A),!A.isAttachedToDOM){const z=A.render();this.div.append(z),A.isAttachedToDOM=!0}A.fixAndSetPosition(),A.onceAdded(),c(this,U).addToAnnotationStorage(A)}moveEditorInDOM(A){var Q;if(!A.isAttachedToDOM)return;const{activeElement:z}=document;A.div.contains(z)&&(A._focusEventsAllowed=!1,setTimeout(()=>{A.div.contains(document.activeElement)?A._focusEventsAllowed=!0:(A.div.addEventListener("focusin",()=>{A._focusEventsAllowed=!0},{once:!0}),z.focus())},0)),A._structTreeParentId=(Q=c(this,y))==null?void 0:Q.moveElementInDOM(this.div,A.div,A.contentDiv,!0)}addOrRebuild(A){A.needsToBeRebuilt()?A.rebuild():this.add(A)}addUndoableEditor(A){const z=()=>A._uiManager.rebuild(A),Q=()=>{A.remove()};this.addCommands({cmd:z,undo:Q,mustExec:!1})}getNextId(){return c(this,U).getId()}pasteEditor(A,z){c(this,U).updateToolbar(A),c(this,U).updateMode(A);const{offsetX:Q,offsetY:ut}=lt(this,P,Cc).call(this),nt=this.getNextId(),B=lt(this,P,Ec).call(this,{parent:this,id:nt,x:Q,y:ut,uiManager:c(this,U),isCentered:!0,...z});B&&this.add(B)}deserialize(A){switch(A.annotationType??A.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return L.FreeTextEditor.deserialize(A,this,c(this,U));case o.AnnotationEditorType.INK:return D.InkEditor.deserialize(A,this,c(this,U));case o.AnnotationEditorType.STAMP:return S.StampEditor.deserialize(A,this,c(this,U))}return null}addNewEditor(){lt(this,P,Xr).call(this,lt(this,P,Cc).call(this),!0)}setSelected(A){c(this,U).setSelected(A)}toggleSelected(A){c(this,U).toggleSelected(A)}isSelected(A){return c(this,U).isSelected(A)}unselect(A){c(this,U).unselect(A)}pointerup(A){const{isMac:z}=o.FeatureTest.platform;if(!(A.button!==0||A.ctrlKey&&z)&&A.target===this.div&&c(this,x)){if(At(this,x,!1),!c(this,w)){At(this,w,!0);return}if(c(this,U).getMode()===o.AnnotationEditorType.STAMP){c(this,U).unselectAll();return}lt(this,P,Xr).call(this,A,!1)}}pointerdown(A){if(c(this,x)){At(this,x,!1);return}const{isMac:z}=o.FeatureTest.platform;if(A.button!==0||A.ctrlKey&&z||A.target!==this.div)return;At(this,x,!0);const Q=c(this,U).getActive();At(this,w,!Q||Q.isEmpty())}findNewParent(A,z,Q){const ut=c(this,U).findParent(z,Q);return ut===null||ut===this?!1:(ut.changeParent(A),!0)}destroy(){var A,z;((A=c(this,U).getActive())==null?void 0:A.parent)===this&&(c(this,U).commitOrRemove(),c(this,U).setActiveEditor(null));for(const Q of c(this,F).values())(z=c(this,y))==null||z.removePointerInTextLayer(Q.contentDiv),Q.setParent(null),Q.isAttachedToDOM=!1,Q.div.remove();this.div=null,c(this,F).clear(),c(this,U).removeLayer(this)}render({viewport:A}){this.viewport=A,(0,V.setLayerDimensions)(this.div,A);for(const z of c(this,U).getEditors(this.pageIndex))this.add(z);this.updateMode()}update({viewport:A}){c(this,U).commitOrRemove(),this.viewport=A,(0,V.setLayerDimensions)(this.div,{rotation:A.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:A,pageHeight:z}=this.viewport.rawDims;return[A,z]}};y=new WeakMap,w=new WeakMap,j=new WeakMap,M=new WeakMap,O=new WeakMap,F=new WeakMap,x=new WeakMap,m=new WeakMap,R=new WeakMap,U=new WeakMap,P=new WeakSet,Ec=function(A){switch(c(this,U).getMode()){case o.AnnotationEditorType.FREETEXT:return new L.FreeTextEditor(A);case o.AnnotationEditorType.INK:return new D.InkEditor(A);case o.AnnotationEditorType.STAMP:return new S.StampEditor(A)}return null},Xr=function(A,z){const Q=this.getNextId(),ut=lt(this,P,Ec).call(this,{parent:this,id:Q,x:A.offsetX,y:A.offsetY,uiManager:c(this,U),isCentered:z});return ut&&this.add(ut),ut},Cc=function(){const{x:A,y:z,width:Q,height:ut}=this.div.getBoundingClientRect(),nt=Math.max(0,A),B=Math.max(0,z),Y=Math.min(window.innerWidth,A+Q),st=Math.min(window.innerHeight,z+ut),X=(nt+Y)/2-A,et=(B+st)/2-z,[k,T]=this.viewport.rotation%180===0?[X,et]:[et,X];return{offsetX:k,offsetY:T}},Tc=function(){At(this,m,!0);for(const A of c(this,F).values())A.isEmpty()&&A.remove();At(this,m,!1)},De(C,"_initialized",!1);let b=C;s.AnnotationEditorLayer=b}),((l,s,u)=>{var S,b,y,w,j,M,O,F,x,m,qf,Xf,Gf,xs,Rc,Yf,wc;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var o=u(1),h=u(5),L=u(4),D=u(29);const C=class C extends L.AnnotationEditor{constructor(z){super({...z,name:"freeTextEditor"});yt(this,m);yt(this,S,this.editorDivBlur.bind(this));yt(this,b,this.editorDivFocus.bind(this));yt(this,y,this.editorDivInput.bind(this));yt(this,w,this.editorDivKeydown.bind(this));yt(this,j);yt(this,M,"");yt(this,O,`${this.id}-editor`);yt(this,F);yt(this,x,null);At(this,j,z.color||C._defaultColor||L.AnnotationEditor._defaultLineColor),At(this,F,z.fontSize||C._defaultFontSize)}static get _keyboardManager(){const z=C.prototype,Q=B=>B.isEmpty(),ut=h.AnnotationEditorUIManager.TRANSLATE_SMALL,nt=h.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new h.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],z.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],z.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],z._translateEmpty,{args:[-ut,0],checker:Q}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],z._translateEmpty,{args:[-nt,0],checker:Q}],[["ArrowRight","mac+ArrowRight"],z._translateEmpty,{args:[ut,0],checker:Q}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],z._translateEmpty,{args:[nt,0],checker:Q}],[["ArrowUp","mac+ArrowUp"],z._translateEmpty,{args:[0,-ut],checker:Q}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],z._translateEmpty,{args:[0,-nt],checker:Q}],[["ArrowDown","mac+ArrowDown"],z._translateEmpty,{args:[0,ut],checker:Q}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],z._translateEmpty,{args:[0,nt],checker:Q}]]))}static initialize(z){L.AnnotationEditor.initialize(z,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Q=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Q.getPropertyValue("--freetext-padding"))}static updateDefaultParams(z,Q){switch(z){case o.AnnotationEditorParamsType.FREETEXT_SIZE:C._defaultFontSize=Q;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:C._defaultColor=Q;break}}updateParams(z,Q){switch(z){case o.AnnotationEditorParamsType.FREETEXT_SIZE:lt(this,m,qf).call(this,Q);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:lt(this,m,Xf).call(this,Q);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,C._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,C._defaultColor||L.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,c(this,F)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,c(this,j)]]}_translateEmpty(z,Q){this._uiManager.translateSelectedEditors(z,Q,!0)}getInitialTranslation(){const z=this.parentScale;return[-C._internalPadding*z,-(C._internalPadding+c(this,F))*z]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",c(this,w)),this.editorDiv.addEventListener("focus",c(this,b)),this.editorDiv.addEventListener("blur",c(this,S)),this.editorDiv.addEventListener("input",c(this,y)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,O)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",c(this,w)),this.editorDiv.removeEventListener("focus",c(this,b)),this.editorDiv.removeEventListener("blur",c(this,S)),this.editorDiv.removeEventListener("input",c(this,y)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(z){this._focusEventsAllowed&&(super.focusin(z),z.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var z;if(this.width){lt(this,m,wc).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(z=this._initialOptions)!=null&&z.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const z=c(this,M),Q=At(this,M,lt(this,m,Gf).call(this).trimEnd());if(z===Q)return;const ut=nt=>{if(At(this,M,nt),!nt){this.remove();return}lt(this,m,Rc).call(this),this._uiManager.rebuild(this),lt(this,m,xs).call(this)};this.addCommands({cmd:()=>{ut(Q)},undo:()=>{ut(z)},mustExec:!1}),lt(this,m,xs).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(z){this.enterInEditMode()}keydown(z){z.target===this.div&&z.key==="Enter"&&(this.enterInEditMode(),z.preventDefault())}editorDivKeydown(z){C._keyboardManager.exec(this,z)}editorDivFocus(z){this.isEditing=!0}editorDivBlur(z){this.isEditing=!1}editorDivInput(z){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let z,Q;this.width&&(z=this.x,Q=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,O)),this.enableEditing(),L.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(nt=>{var B;return(B=this.editorDiv)==null?void 0:B.setAttribute("aria-label",nt)}),L.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(nt=>{var B;return(B=this.editorDiv)==null?void 0:B.setAttribute("default-content",nt)}),this.editorDiv.contentEditable=!0;const{style:ut}=this.editorDiv;if(ut.fontSize=`calc(${c(this,F)}px * var(--scale-factor))`,ut.color=c(this,j),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,h.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[nt,B]=this.parentDimensions;if(this.annotationElementId){const{position:Y}=c(this,x);let[st,X]=this.getInitialTranslation();[st,X]=this.pageTranslationToScreen(st,X);const[et,k]=this.pageDimensions,[T,d]=this.pageTranslation;let f,N;switch(this.rotation){case 0:f=z+(Y[0]-T)/et,N=Q+this.height-(Y[1]-d)/k;break;case 90:f=z+(Y[0]-T)/et,N=Q-(Y[1]-d)/k,[st,X]=[X,-st];break;case 180:f=z-this.width+(Y[0]-T)/et,N=Q-(Y[1]-d)/k,[st,X]=[-st,-X];break;case 270:f=z+(Y[0]-T-this.height*k)/et,N=Q+(Y[1]-d-this.width*et)/k,[st,X]=[-X,st];break}this.setAt(f*nt,N*B,st,X)}else this.setAt(z*nt,Q*B,this.width*nt,this.height*B);lt(this,m,Rc).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(z,Q,ut){let nt=null;if(z instanceof D.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Y,fontColor:st},rect:X,rotation:et,id:k},textContent:T,textPosition:d,parent:{page:{pageNumber:f}}}=z;if(!T||T.length===0)return null;nt=z={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(st),fontSize:Y,value:T.join(`
`),position:d,pageIndex:f-1,rect:X,rotation:et,id:k,deleted:!1}}const B=super.deserialize(z,Q,ut);return At(B,F,z.fontSize),At(B,j,o.Util.makeHexColor(...z.color)),At(B,M,z.value),B.annotationElementId=z.id||null,At(B,x,nt),B}serialize(z=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Q=C._internalPadding*this.parentScale,ut=this.getRect(Q,Q),nt=L.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,j)),B={annotationType:o.AnnotationEditorType.FREETEXT,color:nt,fontSize:c(this,F),value:c(this,M),pageIndex:this.pageIndex,rect:ut,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return z?B:this.annotationElementId&&!lt(this,m,Yf).call(this,B)?null:(B.id=this.annotationElementId,B)}};S=new WeakMap,b=new WeakMap,y=new WeakMap,w=new WeakMap,j=new WeakMap,M=new WeakMap,O=new WeakMap,F=new WeakMap,x=new WeakMap,m=new WeakSet,qf=function(z){const Q=nt=>{this.editorDiv.style.fontSize=`calc(${nt}px * var(--scale-factor))`,this.translate(0,-(nt-c(this,F))*this.parentScale),At(this,F,nt),lt(this,m,xs).call(this)},ut=c(this,F);this.addCommands({cmd:()=>{Q(z)},undo:()=>{Q(ut)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Xf=function(z){const Q=c(this,j);this.addCommands({cmd:()=>{At(this,j,this.editorDiv.style.color=z)},undo:()=>{At(this,j,this.editorDiv.style.color=Q)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Gf=function(){const z=this.editorDiv.getElementsByTagName("div");if(z.length===0)return this.editorDiv.innerText;const Q=[];for(const ut of z)Q.push(ut.innerText.replace(/\r\n?|\n/,""));return Q.join(`
`)},xs=function(){const[z,Q]=this.parentDimensions;let ut;if(this.isAttachedToDOM)ut=this.div.getBoundingClientRect();else{const{currentLayer:nt,div:B}=this,Y=B.style.display;B.style.display="hidden",nt.div.append(this.div),ut=B.getBoundingClientRect(),B.remove(),B.style.display=Y}this.rotation%180===this.parentRotation%180?(this.width=ut.width/z,this.height=ut.height/Q):(this.width=ut.height/z,this.height=ut.width/Q),this.fixAndSetPosition()},Rc=function(){if(this.editorDiv.replaceChildren(),!!c(this,M))for(const z of c(this,M).split(`
`)){const Q=document.createElement("div");Q.append(z?document.createTextNode(z):document.createElement("br")),this.editorDiv.append(Q)}},Yf=function(z){const{value:Q,fontSize:ut,color:nt,rect:B,pageIndex:Y}=c(this,x);return z.value!==Q||z.fontSize!==ut||z.rect.some((st,X)=>Math.abs(st-B[X])>=1)||z.color.some((st,X)=>st!==nt[X])||z.pageIndex!==Y},wc=function(z=!1){if(!this.annotationElementId)return;if(lt(this,m,xs).call(this),!z&&(this.width===0||this.height===0)){setTimeout(()=>lt(this,m,wc).call(this,!0),0);return}const Q=C._internalPadding*this.parentScale;c(this,x).rect=this.getRect(Q,Q)},De(C,"_freeTextDefaultContent",""),De(C,"_internalPadding",0),De(C,"_defaultColor",null),De(C,"_defaultFontSize",10),De(C,"_type","freetext");let V=C;s.FreeTextEditor=V}),((l,s,u)=>{var N,K,qi,Vf,pt,Ct,Et,Lt,Nt,jt,ft,mt,I,$,ot,gt,wt,zt,Ot,ct,Gt,It,Kf,Gr,Mc,Dc,ne,de,he,kt,ht,vt,$t,Oc,ce,tt,xt,Bt,Wf,Nc;Object.defineProperty(s,"__esModule",{value:!0}),s.StampAnnotationElement=s.InkAnnotationElement=s.FreeTextAnnotationElement=s.AnnotationLayer=void 0;var o=u(1),h=u(6),L=u(3),D=u(30),V=u(31),S=u(32);const b=1e3,y=9,w=new WeakSet;function j(Yt){return{width:Yt[2]-Yt[0],height:Yt[3]-Yt[1]}}class M{static create(W){switch(W.data.annotationType){case o.AnnotationType.LINK:return new F(W);case o.AnnotationType.TEXT:return new x(W);case o.AnnotationType.WIDGET:switch(W.data.fieldType){case"Tx":return new R(W);case"Btn":return W.data.radioButton?new v(W):W.data.checkBox?new P(W):new E(W);case"Ch":return new p(W);case"Sig":return new U(W)}return new m(W);case o.AnnotationType.POPUP:return new _(W);case o.AnnotationType.FREETEXT:return new Z(W);case o.AnnotationType.LINE:return new A(W);case o.AnnotationType.SQUARE:return new z(W);case o.AnnotationType.CIRCLE:return new Q(W);case o.AnnotationType.POLYLINE:return new ut(W);case o.AnnotationType.CARET:return new B(W);case o.AnnotationType.INK:return new Y(W);case o.AnnotationType.POLYGON:return new nt(W);case o.AnnotationType.HIGHLIGHT:return new st(W);case o.AnnotationType.UNDERLINE:return new X(W);case o.AnnotationType.SQUIGGLY:return new et(W);case o.AnnotationType.STRIKEOUT:return new k(W);case o.AnnotationType.STAMP:return new T(W);case o.AnnotationType.FILEATTACHMENT:return new d(W);default:return new O(W)}}}const q=class q{constructor(W,{isRenderable:G=!1,ignoreBorder:at=!1,createQuadrilaterals:bt=!1}={}){yt(this,N,!1);this.isRenderable=G,this.data=W.data,this.layer=W.layer,this.linkService=W.linkService,this.downloadManager=W.downloadManager,this.imageResourcesPath=W.imageResourcesPath,this.renderForms=W.renderForms,this.svgFactory=W.svgFactory,this.annotationStorage=W.annotationStorage,this.enableScripting=W.enableScripting,this.hasJSActions=W.hasJSActions,this._fieldObjects=W.fieldObjects,this.parent=W.parent,G&&(this.container=this._createContainer(at)),bt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:W,contentsObj:G,richText:at}){return!!(W!=null&&W.str||G!=null&&G.str||at!=null&&at.str)}get hasPopupData(){return q._hasPopupData(this.data)}_createContainer(W){const{data:G,parent:{page:at,viewport:bt}}=this,St=document.createElement("section");St.setAttribute("data-annotation-id",G.id),this instanceof m||(St.tabIndex=b),St.style.zIndex=this.parent.zIndex++,this.data.popupRef&&St.setAttribute("aria-haspopup","dialog"),G.noRotate&&St.classList.add("norotate");const{pageWidth:Dt,pageHeight:Pt,pageX:te,pageY:Zt}=bt.rawDims;if(!G.rect||this instanceof _){const{rotation:ee}=G;return!G.hasOwnCanvas&&ee!==0&&this.setRotation(ee,St),St}const{width:Xt,height:re}=j(G.rect),Wt=o.Util.normalizeRect([G.rect[0],at.view[3]-G.rect[1]+at.view[1],G.rect[2],at.view[3]-G.rect[3]+at.view[1]]);if(!W&&G.borderStyle.width>0){St.style.borderWidth=`${G.borderStyle.width}px`;const ee=G.borderStyle.horizontalCornerRadius,le=G.borderStyle.verticalCornerRadius;if(ee>0||le>0){const Ee=`calc(${ee}px * var(--scale-factor)) / calc(${le}px * var(--scale-factor))`;St.style.borderRadius=Ee}else if(this instanceof v){const Ee=`calc(${Xt}px * var(--scale-factor)) / calc(${re}px * var(--scale-factor))`;St.style.borderRadius=Ee}switch(G.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:St.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:St.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:St.style.borderBottomStyle="solid";break}const me=G.borderColor||null;me?(At(this,N,!0),St.style.borderColor=o.Util.makeHexColor(me[0]|0,me[1]|0,me[2]|0)):St.style.borderWidth=0}St.style.left=`${100*(Wt[0]-te)/Dt}%`,St.style.top=`${100*(Wt[1]-Zt)/Pt}%`;const{rotation:Kt}=G;return G.hasOwnCanvas||Kt===0?(St.style.width=`${100*Xt/Dt}%`,St.style.height=`${100*re/Pt}%`):this.setRotation(Kt,St),St}setRotation(W,G=this.container){if(!this.data.rect)return;const{pageWidth:at,pageHeight:bt}=this.parent.viewport.rawDims,{width:St,height:Dt}=j(this.data.rect);let Pt,te;W%180===0?(Pt=100*St/at,te=100*Dt/bt):(Pt=100*Dt/at,te=100*St/bt),G.style.width=`${Pt}%`,G.style.height=`${te}%`,G.setAttribute("data-main-rotation",(360-W)%360)}get _commonActions(){const W=(G,at,bt)=>{const St=bt.detail[G],Dt=St[0],Pt=St.slice(1);bt.target.style[at]=D.ColorConverters[`${Dt}_HTML`](Pt),this.annotationStorage.setValue(this.data.id,{[at]:D.ColorConverters[`${Dt}_rgb`](Pt)})};return(0,o.shadow)(this,"_commonActions",{display:G=>{const{display:at}=G.detail,bt=at%2===1;this.container.style.visibility=bt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:bt,noPrint:at===1||at===2})},print:G=>{this.annotationStorage.setValue(this.data.id,{noPrint:!G.detail.print})},hidden:G=>{const{hidden:at}=G.detail;this.container.style.visibility=at?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:at,noView:at})},focus:G=>{setTimeout(()=>G.target.focus({preventScroll:!1}),0)},userName:G=>{G.target.title=G.detail.userName},readonly:G=>{G.target.disabled=G.detail.readonly},required:G=>{this._setRequired(G.target,G.detail.required)},bgColor:G=>{W("bgColor","backgroundColor",G)},fillColor:G=>{W("fillColor","backgroundColor",G)},fgColor:G=>{W("fgColor","color",G)},textColor:G=>{W("textColor","color",G)},borderColor:G=>{W("borderColor","borderColor",G)},strokeColor:G=>{W("strokeColor","borderColor",G)},rotation:G=>{const at=G.detail.rotation;this.setRotation(at),this.annotationStorage.setValue(this.data.id,{rotation:at})}})}_dispatchEventFromSandbox(W,G){const at=this._commonActions;for(const bt of Object.keys(G.detail)){const St=W[bt]||at[bt];St==null||St(G)}}_setDefaultPropertiesFromJS(W){if(!this.enableScripting)return;const G=this.annotationStorage.getRawValue(this.data.id);if(!G)return;const at=this._commonActions;for(const[bt,St]of Object.entries(G)){const Dt=at[bt];if(Dt){const Pt={detail:{[bt]:St},target:W};Dt(Pt),delete G[bt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:W}=this.data;if(!W)return;const[G,at,bt,St]=this.data.rect;if(W.length===1){const[,{x:le,y:me},{x:Ee,y:qe}]=W[0];if(bt===le&&St===me&&G===Ee&&at===qe)return}const{style:Dt}=this.container;let Pt;if(c(this,N)){const{borderColor:le,borderWidth:me}=Dt;Dt.borderWidth=0,Pt=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${le}" stroke-width="${me}">`],this.container.classList.add("hasBorder")}const te=bt-G,Zt=St-at,{svgFactory:Xt}=this,re=Xt.createElement("svg");re.classList.add("quadrilateralsContainer"),re.setAttribute("width",0),re.setAttribute("height",0);const Wt=Xt.createElement("defs");re.append(Wt);const Kt=Xt.createElement("clipPath"),ee=`clippath_${this.data.id}`;Kt.setAttribute("id",ee),Kt.setAttribute("clipPathUnits","objectBoundingBox"),Wt.append(Kt);for(const[,{x:le,y:me},{x:Ee,y:qe}]of W){const Fe=Xt.createElement("rect"),en=(Ee-G)/te,yn=(St-me)/Zt,nn=(le-Ee)/te,Pn=(me-qe)/Zt;Fe.setAttribute("x",en),Fe.setAttribute("y",yn),Fe.setAttribute("width",nn),Fe.setAttribute("height",Pn),Kt.append(Fe),Pt==null||Pt.push(`<rect vector-effect="non-scaling-stroke" x="${en}" y="${yn}" width="${nn}" height="${Pn}"/>`)}c(this,N)&&(Pt.push("</g></svg>')"),Dt.backgroundImage=Pt.join("")),this.container.append(re),this.container.style.clipPath=`url(#${ee})`}_createPopup(){const{container:W,data:G}=this;W.setAttribute("aria-haspopup","dialog");const at=new _({data:{color:G.color,titleObj:G.titleObj,modificationDate:G.modificationDate,contentsObj:G.contentsObj,richText:G.richText,parentRect:G.rect,borderStyle:0,id:`popup_${G.id}`,rotation:G.rotation},parent:this.parent,elements:[this]});this.parent.div.append(at.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(W,G=null){const at=[];if(this._fieldObjects){const bt=this._fieldObjects[W];if(bt)for(const{page:St,id:Dt,exportValues:Pt}of bt){if(St===-1||Dt===G)continue;const te=typeof Pt=="string"?Pt:null,Zt=document.querySelector(`[data-element-id="${Dt}"]`);if(Zt&&!w.has(Zt)){(0,o.warn)(`_getElementsByName - element not allowed: ${Dt}`);continue}at.push({id:Dt,exportValue:te,domElement:Zt})}return at}for(const bt of document.getElementsByName(W)){const{exportValue:St}=bt,Dt=bt.getAttribute("data-element-id");Dt!==G&&w.has(bt)&&at.push({id:Dt,exportValue:St,domElement:bt})}return at}show(){var W;this.container&&(this.container.hidden=!1),(W=this.popup)==null||W.maybeShow()}hide(){var W;this.container&&(this.container.hidden=!0),(W=this.popup)==null||W.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const W=this.getElementsToTriggerPopup();if(Array.isArray(W))for(const G of W)G.classList.add("highlightArea");else W.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:W,data:{id:G}}=this;this.container.addEventListener("dblclick",()=>{var at;(at=this.linkService.eventBus)==null||at.dispatch("switchannotationeditormode",{source:this,mode:W,editId:G})})}};N=new WeakMap;let O=q;class F extends O{constructor(G,at=null){super(G,{isRenderable:!0,ignoreBorder:!!(at!=null&&at.ignoreBorder),createQuadrilaterals:!0});yt(this,K);this.isTooltipOnly=G.data.isTooltipOnly}render(){const{data:G,linkService:at}=this,bt=document.createElement("a");bt.setAttribute("data-element-id",G.id);let St=!1;return G.url?(at.addLinkAttributes(bt,G.url,G.newWindow),St=!0):G.action?(this._bindNamedAction(bt,G.action),St=!0):G.attachment?(this._bindAttachment(bt,G.attachment),St=!0):G.setOCGState?(lt(this,K,Vf).call(this,bt,G.setOCGState),St=!0):G.dest?(this._bindLink(bt,G.dest),St=!0):(G.actions&&(G.actions.Action||G.actions["Mouse Up"]||G.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(bt,G),St=!0),G.resetForm?(this._bindResetFormAction(bt,G.resetForm),St=!0):this.isTooltipOnly&&!St&&(this._bindLink(bt,""),St=!0)),this.container.classList.add("linkAnnotation"),St&&this.container.append(bt),this.container}_bindLink(G,at){G.href=this.linkService.getDestinationHash(at),G.onclick=()=>(at&&this.linkService.goToDestination(at),!1),(at||at==="")&&lt(this,K,qi).call(this)}_bindNamedAction(G,at){G.href=this.linkService.getAnchorUrl(""),G.onclick=()=>(this.linkService.executeNamedAction(at),!1),lt(this,K,qi).call(this)}_bindAttachment(G,at){G.href=this.linkService.getAnchorUrl(""),G.onclick=()=>{var bt;return(bt=this.downloadManager)==null||bt.openOrDownloadData(this.container,at.content,at.filename),!1},lt(this,K,qi).call(this)}_bindJSAction(G,at){G.href=this.linkService.getAnchorUrl("");const bt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const St of Object.keys(at.actions)){const Dt=bt.get(St);Dt&&(G[Dt]=()=>{var Pt;return(Pt=this.linkService.eventBus)==null||Pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:at.id,name:St}}),!1})}G.onclick||(G.onclick=()=>!1),lt(this,K,qi).call(this)}_bindResetFormAction(G,at){const bt=G.onclick;if(bt||(G.href=this.linkService.getAnchorUrl("")),lt(this,K,qi).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),bt||(G.onclick=()=>!1);return}G.onclick=()=>{var re;bt==null||bt();const{fields:St,refs:Dt,include:Pt}=at,te=[];if(St.length!==0||Dt.length!==0){const Wt=new Set(Dt);for(const Kt of St){const ee=this._fieldObjects[Kt]||[];for(const{id:le}of ee)Wt.add(le)}for(const Kt of Object.values(this._fieldObjects))for(const ee of Kt)Wt.has(ee.id)===Pt&&te.push(ee)}else for(const Wt of Object.values(this._fieldObjects))te.push(...Wt);const Zt=this.annotationStorage,Xt=[];for(const Wt of te){const{id:Kt}=Wt;switch(Xt.push(Kt),Wt.type){case"text":{const le=Wt.defaultValue||"";Zt.setValue(Kt,{value:le});break}case"checkbox":case"radiobutton":{const le=Wt.defaultValue===Wt.exportValues;Zt.setValue(Kt,{value:le});break}case"combobox":case"listbox":{const le=Wt.defaultValue||"";Zt.setValue(Kt,{value:le});break}default:continue}const ee=document.querySelector(`[data-element-id="${Kt}"]`);if(ee){if(!w.has(ee)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${Kt}`);continue}}else continue;ee.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((re=this.linkService.eventBus)==null||re.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Xt,name:"ResetForm"}})),!1}}}K=new WeakSet,qi=function(){this.container.setAttribute("data-internal-link","")},Vf=function(G,at){G.href=this.linkService.getAnchorUrl(""),G.onclick=()=>(this.linkService.executeSetOCGState(at),!1),lt(this,K,qi).call(this)};class x extends O{constructor(W){super(W,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const W=document.createElement("img");return W.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",W.alt="[{{type}} Annotation]",W.dataset.l10nId="text_annotation_type",W.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(W),this.container}}class m extends O{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(W){var G;this.data.hasOwnCanvas&&(((G=W.previousSibling)==null?void 0:G.nodeName)==="CANVAS"&&(W.previousSibling.hidden=!0),W.hidden=!1)}_getKeyModifier(W){const{isWin:G,isMac:at}=o.FeatureTest.platform;return G&&W.ctrlKey||at&&W.metaKey}_setEventListener(W,G,at,bt,St){at.includes("mouse")?W.addEventListener(at,Dt=>{var Pt;(Pt=this.linkService.eventBus)==null||Pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:bt,value:St(Dt),shift:Dt.shiftKey,modifier:this._getKeyModifier(Dt)}})}):W.addEventListener(at,Dt=>{var Pt;if(at==="blur"){if(!G.focused||!Dt.relatedTarget)return;G.focused=!1}else if(at==="focus"){if(G.focused)return;G.focused=!0}St&&((Pt=this.linkService.eventBus)==null||Pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:bt,value:St(Dt)}}))})}_setEventListeners(W,G,at,bt){var St,Dt,Pt;for(const[te,Zt]of at)(Zt==="Action"||(St=this.data.actions)!=null&&St[Zt])&&((Zt==="Focus"||Zt==="Blur")&&(G||(G={focused:!1})),this._setEventListener(W,G,te,Zt,bt),Zt==="Focus"&&!((Dt=this.data.actions)!=null&&Dt.Blur)?this._setEventListener(W,G,"blur","Blur",null):Zt==="Blur"&&!((Pt=this.data.actions)!=null&&Pt.Focus)&&this._setEventListener(W,G,"focus","Focus",null))}_setBackgroundColor(W){const G=this.data.backgroundColor||null;W.style.backgroundColor=G===null?"transparent":o.Util.makeHexColor(G[0],G[1],G[2])}_setTextStyle(W){const G=["left","center","right"],{fontColor:at}=this.data.defaultAppearanceData,bt=this.data.defaultAppearanceData.fontSize||y,St=W.style;let Dt;const Pt=2,te=Zt=>Math.round(10*Zt)/10;if(this.data.multiLine){const Zt=Math.abs(this.data.rect[3]-this.data.rect[1]-Pt),Xt=Math.round(Zt/(o.LINE_FACTOR*bt))||1,re=Zt/Xt;Dt=Math.min(bt,te(re/o.LINE_FACTOR))}else{const Zt=Math.abs(this.data.rect[3]-this.data.rect[1]-Pt);Dt=Math.min(bt,te(Zt/o.LINE_FACTOR))}St.fontSize=`calc(${Dt}px * var(--scale-factor))`,St.color=o.Util.makeHexColor(at[0],at[1],at[2]),this.data.textAlignment!==null&&(St.textAlign=G[this.data.textAlignment])}_setRequired(W,G){G?W.setAttribute("required",!0):W.removeAttribute("required"),W.setAttribute("aria-required",G)}}class R extends m{constructor(W){const G=W.renderForms||!W.data.hasAppearance&&!!W.data.fieldValue;super(W,{isRenderable:G})}setPropertyOnSiblings(W,G,at,bt){const St=this.annotationStorage;for(const Dt of this._getElementsByName(W.name,W.id))Dt.domElement&&(Dt.domElement[G]=at),St.setValue(Dt.id,{[bt]:at})}render(){var bt,St;const W=this.annotationStorage,G=this.data.id;this.container.classList.add("textWidgetAnnotation");let at=null;if(this.renderForms){const Dt=W.getValue(G,{value:this.data.fieldValue});let Pt=Dt.value||"";const te=W.getValue(G,{charLimit:this.data.maxLen}).charLimit;te&&Pt.length>te&&(Pt=Pt.slice(0,te));let Zt=Dt.formattedValue||((bt=this.data.textContent)==null?void 0:bt.join(`
`))||null;Zt&&this.data.comb&&(Zt=Zt.replaceAll(/\s+/g,""));const Xt={userValue:Pt,formattedValue:Zt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(at=document.createElement("textarea"),at.textContent=Zt??Pt,this.data.doNotScroll&&(at.style.overflowY="hidden")):(at=document.createElement("input"),at.type="text",at.setAttribute("value",Zt??Pt),this.data.doNotScroll&&(at.style.overflowX="hidden")),this.data.hasOwnCanvas&&(at.hidden=!0),w.add(at),at.setAttribute("data-element-id",G),at.disabled=this.data.readOnly,at.name=this.data.fieldName,at.tabIndex=b,this._setRequired(at,this.data.required),te&&(at.maxLength=te),at.addEventListener("input",Wt=>{W.setValue(G,{value:Wt.target.value}),this.setPropertyOnSiblings(at,"value",Wt.target.value,"value"),Xt.formattedValue=null}),at.addEventListener("resetform",Wt=>{const Kt=this.data.defaultFieldValue??"";at.value=Xt.userValue=Kt,Xt.formattedValue=null});let re=Wt=>{const{formattedValue:Kt}=Xt;Kt!=null&&(Wt.target.value=Kt),Wt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){at.addEventListener("focus",Kt=>{if(Xt.focused)return;const{target:ee}=Kt;Xt.userValue&&(ee.value=Xt.userValue),Xt.lastCommittedValue=ee.value,Xt.commitKey=1,Xt.focused=!0}),at.addEventListener("updatefromsandbox",Kt=>{this.showElementAndHideCanvas(Kt.target);const ee={value(le){Xt.userValue=le.detail.value??"",W.setValue(G,{value:Xt.userValue.toString()}),le.target.value=Xt.userValue},formattedValue(le){const{formattedValue:me}=le.detail;Xt.formattedValue=me,me!=null&&le.target!==document.activeElement&&(le.target.value=me),W.setValue(G,{formattedValue:me})},selRange(le){le.target.setSelectionRange(...le.detail.selRange)},charLimit:le=>{var Fe;const{charLimit:me}=le.detail,{target:Ee}=le;if(me===0){Ee.removeAttribute("maxLength");return}Ee.setAttribute("maxLength",me);let qe=Xt.userValue;!qe||qe.length<=me||(qe=qe.slice(0,me),Ee.value=Xt.userValue=qe,W.setValue(G,{value:qe}),(Fe=this.linkService.eventBus)==null||Fe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:G,name:"Keystroke",value:qe,willCommit:!0,commitKey:1,selStart:Ee.selectionStart,selEnd:Ee.selectionEnd}}))}};this._dispatchEventFromSandbox(ee,Kt)}),at.addEventListener("keydown",Kt=>{var me;Xt.commitKey=1;let ee=-1;if(Kt.key==="Escape"?ee=0:Kt.key==="Enter"&&!this.data.multiLine?ee=2:Kt.key==="Tab"&&(Xt.commitKey=3),ee===-1)return;const{value:le}=Kt.target;Xt.lastCommittedValue!==le&&(Xt.lastCommittedValue=le,Xt.userValue=le,(me=this.linkService.eventBus)==null||me.dispatch("dispatcheventinsandbox",{source:this,detail:{id:G,name:"Keystroke",value:le,willCommit:!0,commitKey:ee,selStart:Kt.target.selectionStart,selEnd:Kt.target.selectionEnd}}))});const Wt=re;re=null,at.addEventListener("blur",Kt=>{var le;if(!Xt.focused||!Kt.relatedTarget)return;Xt.focused=!1;const{value:ee}=Kt.target;Xt.userValue=ee,Xt.lastCommittedValue!==ee&&((le=this.linkService.eventBus)==null||le.dispatch("dispatcheventinsandbox",{source:this,detail:{id:G,name:"Keystroke",value:ee,willCommit:!0,commitKey:Xt.commitKey,selStart:Kt.target.selectionStart,selEnd:Kt.target.selectionEnd}})),Wt(Kt)}),(St=this.data.actions)!=null&&St.Keystroke&&at.addEventListener("beforeinput",Kt=>{var yn;Xt.lastCommittedValue=null;const{data:ee,target:le}=Kt,{value:me,selectionStart:Ee,selectionEnd:qe}=le;let Fe=Ee,en=qe;switch(Kt.inputType){case"deleteWordBackward":{const nn=me.substring(0,Ee).match(/\w*[^\w]*$/);nn&&(Fe-=nn[0].length);break}case"deleteWordForward":{const nn=me.substring(Ee).match(/^[^\w]*\w*/);nn&&(en+=nn[0].length);break}case"deleteContentBackward":Ee===qe&&(Fe-=1);break;case"deleteContentForward":Ee===qe&&(en+=1);break}Kt.preventDefault(),(yn=this.linkService.eventBus)==null||yn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:G,name:"Keystroke",value:me,change:ee||"",willCommit:!1,selStart:Fe,selEnd:en}})}),this._setEventListeners(at,Xt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Kt=>Kt.target.value)}if(re&&at.addEventListener("blur",re),this.data.comb){const Kt=(this.data.rect[2]-this.data.rect[0])/te;at.classList.add("comb"),at.style.letterSpacing=`calc(${Kt}px * var(--scale-factor) - 1ch)`}}else at=document.createElement("div"),at.textContent=this.data.fieldValue,at.style.verticalAlign="middle",at.style.display="table-cell";return this._setTextStyle(at),this._setBackgroundColor(at),this._setDefaultPropertiesFromJS(at),this.container.append(at),this.container}}class U extends m{constructor(W){super(W,{isRenderable:!!W.data.hasOwnCanvas})}}class P extends m{constructor(W){super(W,{isRenderable:W.renderForms})}render(){const W=this.annotationStorage,G=this.data,at=G.id;let bt=W.getValue(at,{value:G.exportValue===G.fieldValue}).value;typeof bt=="string"&&(bt=bt!=="Off",W.setValue(at,{value:bt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const St=document.createElement("input");return w.add(St),St.setAttribute("data-element-id",at),St.disabled=G.readOnly,this._setRequired(St,this.data.required),St.type="checkbox",St.name=G.fieldName,bt&&St.setAttribute("checked",!0),St.setAttribute("exportValue",G.exportValue),St.tabIndex=b,St.addEventListener("change",Dt=>{const{name:Pt,checked:te}=Dt.target;for(const Zt of this._getElementsByName(Pt,at)){const Xt=te&&Zt.exportValue===G.exportValue;Zt.domElement&&(Zt.domElement.checked=Xt),W.setValue(Zt.id,{value:Xt})}W.setValue(at,{value:te})}),St.addEventListener("resetform",Dt=>{const Pt=G.defaultFieldValue||"Off";Dt.target.checked=Pt===G.exportValue}),this.enableScripting&&this.hasJSActions&&(St.addEventListener("updatefromsandbox",Dt=>{const Pt={value(te){te.target.checked=te.detail.value!=="Off",W.setValue(at,{value:te.target.checked})}};this._dispatchEventFromSandbox(Pt,Dt)}),this._setEventListeners(St,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Dt=>Dt.target.checked)),this._setBackgroundColor(St),this._setDefaultPropertiesFromJS(St),this.container.append(St),this.container}}class v extends m{constructor(W){super(W,{isRenderable:W.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const W=this.annotationStorage,G=this.data,at=G.id;let bt=W.getValue(at,{value:G.fieldValue===G.buttonValue}).value;typeof bt=="string"&&(bt=bt!==G.buttonValue,W.setValue(at,{value:bt}));const St=document.createElement("input");if(w.add(St),St.setAttribute("data-element-id",at),St.disabled=G.readOnly,this._setRequired(St,this.data.required),St.type="radio",St.name=G.fieldName,bt&&St.setAttribute("checked",!0),St.tabIndex=b,St.addEventListener("change",Dt=>{const{name:Pt,checked:te}=Dt.target;for(const Zt of this._getElementsByName(Pt,at))W.setValue(Zt.id,{value:!1});W.setValue(at,{value:te})}),St.addEventListener("resetform",Dt=>{const Pt=G.defaultFieldValue;Dt.target.checked=Pt!=null&&Pt===G.buttonValue}),this.enableScripting&&this.hasJSActions){const Dt=G.buttonValue;St.addEventListener("updatefromsandbox",Pt=>{const te={value:Zt=>{const Xt=Dt===Zt.detail.value;for(const re of this._getElementsByName(Zt.target.name)){const Wt=Xt&&re.id===at;re.domElement&&(re.domElement.checked=Wt),W.setValue(re.id,{value:Wt})}}};this._dispatchEventFromSandbox(te,Pt)}),this._setEventListeners(St,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Pt=>Pt.target.checked)}return this._setBackgroundColor(St),this._setDefaultPropertiesFromJS(St),this.container.append(St),this.container}}class E extends F{constructor(W){super(W,{ignoreBorder:W.data.hasAppearance})}render(){const W=super.render();W.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(W.title=this.data.alternativeText);const G=W.lastChild;return this.enableScripting&&this.hasJSActions&&G&&(this._setDefaultPropertiesFromJS(G),G.addEventListener("updatefromsandbox",at=>{this._dispatchEventFromSandbox({},at)})),W}}class p extends m{constructor(W){super(W,{isRenderable:W.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const W=this.annotationStorage,G=this.data.id,at=W.getValue(G,{value:this.data.fieldValue}),bt=document.createElement("select");w.add(bt),bt.setAttribute("data-element-id",G),bt.disabled=this.data.readOnly,this._setRequired(bt,this.data.required),bt.name=this.data.fieldName,bt.tabIndex=b;let St=this.data.combo&&this.data.options.length>0;this.data.combo||(bt.size=this.data.options.length,this.data.multiSelect&&(bt.multiple=!0)),bt.addEventListener("resetform",Xt=>{const re=this.data.defaultFieldValue;for(const Wt of bt.options)Wt.selected=Wt.value===re});for(const Xt of this.data.options){const re=document.createElement("option");re.textContent=Xt.displayValue,re.value=Xt.exportValue,at.value.includes(Xt.exportValue)&&(re.setAttribute("selected",!0),St=!1),bt.append(re)}let Dt=null;if(St){const Xt=document.createElement("option");Xt.value=" ",Xt.setAttribute("hidden",!0),Xt.setAttribute("selected",!0),bt.prepend(Xt),Dt=()=>{Xt.remove(),bt.removeEventListener("input",Dt),Dt=null},bt.addEventListener("input",Dt)}const Pt=Xt=>{const re=Xt?"value":"textContent",{options:Wt,multiple:Kt}=bt;return Kt?Array.prototype.filter.call(Wt,ee=>ee.selected).map(ee=>ee[re]):Wt.selectedIndex===-1?null:Wt[Wt.selectedIndex][re]};let te=Pt(!1);const Zt=Xt=>{const re=Xt.target.options;return Array.prototype.map.call(re,Wt=>({displayValue:Wt.textContent,exportValue:Wt.value}))};return this.enableScripting&&this.hasJSActions?(bt.addEventListener("updatefromsandbox",Xt=>{const re={value(Wt){Dt==null||Dt();const Kt=Wt.detail.value,ee=new Set(Array.isArray(Kt)?Kt:[Kt]);for(const le of bt.options)le.selected=ee.has(le.value);W.setValue(G,{value:Pt(!0)}),te=Pt(!1)},multipleSelection(Wt){bt.multiple=!0},remove(Wt){const Kt=bt.options,ee=Wt.detail.remove;Kt[ee].selected=!1,bt.remove(ee),Kt.length>0&&Array.prototype.findIndex.call(Kt,me=>me.selected)===-1&&(Kt[0].selected=!0),W.setValue(G,{value:Pt(!0),items:Zt(Wt)}),te=Pt(!1)},clear(Wt){for(;bt.length!==0;)bt.remove(0);W.setValue(G,{value:null,items:[]}),te=Pt(!1)},insert(Wt){const{index:Kt,displayValue:ee,exportValue:le}=Wt.detail.insert,me=bt.children[Kt],Ee=document.createElement("option");Ee.textContent=ee,Ee.value=le,me?me.before(Ee):bt.append(Ee),W.setValue(G,{value:Pt(!0),items:Zt(Wt)}),te=Pt(!1)},items(Wt){const{items:Kt}=Wt.detail;for(;bt.length!==0;)bt.remove(0);for(const ee of Kt){const{displayValue:le,exportValue:me}=ee,Ee=document.createElement("option");Ee.textContent=le,Ee.value=me,bt.append(Ee)}bt.options.length>0&&(bt.options[0].selected=!0),W.setValue(G,{value:Pt(!0),items:Zt(Wt)}),te=Pt(!1)},indices(Wt){const Kt=new Set(Wt.detail.indices);for(const ee of Wt.target.options)ee.selected=Kt.has(ee.index);W.setValue(G,{value:Pt(!0)}),te=Pt(!1)},editable(Wt){Wt.target.disabled=!Wt.detail.editable}};this._dispatchEventFromSandbox(re,Xt)}),bt.addEventListener("input",Xt=>{var Wt;const re=Pt(!0);W.setValue(G,{value:re}),Xt.preventDefault(),(Wt=this.linkService.eventBus)==null||Wt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:G,name:"Keystroke",value:te,changeEx:re,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(bt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Xt=>Xt.target.value)):bt.addEventListener("input",function(Xt){W.setValue(G,{value:Pt(!0)})}),this.data.combo&&this._setTextStyle(bt),this._setBackgroundColor(bt),this._setDefaultPropertiesFromJS(bt),this.container.append(bt),this.container}}class _ extends O{constructor(W){const{data:G,elements:at}=W;super(W,{isRenderable:O._hasPopupData(G)}),this.elements=at}render(){this.container.classList.add("popupAnnotation");const W=new C({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),G=[];for(const at of this.elements)at.popup=W,G.push(at.data.id),at.addHighlightArea();return this.container.setAttribute("aria-controls",G.map(at=>`${o.AnnotationPrefix}${at}`).join(",")),this.container}}class C{constructor({container:W,color:G,elements:at,titleObj:bt,modificationDate:St,contentsObj:Dt,richText:Pt,parent:te,rect:Zt,parentRect:Xt,open:re}){yt(this,It);yt(this,pt,null);yt(this,Ct,lt(this,It,Kf).bind(this));yt(this,Et,lt(this,It,Dc).bind(this));yt(this,Lt,lt(this,It,Mc).bind(this));yt(this,Nt,lt(this,It,Gr).bind(this));yt(this,jt,null);yt(this,ft,null);yt(this,mt,null);yt(this,I,null);yt(this,$,null);yt(this,ot,null);yt(this,gt,!1);yt(this,wt,null);yt(this,zt,null);yt(this,Ot,null);yt(this,ct,null);yt(this,Gt,!1);var Kt;At(this,ft,W),At(this,ct,bt),At(this,mt,Dt),At(this,Ot,Pt),At(this,$,te),At(this,jt,G),At(this,zt,Zt),At(this,ot,Xt),At(this,I,at);const Wt=h.PDFDateString.toDateObject(St);Wt&&At(this,pt,te.l10n.get("annotation_date_string",{date:Wt.toLocaleDateString(),time:Wt.toLocaleTimeString()})),this.trigger=at.flatMap(ee=>ee.getElementsToTriggerPopup());for(const ee of this.trigger)ee.addEventListener("click",c(this,Nt)),ee.addEventListener("mouseenter",c(this,Lt)),ee.addEventListener("mouseleave",c(this,Et)),ee.classList.add("popupTriggerArea");for(const ee of at)(Kt=ee.container)==null||Kt.addEventListener("keydown",c(this,Ct));c(this,ft).hidden=!0,re&&lt(this,It,Gr).call(this)}render(){if(c(this,wt))return;const{page:{view:W},viewport:{rawDims:{pageWidth:G,pageHeight:at,pageX:bt,pageY:St}}}=c(this,$),Dt=At(this,wt,document.createElement("div"));if(Dt.className="popup",c(this,jt)){const Fe=Dt.style.outlineColor=o.Util.makeHexColor(...c(this,jt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Dt.style.backgroundColor=`color-mix(in srgb, ${Fe} 30%, white)`:Dt.style.backgroundColor=o.Util.makeHexColor(...c(this,jt).map(yn=>Math.floor(.7*(255-yn)+yn)))}const Pt=document.createElement("span");Pt.className="header";const te=document.createElement("h1");if(Pt.append(te),{dir:te.dir,str:te.textContent}=c(this,ct),Dt.append(Pt),c(this,pt)){const Fe=document.createElement("span");Fe.classList.add("popupDate"),c(this,pt).then(en=>{Fe.textContent=en}),Pt.append(Fe)}const Zt=c(this,mt),Xt=c(this,Ot);if(Xt!=null&&Xt.str&&(!(Zt!=null&&Zt.str)||Zt.str===Xt.str))S.XfaLayer.render({xfaHtml:Xt.html,intent:"richText",div:Dt}),Dt.lastChild.classList.add("richText","popupContent");else{const Fe=this._formatContents(Zt);Dt.append(Fe)}let re=!!c(this,ot),Wt=re?c(this,ot):c(this,zt);for(const Fe of c(this,I))if(!Wt||o.Util.intersect(Fe.data.rect,Wt)!==null){Wt=Fe.data.rect,re=!0;break}const Kt=o.Util.normalizeRect([Wt[0],W[3]-Wt[1]+W[1],Wt[2],W[3]-Wt[3]+W[1]]),le=re?Wt[2]-Wt[0]+5:0,me=Kt[0]+le,Ee=Kt[1],{style:qe}=c(this,ft);qe.left=`${100*(me-bt)/G}%`,qe.top=`${100*(Ee-St)/at}%`,c(this,ft).append(Dt)}_formatContents({str:W,dir:G}){const at=document.createElement("p");at.classList.add("popupContent"),at.dir=G;const bt=W.split(/(?:\r\n?|\n)/);for(let St=0,Dt=bt.length;St<Dt;++St){const Pt=bt[St];at.append(document.createTextNode(Pt)),St<Dt-1&&at.append(document.createElement("br"))}return at}forceHide(){At(this,Gt,this.isVisible),c(this,Gt)&&(c(this,ft).hidden=!0)}maybeShow(){c(this,Gt)&&(At(this,Gt,!1),c(this,ft).hidden=!1)}get isVisible(){return c(this,ft).hidden===!1}}pt=new WeakMap,Ct=new WeakMap,Et=new WeakMap,Lt=new WeakMap,Nt=new WeakMap,jt=new WeakMap,ft=new WeakMap,mt=new WeakMap,I=new WeakMap,$=new WeakMap,ot=new WeakMap,gt=new WeakMap,wt=new WeakMap,zt=new WeakMap,Ot=new WeakMap,ct=new WeakMap,Gt=new WeakMap,It=new WeakSet,Kf=function(W){W.altKey||W.shiftKey||W.ctrlKey||W.metaKey||(W.key==="Enter"||W.key==="Escape"&&c(this,gt))&&lt(this,It,Gr).call(this)},Gr=function(){At(this,gt,!c(this,gt)),c(this,gt)?(lt(this,It,Mc).call(this),c(this,ft).addEventListener("click",c(this,Nt)),c(this,ft).addEventListener("keydown",c(this,Ct))):(lt(this,It,Dc).call(this),c(this,ft).removeEventListener("click",c(this,Nt)),c(this,ft).removeEventListener("keydown",c(this,Ct)))},Mc=function(){c(this,wt)||this.render(),this.isVisible?c(this,gt)&&c(this,ft).classList.add("focused"):(c(this,ft).hidden=!1,c(this,ft).style.zIndex=parseInt(c(this,ft).style.zIndex)+1e3)},Dc=function(){c(this,ft).classList.remove("focused"),!(c(this,gt)||!this.isVisible)&&(c(this,ft).hidden=!0,c(this,ft).style.zIndex=parseInt(c(this,ft).style.zIndex)-1e3)};class Z extends O{constructor(W){super(W,{isRenderable:!0,ignoreBorder:!0}),this.textContent=W.data.textContent,this.textPosition=W.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const W=document.createElement("div");W.classList.add("annotationTextContent"),W.setAttribute("role","comment");for(const G of this.textContent){const at=document.createElement("span");at.textContent=G,W.append(at)}this.container.append(W)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}s.FreeTextAnnotationElement=Z;class A extends O{constructor(G){super(G,{isRenderable:!0,ignoreBorder:!0});yt(this,ne,null)}render(){this.container.classList.add("lineAnnotation");const G=this.data,{width:at,height:bt}=j(G.rect),St=this.svgFactory.create(at,bt,!0),Dt=At(this,ne,this.svgFactory.createElement("svg:line"));return Dt.setAttribute("x1",G.rect[2]-G.lineCoordinates[0]),Dt.setAttribute("y1",G.rect[3]-G.lineCoordinates[1]),Dt.setAttribute("x2",G.rect[2]-G.lineCoordinates[2]),Dt.setAttribute("y2",G.rect[3]-G.lineCoordinates[3]),Dt.setAttribute("stroke-width",G.borderStyle.width||1),Dt.setAttribute("stroke","transparent"),Dt.setAttribute("fill","transparent"),St.append(Dt),this.container.append(St),!G.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,ne)}addHighlightArea(){this.container.classList.add("highlightArea")}}ne=new WeakMap;class z extends O{constructor(G){super(G,{isRenderable:!0,ignoreBorder:!0});yt(this,de,null)}render(){this.container.classList.add("squareAnnotation");const G=this.data,{width:at,height:bt}=j(G.rect),St=this.svgFactory.create(at,bt,!0),Dt=G.borderStyle.width,Pt=At(this,de,this.svgFactory.createElement("svg:rect"));return Pt.setAttribute("x",Dt/2),Pt.setAttribute("y",Dt/2),Pt.setAttribute("width",at-Dt),Pt.setAttribute("height",bt-Dt),Pt.setAttribute("stroke-width",Dt||1),Pt.setAttribute("stroke","transparent"),Pt.setAttribute("fill","transparent"),St.append(Pt),this.container.append(St),!G.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,de)}addHighlightArea(){this.container.classList.add("highlightArea")}}de=new WeakMap;class Q extends O{constructor(G){super(G,{isRenderable:!0,ignoreBorder:!0});yt(this,he,null)}render(){this.container.classList.add("circleAnnotation");const G=this.data,{width:at,height:bt}=j(G.rect),St=this.svgFactory.create(at,bt,!0),Dt=G.borderStyle.width,Pt=At(this,he,this.svgFactory.createElement("svg:ellipse"));return Pt.setAttribute("cx",at/2),Pt.setAttribute("cy",bt/2),Pt.setAttribute("rx",at/2-Dt/2),Pt.setAttribute("ry",bt/2-Dt/2),Pt.setAttribute("stroke-width",Dt||1),Pt.setAttribute("stroke","transparent"),Pt.setAttribute("fill","transparent"),St.append(Pt),this.container.append(St),!G.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,he)}addHighlightArea(){this.container.classList.add("highlightArea")}}he=new WeakMap;class ut extends O{constructor(G){super(G,{isRenderable:!0,ignoreBorder:!0});yt(this,kt,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const G=this.data,{width:at,height:bt}=j(G.rect),St=this.svgFactory.create(at,bt,!0);let Dt=[];for(const te of G.vertices){const Zt=te.x-G.rect[0],Xt=G.rect[3]-te.y;Dt.push(Zt+","+Xt)}Dt=Dt.join(" ");const Pt=At(this,kt,this.svgFactory.createElement(this.svgElementName));return Pt.setAttribute("points",Dt),Pt.setAttribute("stroke-width",G.borderStyle.width||1),Pt.setAttribute("stroke","transparent"),Pt.setAttribute("fill","transparent"),St.append(Pt),this.container.append(St),!G.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,kt)}addHighlightArea(){this.container.classList.add("highlightArea")}}kt=new WeakMap;class nt extends ut{constructor(W){super(W),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class B extends O{constructor(W){super(W,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Y extends O{constructor(G){super(G,{isRenderable:!0,ignoreBorder:!0});yt(this,ht,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const G=this.data,{width:at,height:bt}=j(G.rect),St=this.svgFactory.create(at,bt,!0);for(const Dt of G.inkLists){let Pt=[];for(const Zt of Dt){const Xt=Zt.x-G.rect[0],re=G.rect[3]-Zt.y;Pt.push(`${Xt},${re}`)}Pt=Pt.join(" ");const te=this.svgFactory.createElement(this.svgElementName);c(this,ht).push(te),te.setAttribute("points",Pt),te.setAttribute("stroke-width",G.borderStyle.width||1),te.setAttribute("stroke","transparent"),te.setAttribute("fill","transparent"),!G.popupRef&&this.hasPopupData&&this._createPopup(),St.append(te)}return this.container.append(St),this.container}getElementsToTriggerPopup(){return c(this,ht)}addHighlightArea(){this.container.classList.add("highlightArea")}}ht=new WeakMap,s.InkAnnotationElement=Y;class st extends O{constructor(W){super(W,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class X extends O{constructor(W){super(W,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class et extends O{constructor(W){super(W,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class k extends O{constructor(W){super(W,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class T extends O{constructor(W){super(W,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}s.StampAnnotationElement=T;class d extends O{constructor(G){var St;super(G,{isRenderable:!0});yt(this,$t);yt(this,vt,null);const{filename:at,content:bt}=this.data.file;this.filename=(0,h.getFilenameFromUrl)(at,!0),this.content=bt,(St=this.linkService.eventBus)==null||St.dispatch("fileattachmentannotation",{source:this,filename:at,content:bt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:G,data:at}=this;let bt;at.hasAppearance||at.fillAlpha===0?bt=document.createElement("div"):(bt=document.createElement("img"),bt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(at.name)?"paperclip":"pushpin"}.svg`,at.fillAlpha&&at.fillAlpha<1&&(bt.style=`filter: opacity(${Math.round(at.fillAlpha*100)}%);`)),bt.addEventListener("dblclick",lt(this,$t,Oc).bind(this)),At(this,vt,bt);const{isMac:St}=o.FeatureTest.platform;return G.addEventListener("keydown",Dt=>{Dt.key==="Enter"&&(St?Dt.metaKey:Dt.ctrlKey)&&lt(this,$t,Oc).call(this)}),!at.popupRef&&this.hasPopupData?this._createPopup():bt.classList.add("popupTriggerArea"),G.append(bt),G}getElementsToTriggerPopup(){return c(this,vt)}addHighlightArea(){this.container.classList.add("highlightArea")}}vt=new WeakMap,$t=new WeakSet,Oc=function(){var G;(G=this.downloadManager)==null||G.openOrDownloadData(this.container,this.content,this.filename)};class f{constructor({div:W,accessibilityManager:G,annotationCanvasMap:at,l10n:bt,page:St,viewport:Dt}){yt(this,Bt);yt(this,ce,null);yt(this,tt,null);yt(this,xt,new Map);this.div=W,At(this,ce,G),At(this,tt,at),this.l10n=bt,this.page=St,this.viewport=Dt,this.zIndex=0,this.l10n||(this.l10n=V.NullL10n)}async render(W){const{annotations:G}=W,at=this.div;(0,h.setLayerDimensions)(at,this.viewport);const bt=new Map,St={data:null,layer:at,linkService:W.linkService,downloadManager:W.downloadManager,imageResourcesPath:W.imageResourcesPath||"",renderForms:W.renderForms!==!1,svgFactory:new h.DOMSVGFactory,annotationStorage:W.annotationStorage||new L.AnnotationStorage,enableScripting:W.enableScripting===!0,hasJSActions:W.hasJSActions,fieldObjects:W.fieldObjects,parent:this,elements:null};for(const Dt of G){if(Dt.noHTML)continue;const Pt=Dt.annotationType===o.AnnotationType.POPUP;if(Pt){const Xt=bt.get(Dt.id);if(!Xt)continue;St.elements=Xt}else{const{width:Xt,height:re}=j(Dt.rect);if(Xt<=0||re<=0)continue}St.data=Dt;const te=M.create(St);if(!te.isRenderable)continue;if(!Pt&&Dt.popupRef){const Xt=bt.get(Dt.popupRef);Xt?Xt.push(te):bt.set(Dt.popupRef,[te])}te.annotationEditorType>0&&c(this,xt).set(te.data.id,te);const Zt=te.render();Dt.hidden&&(Zt.style.visibility="hidden"),lt(this,Bt,Wf).call(this,Zt,Dt.id)}lt(this,Bt,Nc).call(this),await this.l10n.translate(at)}update({viewport:W}){const G=this.div;this.viewport=W,(0,h.setLayerDimensions)(G,{rotation:W.rotation}),lt(this,Bt,Nc).call(this),G.hidden=!1}getEditableAnnotations(){return Array.from(c(this,xt).values())}getEditableAnnotation(W){return c(this,xt).get(W)}}ce=new WeakMap,tt=new WeakMap,xt=new WeakMap,Bt=new WeakSet,Wf=function(W,G){var bt;const at=W.firstChild||W;at.id=`${o.AnnotationPrefix}${G}`,this.div.append(W),(bt=c(this,ce))==null||bt.moveElementInDOM(this.div,W,at,!1)},Nc=function(){if(!c(this,tt))return;const W=this.div;for(const[G,at]of c(this,tt)){const bt=W.querySelector(`[data-annotation-id="${G}"]`);if(!bt)continue;const{firstChild:St}=bt;St?St.nodeName==="CANVAS"?St.replaceWith(at):St.before(at):bt.append(at)}c(this,tt).clear()},s.AnnotationLayer=f}),((l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function u(L){return Math.floor(Math.max(0,Math.min(1,L))*255).toString(16).padStart(2,"0")}function o(L){return Math.max(0,Math.min(255,255*L))}class h{static CMYK_G([D,V,S,b]){return["G",1-Math.min(1,.3*D+.59*S+.11*V+b)]}static G_CMYK([D]){return["CMYK",0,0,0,1-D]}static G_RGB([D]){return["RGB",D,D,D]}static G_rgb([D]){return D=o(D),[D,D,D]}static G_HTML([D]){const V=u(D);return`#${V}${V}${V}`}static RGB_G([D,V,S]){return["G",.3*D+.59*V+.11*S]}static RGB_rgb(D){return D.map(o)}static RGB_HTML(D){return`#${D.map(u).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([D,V,S,b]){return["RGB",1-Math.min(1,D+b),1-Math.min(1,S+b),1-Math.min(1,V+b)]}static CMYK_rgb([D,V,S,b]){return[o(1-Math.min(1,D+b)),o(1-Math.min(1,S+b)),o(1-Math.min(1,V+b))]}static CMYK_HTML(D){const V=this.CMYK_RGB(D).slice(1);return this.RGB_HTML(V)}static RGB_CMYK([D,V,S]){const b=1-D,y=1-V,w=1-S,j=Math.min(b,y,w);return["CMYK",b,y,w,j]}}s.ColorConverters=h}),((l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=o;const u={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};u.print_progress_percent="{{progress}}%";function o(D,V){switch(D){case"find_match_count":D=`find_match_count[${V.total===1?"one":"other"}]`;break;case"find_match_count_limit":D=`find_match_count_limit[${V.limit===1?"one":"other"}]`;break}return u[D]||""}function h(D,V){return V?D.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(S,b)=>b in V?V[b]:"{{"+b+"}}"):D}const L={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(D,V=null,S=o(D,V)){return h(S,V)},async translate(D){}};s.NullL10n=L}),((l,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var o=u(25);class h{static setupStorage(D,V,S,b,y){const w=b.getValue(V,{value:null});switch(S.name){case"textarea":if(w.value!==null&&(D.textContent=w.value),y==="print")break;D.addEventListener("input",j=>{b.setValue(V,{value:j.target.value})});break;case"input":if(S.attributes.type==="radio"||S.attributes.type==="checkbox"){if(w.value===S.attributes.xfaOn?D.setAttribute("checked",!0):w.value===S.attributes.xfaOff&&D.removeAttribute("checked"),y==="print")break;D.addEventListener("change",j=>{b.setValue(V,{value:j.target.checked?j.target.getAttribute("xfaOn"):j.target.getAttribute("xfaOff")})})}else{if(w.value!==null&&D.setAttribute("value",w.value),y==="print")break;D.addEventListener("input",j=>{b.setValue(V,{value:j.target.value})})}break;case"select":if(w.value!==null){D.setAttribute("value",w.value);for(const j of S.children)j.attributes.value===w.value?j.attributes.selected=!0:j.attributes.hasOwnProperty("selected")&&delete j.attributes.selected}D.addEventListener("input",j=>{const M=j.target.options,O=M.selectedIndex===-1?"":M[M.selectedIndex].value;b.setValue(V,{value:O})});break}}static setAttributes({html:D,element:V,storage:S=null,intent:b,linkService:y}){const{attributes:w}=V,j=D instanceof HTMLAnchorElement;w.type==="radio"&&(w.name=`${w.name}-${b}`);for(const[M,O]of Object.entries(w))if(O!=null)switch(M){case"class":O.length&&D.setAttribute(M,O.join(" "));break;case"dataId":break;case"id":D.setAttribute("data-element-id",O);break;case"style":Object.assign(D.style,O);break;case"textContent":D.textContent=O;break;default:(!j||M!=="href"&&M!=="newWindow")&&D.setAttribute(M,O)}j&&y.addLinkAttributes(D,w.href,w.newWindow),S&&w.dataId&&this.setupStorage(D,w.dataId,V,S)}static render(D){var F;const V=D.annotationStorage,S=D.linkService,b=D.xfaHtml,y=D.intent||"display",w=document.createElement(b.name);b.attributes&&this.setAttributes({html:w,element:b,intent:y,linkService:S});const j=[[b,-1,w]],M=D.div;if(M.append(w),D.viewport){const x=`matrix(${D.viewport.transform.join(",")})`;M.style.transform=x}y!=="richText"&&M.setAttribute("class","xfaLayer xfaFont");const O=[];for(;j.length>0;){const[x,m,R]=j.at(-1);if(m+1===x.children.length){j.pop();continue}const U=x.children[++j.at(-1)[1]];if(U===null)continue;const{name:P}=U;if(P==="#text"){const E=document.createTextNode(U.value);O.push(E),R.append(E);continue}const v=(F=U==null?void 0:U.attributes)!=null&&F.xmlns?document.createElementNS(U.attributes.xmlns,P):document.createElement(P);if(R.append(v),U.attributes&&this.setAttributes({html:v,element:U,storage:V,intent:y,linkService:S}),U.children&&U.children.length>0)j.push([U,-1,v]);else if(U.value){const E=document.createTextNode(U.value);o.XfaText.shouldBuildText(P)&&O.push(E),v.append(E)}}for(const x of M.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))x.setAttribute("readOnly",!0);return{textDivs:O}}static update(D){const V=`matrix(${D.viewport.transform.join(",")})`;D.div.style.transform=V,D.div.hidden=!1}}s.XfaLayer=h}),((l,s,u)=>{var b,y,w,j,M,O,F,x,m,R,U,P,v,E,p,Qf,Zf,Jf,$f,kc,tp,Lc,ep,np,ip,ap,sp,ni,Fc,Yr,Vr,wa,jc,Kr,K,rp,Pc,op,lp,zc,Wr,Ma;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0;var o=u(1),h=u(4),L=u(29),D=u(6),V=u(5);const jt=class jt extends h.AnnotationEditor{constructor(I){super({...I,name:"inkEditor"});yt(this,p);yt(this,b,0);yt(this,y,0);yt(this,w,this.canvasPointermove.bind(this));yt(this,j,this.canvasPointerleave.bind(this));yt(this,M,this.canvasPointerup.bind(this));yt(this,O,this.canvasPointerdown.bind(this));yt(this,F,new Path2D);yt(this,x,!1);yt(this,m,!1);yt(this,R,!1);yt(this,U,null);yt(this,P,0);yt(this,v,0);yt(this,E,null);this.color=I.color||null,this.thickness=I.thickness||null,this.opacity=I.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(I){h.AnnotationEditor.initialize(I,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(I,$){switch(I){case o.AnnotationEditorParamsType.INK_THICKNESS:jt._defaultThickness=$;break;case o.AnnotationEditorParamsType.INK_COLOR:jt._defaultColor=$;break;case o.AnnotationEditorParamsType.INK_OPACITY:jt._defaultOpacity=$/100;break}}updateParams(I,$){switch(I){case o.AnnotationEditorParamsType.INK_THICKNESS:lt(this,p,Qf).call(this,$);break;case o.AnnotationEditorParamsType.INK_COLOR:lt(this,p,Zf).call(this,$);break;case o.AnnotationEditorParamsType.INK_OPACITY:lt(this,p,Jf).call(this,$);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,jt._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,jt._defaultColor||h.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(jt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||jt._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||jt._defaultColor||h.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??jt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(lt(this,p,Yr).call(this),lt(this,p,Vr).call(this)),this.isAttachedToDOM||(this.parent.add(this),lt(this,p,wa).call(this)),lt(this,p,Ma).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,U).disconnect(),At(this,U,null),super.remove())}setParent(I){!this.parent&&I?this._uiManager.removeShouldRescale(this):this.parent&&I===null&&this._uiManager.addShouldRescale(this),super.setParent(I)}onScaleChanging(){const[I,$]=this.parentDimensions,ot=this.width*I,gt=this.height*$;this.setDimensions(ot,gt)}enableEditMode(){c(this,x)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",c(this,O)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",c(this,O)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,x)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),At(this,x,!0),this.div.classList.add("disabled"),lt(this,p,Ma).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(I){this._focusEventsAllowed&&(super.focusin(I),this.enableEditMode())}canvasPointerdown(I){I.button!==0||!this.isInEditMode()||c(this,x)||(this.setInForeground(),I.preventDefault(),I.type!=="mouse"&&this.div.focus(),lt(this,p,tp).call(this,I.offsetX,I.offsetY))}canvasPointermove(I){I.preventDefault(),lt(this,p,Lc).call(this,I.offsetX,I.offsetY)}canvasPointerup(I){I.preventDefault(),lt(this,p,Fc).call(this,I)}canvasPointerleave(I){lt(this,p,Fc).call(this,I)}get isResizable(){return!this.isEmpty()&&c(this,x)}render(){if(this.div)return this.div;let I,$;this.width&&(I=this.x,$=this.y),super.render(),h.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Ot=>{var ct;return(ct=this.div)==null?void 0:ct.setAttribute("aria-label",Ot)});const[ot,gt,wt,zt]=lt(this,p,$f).call(this);if(this.setAt(ot,gt,0,0),this.setDims(wt,zt),lt(this,p,Yr).call(this),this.width){const[Ot,ct]=this.parentDimensions;this.setAspectRatio(this.width*Ot,this.height*ct),this.setAt(I*Ot,$*ct,this.width*Ot,this.height*ct),At(this,R,!0),lt(this,p,wa).call(this),this.setDims(this.width*Ot,this.height*ct),lt(this,p,ni).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return lt(this,p,Vr).call(this),this.div}setDimensions(I,$){const ot=Math.round(I),gt=Math.round($);if(c(this,P)===ot&&c(this,v)===gt)return;At(this,P,ot),At(this,v,gt),this.canvas.style.visibility="hidden";const[wt,zt]=this.parentDimensions;this.width=I/wt,this.height=$/zt,this.fixAndSetPosition(),c(this,x)&&lt(this,p,jc).call(this,I,$),lt(this,p,wa).call(this),lt(this,p,ni).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(I,$,ot){var ne,de,he;if(I instanceof L.InkAnnotationElement)return null;const gt=super.deserialize(I,$,ot);gt.thickness=I.thickness,gt.color=o.Util.makeHexColor(...I.color),gt.opacity=I.opacity;const[wt,zt]=gt.pageDimensions,Ot=gt.width*wt,ct=gt.height*zt,Gt=gt.parentScale,It=I.thickness/2;At(gt,x,!0),At(gt,P,Math.round(Ot)),At(gt,v,Math.round(ct));const{paths:ae,rect:ie,rotation:fe}=I;for(let{bezier:kt}of ae){kt=lt(ne=jt,K,op).call(ne,kt,ie,fe);const ht=[];gt.paths.push(ht);let vt=Gt*(kt[0]-It),$t=Gt*(kt[1]-It);for(let ce=2,tt=kt.length;ce<tt;ce+=6){const xt=Gt*(kt[ce]-It),Bt=Gt*(kt[ce+1]-It),Vt=Gt*(kt[ce+2]-It),Jt=Gt*(kt[ce+3]-It),Yt=Gt*(kt[ce+4]-It),W=Gt*(kt[ce+5]-It);ht.push([[vt,$t],[xt,Bt],[Vt,Jt],[Yt,W]]),vt=Yt,$t=W}const ge=lt(this,K,rp).call(this,ht);gt.bezierPath2D.push(ge)}const Qt=lt(de=gt,p,zc).call(de);return At(gt,y,Math.max(h.AnnotationEditor.MIN_SIZE,Qt[2]-Qt[0])),At(gt,b,Math.max(h.AnnotationEditor.MIN_SIZE,Qt[3]-Qt[1])),lt(he=gt,p,jc).call(he,Ot,ct),gt}serialize(){if(this.isEmpty())return null;const I=this.getRect(0,0),$=h.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:$,thickness:this.thickness,opacity:this.opacity,paths:lt(this,p,lp).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,I),pageIndex:this.pageIndex,rect:I,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};b=new WeakMap,y=new WeakMap,w=new WeakMap,j=new WeakMap,M=new WeakMap,O=new WeakMap,F=new WeakMap,x=new WeakMap,m=new WeakMap,R=new WeakMap,U=new WeakMap,P=new WeakMap,v=new WeakMap,E=new WeakMap,p=new WeakSet,Qf=function(I){const $=this.thickness;this.addCommands({cmd:()=>{this.thickness=I,lt(this,p,Ma).call(this)},undo:()=>{this.thickness=$,lt(this,p,Ma).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Zf=function(I){const $=this.color;this.addCommands({cmd:()=>{this.color=I,lt(this,p,ni).call(this)},undo:()=>{this.color=$,lt(this,p,ni).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Jf=function(I){I/=100;const $=this.opacity;this.addCommands({cmd:()=>{this.opacity=I,lt(this,p,ni).call(this)},undo:()=>{this.opacity=$,lt(this,p,ni).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},$f=function(){const{parentRotation:I,parentDimensions:[$,ot]}=this;switch(I){case 90:return[0,ot,ot,$];case 180:return[$,ot,$,ot];case 270:return[$,0,ot,$];default:return[0,0,$,ot]}},kc=function(){const{ctx:I,color:$,opacity:ot,thickness:gt,parentScale:wt,scaleFactor:zt}=this;I.lineWidth=gt*wt/zt,I.lineCap="round",I.lineJoin="round",I.miterLimit=10,I.strokeStyle=`${$}${(0,V.opacityToHex)(ot)}`},tp=function(I,$){this.canvas.addEventListener("contextmenu",D.noContextMenu),this.canvas.addEventListener("pointerleave",c(this,j)),this.canvas.addEventListener("pointermove",c(this,w)),this.canvas.addEventListener("pointerup",c(this,M)),this.canvas.removeEventListener("pointerdown",c(this,O)),this.isEditing=!0,c(this,R)||(At(this,R,!0),lt(this,p,wa).call(this),this.thickness||(this.thickness=jt._defaultThickness),this.color||(this.color=jt._defaultColor||h.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=jt._defaultOpacity)),this.currentPath.push([I,$]),At(this,m,!1),lt(this,p,kc).call(this),At(this,E,()=>{lt(this,p,ip).call(this),c(this,E)&&window.requestAnimationFrame(c(this,E))}),window.requestAnimationFrame(c(this,E))},Lc=function(I,$){const[ot,gt]=this.currentPath.at(-1);if(this.currentPath.length>1&&I===ot&&$===gt)return;const wt=this.currentPath;let zt=c(this,F);if(wt.push([I,$]),At(this,m,!0),wt.length<=2){zt.moveTo(...wt[0]),zt.lineTo(I,$);return}wt.length===3&&(At(this,F,zt=new Path2D),zt.moveTo(...wt[0])),lt(this,p,ap).call(this,zt,...wt.at(-3),...wt.at(-2),I,$)},ep=function(){if(this.currentPath.length===0)return;const I=this.currentPath.at(-1);c(this,F).lineTo(...I)},np=function(I,$){At(this,E,null),I=Math.min(Math.max(I,0),this.canvas.width),$=Math.min(Math.max($,0),this.canvas.height),lt(this,p,Lc).call(this,I,$),lt(this,p,ep).call(this);let ot;if(this.currentPath.length!==1)ot=lt(this,p,sp).call(this);else{const ct=[I,$];ot=[[ct,ct.slice(),ct.slice(),ct]]}const gt=c(this,F),wt=this.currentPath;this.currentPath=[],At(this,F,new Path2D);const zt=()=>{this.allRawPaths.push(wt),this.paths.push(ot),this.bezierPath2D.push(gt),this.rebuild()},Ot=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(lt(this,p,Yr).call(this),lt(this,p,Vr).call(this)),lt(this,p,Ma).call(this))};this.addCommands({cmd:zt,undo:Ot,mustExec:!0})},ip=function(){if(!c(this,m))return;At(this,m,!1);const I=Math.ceil(this.thickness*this.parentScale),$=this.currentPath.slice(-3),ot=$.map(zt=>zt[0]),gt=$.map(zt=>zt[1]);Math.min(...ot)-I,Math.max(...ot)+I,Math.min(...gt)-I,Math.max(...gt)+I;const{ctx:wt}=this;wt.save(),wt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const zt of this.bezierPath2D)wt.stroke(zt);wt.stroke(c(this,F)),wt.restore()},ap=function(I,$,ot,gt,wt,zt,Ot){const ct=($+gt)/2,Gt=(ot+wt)/2,It=(gt+zt)/2,ae=(wt+Ot)/2;I.bezierCurveTo(ct+2*(gt-ct)/3,Gt+2*(wt-Gt)/3,It+2*(gt-It)/3,ae+2*(wt-ae)/3,It,ae)},sp=function(){const I=this.currentPath;if(I.length<=2)return[[I[0],I[0],I.at(-1),I.at(-1)]];const $=[];let ot,[gt,wt]=I[0];for(ot=1;ot<I.length-2;ot++){const[ie,fe]=I[ot],[Qt,ne]=I[ot+1],de=(ie+Qt)/2,he=(fe+ne)/2,kt=[gt+2*(ie-gt)/3,wt+2*(fe-wt)/3],ht=[de+2*(ie-de)/3,he+2*(fe-he)/3];$.push([[gt,wt],kt,ht,[de,he]]),[gt,wt]=[de,he]}const[zt,Ot]=I[ot],[ct,Gt]=I[ot+1],It=[gt+2*(zt-gt)/3,wt+2*(Ot-wt)/3],ae=[ct+2*(zt-ct)/3,Gt+2*(Ot-Gt)/3];return $.push([[gt,wt],It,ae,[ct,Gt]]),$},ni=function(){if(this.isEmpty()){lt(this,p,Kr).call(this);return}lt(this,p,kc).call(this);const{canvas:I,ctx:$}=this;$.setTransform(1,0,0,1,0,0),$.clearRect(0,0,I.width,I.height),lt(this,p,Kr).call(this);for(const ot of this.bezierPath2D)$.stroke(ot)},Fc=function(I){this.canvas.removeEventListener("pointerleave",c(this,j)),this.canvas.removeEventListener("pointermove",c(this,w)),this.canvas.removeEventListener("pointerup",c(this,M)),this.canvas.addEventListener("pointerdown",c(this,O)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",D.noContextMenu)},10),lt(this,p,np).call(this,I.offsetX,I.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Yr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",h.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(I=>{var $;return($=this.canvas)==null?void 0:$.setAttribute("aria-label",I)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Vr=function(){At(this,U,new ResizeObserver(I=>{const $=I[0].contentRect;$.width&&$.height&&this.setDimensions($.width,$.height)})),c(this,U).observe(this.div)},wa=function(){if(!c(this,R))return;const[I,$]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*I),this.canvas.height=Math.ceil(this.height*$),lt(this,p,Kr).call(this)},jc=function(I,$){const ot=lt(this,p,Wr).call(this),gt=(I-ot)/c(this,y),wt=($-ot)/c(this,b);this.scaleFactor=Math.min(gt,wt)},Kr=function(){const I=lt(this,p,Wr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+I,this.translationY*this.scaleFactor+I)},K=new WeakSet,rp=function(I){const $=new Path2D;for(let ot=0,gt=I.length;ot<gt;ot++){const[wt,zt,Ot,ct]=I[ot];ot===0&&$.moveTo(...wt),$.bezierCurveTo(zt[0],zt[1],Ot[0],Ot[1],ct[0],ct[1])}return $},Pc=function(I,$,ot){const[gt,wt,zt,Ot]=$;switch(ot){case 0:for(let ct=0,Gt=I.length;ct<Gt;ct+=2)I[ct]+=gt,I[ct+1]=Ot-I[ct+1];break;case 90:for(let ct=0,Gt=I.length;ct<Gt;ct+=2){const It=I[ct];I[ct]=I[ct+1]+gt,I[ct+1]=It+wt}break;case 180:for(let ct=0,Gt=I.length;ct<Gt;ct+=2)I[ct]=zt-I[ct],I[ct+1]+=wt;break;case 270:for(let ct=0,Gt=I.length;ct<Gt;ct+=2){const It=I[ct];I[ct]=zt-I[ct+1],I[ct+1]=Ot-It}break;default:throw new Error("Invalid rotation")}return I},op=function(I,$,ot){const[gt,wt,zt,Ot]=$;switch(ot){case 0:for(let ct=0,Gt=I.length;ct<Gt;ct+=2)I[ct]-=gt,I[ct+1]=Ot-I[ct+1];break;case 90:for(let ct=0,Gt=I.length;ct<Gt;ct+=2){const It=I[ct];I[ct]=I[ct+1]-wt,I[ct+1]=It-gt}break;case 180:for(let ct=0,Gt=I.length;ct<Gt;ct+=2)I[ct]=zt-I[ct],I[ct+1]-=wt;break;case 270:for(let ct=0,Gt=I.length;ct<Gt;ct+=2){const It=I[ct];I[ct]=Ot-I[ct+1],I[ct+1]=zt-It}break;default:throw new Error("Invalid rotation")}return I},lp=function(I,$,ot,gt){var Gt,It;const wt=[],zt=this.thickness/2,Ot=I*$+zt,ct=I*ot+zt;for(const ae of this.paths){const ie=[],fe=[];for(let Qt=0,ne=ae.length;Qt<ne;Qt++){const[de,he,kt,ht]=ae[Qt],vt=I*de[0]+Ot,$t=I*de[1]+ct,ge=I*he[0]+Ot,ce=I*he[1]+ct,tt=I*kt[0]+Ot,xt=I*kt[1]+ct,Bt=I*ht[0]+Ot,Vt=I*ht[1]+ct;Qt===0&&(ie.push(vt,$t),fe.push(vt,$t)),ie.push(ge,ce,tt,xt,Bt,Vt),fe.push(ge,ce),Qt===ne-1&&fe.push(Bt,Vt)}wt.push({bezier:lt(Gt=jt,K,Pc).call(Gt,ie,gt,this.rotation),points:lt(It=jt,K,Pc).call(It,fe,gt,this.rotation)})}return wt},zc=function(){let I=1/0,$=-1/0,ot=1/0,gt=-1/0;for(const wt of this.paths)for(const[zt,Ot,ct,Gt]of wt){const It=o.Util.bezierBoundingBox(...zt,...Ot,...ct,...Gt);I=Math.min(I,It[0]),ot=Math.min(ot,It[1]),$=Math.max($,It[2]),gt=Math.max(gt,It[3])}return[I,ot,$,gt]},Wr=function(){return c(this,x)?Math.ceil(this.thickness*this.parentScale):0},Ma=function(I=!1){if(this.isEmpty())return;if(!c(this,x)){lt(this,p,ni).call(this);return}const $=lt(this,p,zc).call(this),ot=lt(this,p,Wr).call(this);At(this,y,Math.max(h.AnnotationEditor.MIN_SIZE,$[2]-$[0])),At(this,b,Math.max(h.AnnotationEditor.MIN_SIZE,$[3]-$[1]));const gt=Math.ceil(ot+c(this,y)*this.scaleFactor),wt=Math.ceil(ot+c(this,b)*this.scaleFactor),[zt,Ot]=this.parentDimensions;this.width=gt/zt,this.height=wt/Ot,this.setAspectRatio(gt,wt);const ct=this.translationX,Gt=this.translationY;this.translationX=-$[0],this.translationY=-$[1],lt(this,p,wa).call(this),lt(this,p,ni).call(this),At(this,P,gt),At(this,v,wt),this.setDims(gt,wt);const It=I?ot/this.scaleFactor/2:0;this.translate(ct-this.translationX-It,Gt-this.translationY-It)},yt(jt,K),De(jt,"_defaultColor",null),De(jt,"_defaultOpacity",1),De(jt,"_defaultThickness",1),De(jt,"_type","ink");let S=jt;s.InkEditor=S}),((l,s,u)=>{var S,b,y,w,j,M,O,F,x,m,R,Es,Cs,Qr,Uc,cp,up,Bc,Zr,dp;Object.defineProperty(s,"__esModule",{value:!0}),s.StampEditor=void 0;var o=u(1),h=u(4),L=u(6),D=u(29);const z=class z extends h.AnnotationEditor{constructor(nt){super({...nt,name:"stampEditor"});yt(this,R);yt(this,S,null);yt(this,b,null);yt(this,y,null);yt(this,w,null);yt(this,j,null);yt(this,M,null);yt(this,O,null);yt(this,F,null);yt(this,x,!1);yt(this,m,!1);At(this,w,nt.bitmapUrl),At(this,j,nt.bitmapFile)}static initialize(nt){h.AnnotationEditor.initialize(nt)}static get supportedTypes(){const nt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",nt.map(B=>`image/${B}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(nt){return this.supportedTypes.includes(nt)}static paste(nt,B){B.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:nt.getAsFile()})}remove(){var nt,B;c(this,b)&&(At(this,S,null),this._uiManager.imageManager.deleteId(c(this,b)),(nt=c(this,M))==null||nt.remove(),At(this,M,null),(B=c(this,O))==null||B.disconnect(),At(this,O,null)),super.remove()}rebuild(){if(!this.parent){c(this,b)&&lt(this,R,Qr).call(this);return}super.rebuild(),this.div!==null&&(c(this,b)&&lt(this,R,Qr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,y)||c(this,S)||c(this,w)||c(this,j))}get isResizable(){return!0}render(){if(this.div)return this.div;let nt,B;if(this.width&&(nt=this.x,B=this.y),super.render(),this.div.hidden=!0,c(this,S)?lt(this,R,Uc).call(this):lt(this,R,Qr).call(this),this.width){const[Y,st]=this.parentDimensions;this.setAt(nt*Y,B*st,this.width*Y,this.height*st)}return this.div}static deserialize(nt,B,Y){if(nt instanceof D.StampAnnotationElement)return null;const st=super.deserialize(nt,B,Y),{rect:X,bitmapUrl:et,bitmapId:k,isSvg:T,accessibilityData:d}=nt;k&&Y.imageManager.isValidId(k)?At(st,b,k):At(st,w,et),At(st,x,T);const[f,N]=st.pageDimensions;return st.width=(X[2]-X[0])/f,st.height=(X[3]-X[1])/N,d&&(st.altTextData=d),st}serialize(nt=!1,B=null){if(this.isEmpty())return null;const Y={annotationType:o.AnnotationEditorType.STAMP,bitmapId:c(this,b),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,x),structTreeParentId:this._structTreeParentId};if(nt)return Y.bitmapUrl=lt(this,R,Zr).call(this,!0),Y.accessibilityData=this.altTextData,Y;const{decorative:st,altText:X}=this.altTextData;if(!st&&X&&(Y.accessibilityData={type:"Figure",alt:X}),B===null)return Y;B.stamps||(B.stamps=new Map);const et=c(this,x)?(Y.rect[2]-Y.rect[0])*(Y.rect[3]-Y.rect[1]):null;if(!B.stamps.has(c(this,b)))B.stamps.set(c(this,b),{area:et,serialized:Y}),Y.bitmap=lt(this,R,Zr).call(this,!1);else if(c(this,x)){const k=B.stamps.get(c(this,b));et>k.area&&(k.area=et,k.serialized.bitmap.close(),k.serialized.bitmap=lt(this,R,Zr).call(this,!1))}return Y}};S=new WeakMap,b=new WeakMap,y=new WeakMap,w=new WeakMap,j=new WeakMap,M=new WeakMap,O=new WeakMap,F=new WeakMap,x=new WeakMap,m=new WeakMap,R=new WeakSet,Es=function(nt,B=!1){if(!nt){this.remove();return}At(this,S,nt.bitmap),B||(At(this,b,nt.id),At(this,x,nt.isSvg)),lt(this,R,Uc).call(this)},Cs=function(){At(this,y,null),this._uiManager.enableWaiting(!1),c(this,M)&&this.div.focus()},Qr=function(){if(c(this,b)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,b)).then(B=>lt(this,R,Es).call(this,B,!0)).finally(()=>lt(this,R,Cs).call(this));return}if(c(this,w)){const B=c(this,w);At(this,w,null),this._uiManager.enableWaiting(!0),At(this,y,this._uiManager.imageManager.getFromUrl(B).then(Y=>lt(this,R,Es).call(this,Y)).finally(()=>lt(this,R,Cs).call(this)));return}if(c(this,j)){const B=c(this,j);At(this,j,null),this._uiManager.enableWaiting(!0),At(this,y,this._uiManager.imageManager.getFromFile(B).then(Y=>lt(this,R,Es).call(this,Y)).finally(()=>lt(this,R,Cs).call(this)));return}const nt=document.createElement("input");nt.type="file",nt.accept=z.supportedTypesStr,At(this,y,new Promise(B=>{nt.addEventListener("change",async()=>{if(!nt.files||nt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Y=await this._uiManager.imageManager.getFromFile(nt.files[0]);lt(this,R,Es).call(this,Y)}B()}),nt.addEventListener("cancel",()=>{this.remove(),B()})}).finally(()=>lt(this,R,Cs).call(this))),nt.click()},Uc=function(){const{div:nt}=this;let{width:B,height:Y}=c(this,S);const[st,X]=this.pageDimensions,et=.75;if(this.width)B=this.width*st,Y=this.height*X;else if(B>et*st||Y>et*X){const f=Math.min(et*st/B,et*X/Y);B*=f,Y*=f}const[k,T]=this.parentDimensions;this.setDims(B*k/st,Y*T/X),this._uiManager.enableWaiting(!1);const d=At(this,M,document.createElement("canvas"));nt.append(d),nt.hidden=!1,lt(this,R,Bc).call(this,B,Y),lt(this,R,dp).call(this),c(this,m)||(this.parent.addUndoableEditor(this),At(this,m,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},cp=function(nt,B){var et;const[Y,st]=this.parentDimensions;this.width=nt/Y,this.height=B/st,this.setDims(nt,B),(et=this._initialOptions)!=null&&et.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,F)!==null&&clearTimeout(c(this,F)),At(this,F,setTimeout(()=>{At(this,F,null),lt(this,R,Bc).call(this,nt,B)},200))},up=function(nt,B){const{width:Y,height:st}=c(this,S);let X=Y,et=st,k=c(this,S);for(;X>2*nt||et>2*B;){const T=X,d=et;X>2*nt&&(X=X>=16384?Math.floor(X/2)-1:Math.ceil(X/2)),et>2*B&&(et=et>=16384?Math.floor(et/2)-1:Math.ceil(et/2));const f=new OffscreenCanvas(X,et);f.getContext("2d").drawImage(k,0,0,T,d,0,0,X,et),k=f.transferToImageBitmap()}return k},Bc=function(nt,B){nt=Math.ceil(nt),B=Math.ceil(B);const Y=c(this,M);if(!Y||Y.width===nt&&Y.height===B)return;Y.width=nt,Y.height=B;const st=c(this,x)?c(this,S):lt(this,R,up).call(this,nt,B),X=Y.getContext("2d");X.filter=this._uiManager.hcmFilter,X.drawImage(st,0,0,st.width,st.height,0,0,nt,B)},Zr=function(nt){if(nt){if(c(this,x)){const st=this._uiManager.imageManager.getSvgUrl(c(this,b));if(st)return st}const B=document.createElement("canvas");return{width:B.width,height:B.height}=c(this,S),B.getContext("2d").drawImage(c(this,S),0,0),B.toDataURL()}if(c(this,x)){const[B,Y]=this.pageDimensions,st=Math.round(this.width*B*L.PixelsPerInch.PDF_TO_CSS_UNITS),X=Math.round(this.height*Y*L.PixelsPerInch.PDF_TO_CSS_UNITS),et=new OffscreenCanvas(st,X);return et.getContext("2d").drawImage(c(this,S),0,0,c(this,S).width,c(this,S).height,0,0,st,X),et.transferToImageBitmap()}return structuredClone(c(this,S))},dp=function(){At(this,O,new ResizeObserver(nt=>{const B=nt[0].contentRect;B.width&&B.height&&lt(this,R,cp).call(this,B.width,B.height)})),c(this,O).observe(this.div)},De(z,"_type","stamp");let V=z;s.StampEditor=V})],__webpack_module_cache__={};function __w_pdfjs_require__(l){var s=__webpack_module_cache__[l];if(s!==void 0)return s.exports;var u=__webpack_module_cache__[l]={exports:{}};return __webpack_modules__[l](u,u.exports,__w_pdfjs_require__),u.exports}var __webpack_exports__={};return(()=>{var l=__webpack_exports__;Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(l,"AnnotationEditorLayer",{enumerable:!0,get:function(){return L.AnnotationEditorLayer}}),Object.defineProperty(l,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(l,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(l,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return D.AnnotationEditorUIManager}}),Object.defineProperty(l,"AnnotationLayer",{enumerable:!0,get:function(){return V.AnnotationLayer}}),Object.defineProperty(l,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(l,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(l,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(l,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(l,"GlobalWorkerOptions",{enumerable:!0,get:function(){return S.GlobalWorkerOptions}}),Object.defineProperty(l,"ImageKind",{enumerable:!0,get:function(){return s.ImageKind}}),Object.defineProperty(l,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(l,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(l,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(l,"PDFDataRangeTransport",{enumerable:!0,get:function(){return u.PDFDataRangeTransport}}),Object.defineProperty(l,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(l,"PDFWorker",{enumerable:!0,get:function(){return u.PDFWorker}}),Object.defineProperty(l,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(l,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(l,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(l,"PromiseCapability",{enumerable:!0,get:function(){return s.PromiseCapability}}),Object.defineProperty(l,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(l,"SVGGraphics",{enumerable:!0,get:function(){return u.SVGGraphics}}),Object.defineProperty(l,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(l,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(l,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(l,"XfaLayer",{enumerable:!0,get:function(){return b.XfaLayer}}),Object.defineProperty(l,"build",{enumerable:!0,get:function(){return u.build}}),Object.defineProperty(l,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(l,"getDocument",{enumerable:!0,get:function(){return u.getDocument}}),Object.defineProperty(l,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(l,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(l,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(l,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(l,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(l,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(l,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(l,"normalizeUnicode",{enumerable:!0,get:function(){return s.normalizeUnicode}}),Object.defineProperty(l,"renderTextLayer",{enumerable:!0,get:function(){return h.renderTextLayer}}),Object.defineProperty(l,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(l,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(l,"updateTextLayer",{enumerable:!0,get:function(){return h.updateTextLayer}}),Object.defineProperty(l,"version",{enumerable:!0,get:function(){return u.version}});var s=__w_pdfjs_require__(1),u=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),h=__w_pdfjs_require__(26),L=__w_pdfjs_require__(27),D=__w_pdfjs_require__(5),V=__w_pdfjs_require__(29),S=__w_pdfjs_require__(14),b=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf)),pdf.exports}var pdfExports=requirePdf();pdfExports.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";const processPdfFile=async l=>{try{const s=await l.arrayBuffer(),o=await pdfExports.getDocument({data:s}).promise,h=[],L=["Htf","Kedd","Szerda","Cstrtk","Pntek"];for(let D=1;D<=o.numPages;D++){const b=(await(await o.getPage(D)).getTextContent()).items;let y="",w=-1,j=-1;const M=[];if(b.forEach(m=>{const R=m.str.trim();L.includes(R)&&(m.transform[5]>j&&(j=m.transform[5]),M.push({name:R,x:m.transform[4]}))}),M.sort((m,R)=>m.x-R.x),M.length===0)continue;if(b.forEach(m=>{const R=m.transform[5],U=m.str.trim();R>j+20&&U&&U!=="KRTA"&&!U.includes("ht")&&!U.match(/^\d+$/)&&(!y||R>w)&&(y=U,w=R)}),!y){console.log(`Page ${D}: No teacher name found, skipping.`);continue}const O=[];b.forEach(m=>{const U=m.str.trim().match(/^(\d+)\.?$/);if(U){const P=parseInt(U[1]);m.transform[4]<100&&P>=1&&P<=8&&O.push({period:P,y:m.transform[5]})}}),O.sort((m,R)=>m.period-R.period);const F={Htf:[],Kedd:[],Szerda:[],Cstrtk:[],Pntek:[]};let x=100;M.length>1&&(x=M[1].x-M[0].x),L.forEach((m,R)=>{const U=M.find(E=>E.name===m);if(!U)return;const P=U.x-10,v=R<M.length-1?M[R+1].x-10:U.x+x;for(let E=1;E<=8;E++){const p=O.find(z=>z.period===E);if(!p){F[m].push(E);continue}let _=p.y+10,C=p.y-20;const Z=O.find(z=>z.period===E+1);if(Z)C=Z.y+10;else{const z=O.find(Q=>Q.period===E-1);if(z){const Q=z.y-p.y;C=p.y-Q+10}}let A=!1;for(const z of b){const Q=z.transform[4],ut=z.transform[5];if(z.str.trim()&&Q>=P&&Q<=v&&ut>=C&&ut<=_&&Q>100){A=!0;break}}A||F[m].push(E)}}),h.push({name:y,freePeriods:F}),console.log(`Processed ${y}:`,F)}return h}catch(s){throw console.error("Rszletes PDF hiba:",s),new Error(`PDF feldolgozsi hiba: ${s.message||s}`)}},Header=()=>jsxRuntimeExports.jsxs("header",{className:"text-center py-6 bg-white rounded-xl shadow-lg border border-gray-200",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-800 tracking-tight",children:"Krta Helyettests sszest"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-md text-gray-500",children:"Automatizlt kimutats a helyettestsek szmrl, havi bontsban"})]}),UploadIcon=()=>jsxRuntimeExports.jsxs("svg",{className:"w-10 h-10 mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-4-4V6a4 4 0 014-4h10a4 4 0 014 4v6a4 4 0 01-4 4H7z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 16v-4m0 0l-2 2m2-2l2 2m-2-2v-4"})]}),FileUpload=({onFileChange:l,onProcess:s,isLoading:u,selectedFile:o})=>{const h=reactExports.useRef(null),L=S=>{const b=S.target.files?S.target.files[0]:null;l(b)},D=S=>{S.preventDefault()},V=S=>{S.preventDefault();const b=S.dataTransfer.files?S.dataTransfer.files[0]:null;l(b)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[jsxRuntimeExports.jsxs("label",{onDragOver:D,onDrop:V,className:"flex flex-col items-center justify-center w-full h-48 px-4 transition bg-white border-2 border-gray-300 border-dashed rounded-md appearance-none cursor-pointer hover:border-blue-500 focus:outline-none",children:[jsxRuntimeExports.jsx(UploadIcon,{}),jsxRuntimeExports.jsx("span",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsxs("span",{className:"font-medium text-gray-600",children:["Hzza ide a fjlt, vagy ",jsxRuntimeExports.jsx("span",{className:"text-blue-600 underline",children:"kattintson a tallzshoz"})]})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tmogatott formtum: .xlsx, .xls"}),jsxRuntimeExports.jsx("input",{ref:h,type:"file",accept:".xlsx, .xls",onChange:L,className:"hidden"})]}),o&&jsxRuntimeExports.jsxs("div",{className:"text-center text-sm text-gray-700",children:["Kivlasztott fjl: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:o.name})]}),jsxRuntimeExports.jsx("button",{onClick:s,disabled:!o||u,className:"w-full sm:w-auto flex items-center justify-center px-8 py-3 text-base font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:u?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Feldolgozs..."]}):"Fjl feldolgozsa"})]})},PdfUpload=({onFileChange:l,onProcess:s,isLoading:u,selectedFile:o})=>{const h=reactExports.useRef(null),L=S=>{S.target.files&&S.target.files.length>0?l(S.target.files[0]):l(null)},D=S=>{S.preventDefault()},V=S=>{if(S.preventDefault(),S.dataTransfer.files&&S.dataTransfer.files.length>0){const b=S.dataTransfer.files[0];b.type==="application/pdf"?l(b):alert("Csak PDF fjl tlthet fel!")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:bg-gray-50 transition-colors cursor-pointer",onDragOver:D,onDrop:V,onClick:()=>{var S;return(S=h.current)==null?void 0:S.click()},children:[jsxRuntimeExports.jsx("input",{type:"file",ref:h,onChange:L,accept:".pdf",className:"hidden"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 font-medium",children:o?o.name:"Hzd ide a PDF fjlt, vagy kattints a tallzshoz"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:"Csak .pdf fjlok tmogatottak"})]})]}),jsxRuntimeExports.jsx("button",{onClick:s,disabled:!o||u,className:`w-full py-3 px-4 rounded-md text-white font-semibold shadow-md transition-all duration-200 flex items-center justify-center
          ${!o||u?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 hover:shadow-lg transform hover:-translate-y-0.5"}`,children:u?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Feldolgozs..."]}):"rarend Feldolgozsa"})]})},SortIcon=({direction:l})=>l?l==="ascending"?jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-blue-600 ml-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}):jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-blue-600 ml-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}):jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-gray-400 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})}),formatMonthHeader$1=l=>{try{const[s,u]=l.split("-");return new Date(parseInt(s,10),parseInt(u,10)-1).toLocaleString("hu-HU",{year:"numeric",month:"long"})}catch{return l}},ResultsTable=({data:l,requestSort:s,sortConfig:u,months:o})=>{const h=D=>{if(u.key===D)return u.direction},L=[{key:"name",label:"Pedaggus neve"},{key:"count",label:"sszesen"}];return jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white divide-y divide-gray-200 rounded-lg shadow border border-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Helyezs"}),L.map(({key:D,label:V})=>jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>s(D),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[V,jsxRuntimeExports.jsx(SortIcon,{direction:h(D)})]})},D)),o.map(D=>jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:formatMonthHeader$1(D)},D))]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((D,V)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-500",children:[V+1,"."]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:D.name}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-600 font-bold",children:D.count}),o.map(S=>jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-center",children:D.monthlyCounts[S]||0},S))]},D.name))})]})})},InstructionCard=()=>jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 text-blue-800 p-6 rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold mb-3",children:"tmutat a fjlformtumhoz"}),jsxRuntimeExports.jsx("p",{className:"mb-4",children:"Az alkalmazs a Krta rendszerbl exportlt helyettestsi napl feldolgozsra kszlt. Krjk, gyzdjn meg rla, hogy az Excel fjl a kvetkez oszlopokat tartalmazza a megfelel helyen (az adatoknak a 2. sortl kell kezddnik):"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside space-y-2 font-mono text-sm bg-white p-4 rounded border border-blue-200",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-blue-900",children:"A oszlop:"})," Dtum"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-blue-900",children:"B oszlop:"})," ra"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-blue-900",children:"G oszlop:"})," Helyettest tanr neve"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-blue-900",children:"H oszlop:"})," Osztly / Csoport"]})]}),jsxRuntimeExports.jsxs("p",{className:"mt-4 text-sm",children:[jsxRuntimeExports.jsx("strong",{children:"Fontos:"})," Az alkalmazs automatikusan kezeli a prhuzamos rkat. Ha egy tanr ugyanabban az idpontban tbb csoportot helyettest, az egyetlen helyettestsnek szmt. Az eredmnyek havi bontsban is megtekinthetk."]})]}),FilterControls=({nameFilter:l,onNameFilterChange:s,countFilter:u,onCountFilterChange:o,disabled:h})=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name-filter",className:"block text-sm font-medium text-gray-700",children:"Szrs nvre"}),jsxRuntimeExports.jsx("div",{className:"mt-1",children:jsxRuntimeExports.jsx("input",{type:"text",id:"name-filter",value:l,onChange:L=>s(L.target.value),placeholder:"Keress a nevek kztt...",disabled:h,className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md disabled:bg-gray-200"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"count-filter",className:"block text-sm font-medium text-gray-700",children:"Helyettestsek szma (aktulis hnap)"}),jsxRuntimeExports.jsx("div",{className:"mt-1",children:jsxRuntimeExports.jsx("input",{type:"number",id:"count-filter",value:u,onChange:L=>o(L.target.value),min:"0",placeholder:"Pl. 5",disabled:h,className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md disabled:bg-gray-200"})})]})]}),formatMonthHeader=l=>{try{const[s,u]=l.split("-");return new Date(parseInt(s,10),parseInt(u,10)-1).toLocaleString("hu-HU",{year:"numeric",month:"long"})}catch{return l}},exportToExcel=(l,s)=>{const u=new Set;l.forEach(S=>{Object.keys(S.monthlyCounts).forEach(b=>{u.add(b)})});const o=Array.from(u).sort((S,b)=>S.localeCompare(b)),h=l.map((S,b)=>{const y={Helyezs:b+1,"Pedaggus neve":S.name,sszesen:S.count};return o.forEach(w=>{const j=formatMonthHeader(w);y[j]=S.monthlyCounts[w]||0}),y}),L=XLSX.utils.json_to_sheet(h),D=XLSX.utils.book_new();XLSX.utils.book_append_sheet(D,L,"Havi Kimutats");const V=[{wch:10},{wch:40},{wch:12}];o.forEach(S=>{V.push({wch:formatMonthHeader(S).length+4})}),L["!cols"]=V,XLSX.writeFile(D,s)},ExportIcon=()=>jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),PrintIcon=()=>jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm2-9V5a2 2 0 00-2-2H9a2 2 0 00-2 2v3m10 0V5a2 2 0 00-2-2h-2"})}),ActionButtons=({data:l,disabled:s})=>{const u=()=>{const h=new Date().toISOString().slice(0,10);exportToExcel(l,`helyettesites_kimutatas_${h}.xlsx`)},o=()=>{window.print()};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4",children:[jsxRuntimeExports.jsxs("button",{onClick:u,disabled:s,className:"flex-1 inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[jsxRuntimeExports.jsx(ExportIcon,{}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:"Ments Excelbe"})]}),jsxRuntimeExports.jsxs("button",{onClick:o,disabled:s,className:"flex-1 inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:bg-gray-200 disabled:text-gray-400 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[jsxRuntimeExports.jsx(PrintIcon,{}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:"Nyomtats"})]})]})},FreeTeacherSearch=({schedules:l,substitutionData:s})=>{const[u,o]=reactExports.useState("Htf"),[h,L]=reactExports.useState(1),[D,V]=reactExports.useState([]),[S,b]=reactExports.useState(!1),y=["Htf","Kedd","Szerda","Cstrtk","Pntek"],w=[1,2,3,4,5,6,7,8,9,10];reactExports.useEffect(()=>{if(l.length>0){const m=l.map(R=>R.name);try{const R=JSON.parse(localStorage.getItem("khlista_excluded_teachers")||"[]"),U=m.filter(P=>!R.includes(P));V(U)}catch(R){console.error("Hiba a mentett belltsok betltsekor:",R),V(m)}}},[l]),reactExports.useEffect(()=>{if(l.length>0&&D.length>=0){const R=l.map(U=>U.name).filter(U=>!D.includes(U));localStorage.setItem("khlista_excluded_teachers",JSON.stringify(R))}},[D,l]);const j=m=>{V(R=>R.includes(m)?R.filter(U=>U!==m):[...R,m])},M=reactExports.useMemo(()=>{const m=new Date,R=m.getFullYear(),U=(m.getMonth()+1).toString().padStart(2,"0");return`${R}-${U}`},[]),O=reactExports.useMemo(()=>new Date().toLocaleString("hu-HU",{year:"numeric",month:"long"}),[]),F=reactExports.useMemo(()=>!l||l.length===0?[]:l.filter(m=>D.includes(m.name)).filter(m=>{const R=m.freePeriods[u];return R?R.includes(h):!1}).map(m=>{const R=s.find(P=>P.name.toLowerCase()===m.name.toLowerCase());let U=0;return R&&(U=R.monthlyCounts[M]||0),{...m,subCount:U}}).sort((m,R)=>m.name.localeCompare(R.name)),[l,u,h,D,s,M]),x=reactExports.useMemo(()=>l.map(m=>m.name).sort(),[l]);return jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200 mt-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Lyukasra Keres"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>b(!S),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Jelenlt kezelse (",D.length,"/",x.length,")"]}),S&&jsxRuntimeExports.jsx("div",{className:"absolute right-0 z-10 mt-2 w-72 bg-white border border-gray-200 rounded-md shadow-lg max-h-96 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Tanrok jelenlte"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>V(x),className:"text-xs text-blue-600 hover:text-blue-800",children:"Mind kijell"}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:"|"}),jsxRuntimeExports.jsx("button",{onClick:()=>V([]),className:"text-xs text-red-600 hover:text-red-800",children:"Mind trl"})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:x.map(m=>jsxRuntimeExports.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:D.includes(m),onChange:()=>j(m),className:"rounded text-blue-600 focus:ring-blue-500 h-4 w-4 border-gray-300"}),jsxRuntimeExports.jsx("span",{className:`text-sm ${D.includes(m)?"text-gray-900":"text-gray-400 line-through"}`,children:m})]},m))})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"day-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nap"}),jsxRuntimeExports.jsx("select",{id:"day-select",value:u,onChange:m=>o(m.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border",children:y.map(m=>jsxRuntimeExports.jsx("option",{value:m,children:m},m))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"period-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"ra"}),jsxRuntimeExports.jsx("select",{id:"period-select",value:h,onChange:m=>L(Number(m.target.value)),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border",children:w.map(m=>jsxRuntimeExports.jsxs("option",{value:m,children:[m,". ra"]},m))})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:["Szabad tanrok (",F.length," f)"]}),F.length>0?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:F.map((m,R)=>jsxRuntimeExports.jsx("div",{className:"flex items-center p-3 bg-green-50 rounded-lg border border-green-100 justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-green-200 flex items-center justify-center text-green-700 font-bold text-sm mr-3",children:m.name.charAt(0)}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-800 font-medium",children:m.name}),s.length>0&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:[O,": ",jsxRuntimeExports.jsx("strong",{children:m.subCount})," helyettests"]})]})]})},R))}):jsxRuntimeExports.jsx("p",{className:"text-gray-500 italic",children:"Nincs tallat a megadott idpontra (vagy mindenki hinyzik)."})]}),s.length===0&&jsxRuntimeExports.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md text-sm text-yellow-800 flex items-start",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("span",{children:'Tipp: Tlts fel egy Excel fjlt a "Helyettestsek" fln, hogy lsd a tanrok havi helyettestsi statisztikit is!'})]})]})},TableIcon=()=>jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M3 14h18M3 6h18M3 18h18"})});var reactDomExports=requireReactDom();const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function isWindow(l){const s=Object.prototype.toString.call(l);return s==="[object Window]"||s==="[object global]"}function isNode(l){return"nodeType"in l}function getWindow(l){var s,u;return l?isWindow(l)?l:isNode(l)&&(s=(u=l.ownerDocument)==null?void 0:u.defaultView)!=null?s:window:window}function isDocument(l){const{Document:s}=getWindow(l);return l instanceof s}function isHTMLElement(l){return isWindow(l)?!1:l instanceof getWindow(l).HTMLElement}function isSVGElement(l){return l instanceof getWindow(l).SVGElement}function getOwnerDocument(l){return l?isWindow(l)?l.document:isNode(l)?isDocument(l)?l:isHTMLElement(l)||isSVGElement(l)?l.ownerDocument:document:document:document}const useIsomorphicLayoutEffect=canUseDOM?reactExports.useLayoutEffect:reactExports.useEffect;function useEvent(l){const s=reactExports.useRef(l);return useIsomorphicLayoutEffect(()=>{s.current=l}),reactExports.useCallback(function(){for(var u=arguments.length,o=new Array(u),h=0;h<u;h++)o[h]=arguments[h];return s.current==null?void 0:s.current(...o)},[])}function useInterval(){const l=reactExports.useRef(null),s=reactExports.useCallback((o,h)=>{l.current=setInterval(o,h)},[]),u=reactExports.useCallback(()=>{l.current!==null&&(clearInterval(l.current),l.current=null)},[]);return[s,u]}function useLatestValue(l,s){s===void 0&&(s=[l]);const u=reactExports.useRef(l);return useIsomorphicLayoutEffect(()=>{u.current!==l&&(u.current=l)},s),u}function useLazyMemo(l,s){const u=reactExports.useRef();return reactExports.useMemo(()=>{const o=l(u.current);return u.current=o,o},[...s])}function useNodeRef(l){const s=useEvent(l),u=reactExports.useRef(null),o=reactExports.useCallback(h=>{h!==u.current&&(s==null||s(h,u.current)),u.current=h},[]);return[u,o]}function usePrevious(l){const s=reactExports.useRef();return reactExports.useEffect(()=>{s.current=l},[l]),s.current}let ids={};function useUniqueId(l,s){return reactExports.useMemo(()=>{if(s)return s;const u=ids[l]==null?0:ids[l]+1;return ids[l]=u,l+"-"+u},[l,s])}function createAdjustmentFn(l){return function(s){for(var u=arguments.length,o=new Array(u>1?u-1:0),h=1;h<u;h++)o[h-1]=arguments[h];return o.reduce((L,D)=>{const V=Object.entries(D);for(const[S,b]of V){const y=L[S];y!=null&&(L[S]=y+l*b)}return L},{...s})}}const add=createAdjustmentFn(1),subtract=createAdjustmentFn(-1);function hasViewportRelativeCoordinates(l){return"clientX"in l&&"clientY"in l}function isKeyboardEvent(l){if(!l)return!1;const{KeyboardEvent:s}=getWindow(l.target);return s&&l instanceof s}function isTouchEvent(l){if(!l)return!1;const{TouchEvent:s}=getWindow(l.target);return s&&l instanceof s}function getEventCoordinates(l){if(isTouchEvent(l)){if(l.touches&&l.touches.length){const{clientX:s,clientY:u}=l.touches[0];return{x:s,y:u}}else if(l.changedTouches&&l.changedTouches.length){const{clientX:s,clientY:u}=l.changedTouches[0];return{x:s,y:u}}}return hasViewportRelativeCoordinates(l)?{x:l.clientX,y:l.clientY}:null}const CSS$1=Object.freeze({Translate:{toString(l){if(!l)return;const{x:s,y:u}=l;return"translate3d("+(s?Math.round(s):0)+"px, "+(u?Math.round(u):0)+"px, 0)"}},Scale:{toString(l){if(!l)return;const{scaleX:s,scaleY:u}=l;return"scaleX("+s+") scaleY("+u+")"}},Transform:{toString(l){if(l)return[CSS$1.Translate.toString(l),CSS$1.Scale.toString(l)].join(" ")}},Transition:{toString(l){let{property:s,duration:u,easing:o}=l;return s+" "+u+"ms "+o}}}),SELECTOR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function findFirstFocusableNode(l){return l.matches(SELECTOR)?l:l.querySelector(SELECTOR)}const hiddenStyles={display:"none"};function HiddenText(l){let{id:s,value:u}=l;return React.createElement("div",{id:s,style:hiddenStyles},u)}function LiveRegion(l){let{id:s,announcement:u,ariaLiveType:o="assertive"}=l;const h={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return React.createElement("div",{id:s,style:h,role:"status","aria-live":o,"aria-atomic":!0},u)}function useAnnouncement(){const[l,s]=reactExports.useState("");return{announce:reactExports.useCallback(o=>{o!=null&&s(o)},[]),announcement:l}}const DndMonitorContext=reactExports.createContext(null);function useDndMonitor(l){const s=reactExports.useContext(DndMonitorContext);reactExports.useEffect(()=>{if(!s)throw new Error("useDndMonitor must be used within a children of <DndContext>");return s(l)},[l,s])}function useDndMonitorProvider(){const[l]=reactExports.useState(()=>new Set),s=reactExports.useCallback(o=>(l.add(o),()=>l.delete(o)),[l]);return[reactExports.useCallback(o=>{let{type:h,event:L}=o;l.forEach(D=>{var V;return(V=D[h])==null?void 0:V.call(D,L)})},[l]),s]}const defaultScreenReaderInstructions={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},defaultAnnouncements={onDragStart(l){let{active:s}=l;return"Picked up draggable item "+s.id+"."},onDragOver(l){let{active:s,over:u}=l;return u?"Draggable item "+s.id+" was moved over droppable area "+u.id+".":"Draggable item "+s.id+" is no longer over a droppable area."},onDragEnd(l){let{active:s,over:u}=l;return u?"Draggable item "+s.id+" was dropped over droppable area "+u.id:"Draggable item "+s.id+" was dropped."},onDragCancel(l){let{active:s}=l;return"Dragging was cancelled. Draggable item "+s.id+" was dropped."}};function Accessibility(l){let{announcements:s=defaultAnnouncements,container:u,hiddenTextDescribedById:o,screenReaderInstructions:h=defaultScreenReaderInstructions}=l;const{announce:L,announcement:D}=useAnnouncement(),V=useUniqueId("DndLiveRegion"),[S,b]=reactExports.useState(!1);if(reactExports.useEffect(()=>{b(!0)},[]),useDndMonitor(reactExports.useMemo(()=>({onDragStart(w){let{active:j}=w;L(s.onDragStart({active:j}))},onDragMove(w){let{active:j,over:M}=w;s.onDragMove&&L(s.onDragMove({active:j,over:M}))},onDragOver(w){let{active:j,over:M}=w;L(s.onDragOver({active:j,over:M}))},onDragEnd(w){let{active:j,over:M}=w;L(s.onDragEnd({active:j,over:M}))},onDragCancel(w){let{active:j,over:M}=w;L(s.onDragCancel({active:j,over:M}))}}),[L,s])),!S)return null;const y=React.createElement(React.Fragment,null,React.createElement(HiddenText,{id:o,value:h.draggable}),React.createElement(LiveRegion,{id:V,announcement:D}));return u?reactDomExports.createPortal(y,u):y}var Action;(function(l){l.DragStart="dragStart",l.DragMove="dragMove",l.DragEnd="dragEnd",l.DragCancel="dragCancel",l.DragOver="dragOver",l.RegisterDroppable="registerDroppable",l.SetDroppableDisabled="setDroppableDisabled",l.UnregisterDroppable="unregisterDroppable"})(Action||(Action={}));function noop(){}function useSensor(l,s){return reactExports.useMemo(()=>({sensor:l,options:s??{}}),[l,s])}function useSensors(){for(var l=arguments.length,s=new Array(l),u=0;u<l;u++)s[u]=arguments[u];return reactExports.useMemo(()=>[...s].filter(o=>o!=null),[...s])}const defaultCoordinates=Object.freeze({x:0,y:0});function distanceBetween(l,s){return Math.sqrt(Math.pow(l.x-s.x,2)+Math.pow(l.y-s.y,2))}function getRelativeTransformOrigin(l,s){const u=getEventCoordinates(l);if(!u)return"0 0";const o={x:(u.x-s.left)/s.width*100,y:(u.y-s.top)/s.height*100};return o.x+"% "+o.y+"%"}function sortCollisionsAsc(l,s){let{data:{value:u}}=l,{data:{value:o}}=s;return u-o}function sortCollisionsDesc(l,s){let{data:{value:u}}=l,{data:{value:o}}=s;return o-u}function cornersOfRectangle(l){let{left:s,top:u,height:o,width:h}=l;return[{x:s,y:u},{x:s+h,y:u},{x:s,y:u+o},{x:s+h,y:u+o}]}function getFirstCollision(l,s){if(!l||l.length===0)return null;const[u]=l;return u[s]}function centerOfRectangle(l,s,u){return s===void 0&&(s=l.left),u===void 0&&(u=l.top),{x:s+l.width*.5,y:u+l.height*.5}}const closestCenter=l=>{let{collisionRect:s,droppableRects:u,droppableContainers:o}=l;const h=centerOfRectangle(s,s.left,s.top),L=[];for(const D of o){const{id:V}=D,S=u.get(V);if(S){const b=distanceBetween(centerOfRectangle(S),h);L.push({id:V,data:{droppableContainer:D,value:b}})}}return L.sort(sortCollisionsAsc)},closestCorners=l=>{let{collisionRect:s,droppableRects:u,droppableContainers:o}=l;const h=cornersOfRectangle(s),L=[];for(const D of o){const{id:V}=D,S=u.get(V);if(S){const b=cornersOfRectangle(S),y=h.reduce((j,M,O)=>j+distanceBetween(b[O],M),0),w=Number((y/4).toFixed(4));L.push({id:V,data:{droppableContainer:D,value:w}})}}return L.sort(sortCollisionsAsc)};function getIntersectionRatio(l,s){const u=Math.max(s.top,l.top),o=Math.max(s.left,l.left),h=Math.min(s.left+s.width,l.left+l.width),L=Math.min(s.top+s.height,l.top+l.height),D=h-o,V=L-u;if(o<h&&u<L){const S=s.width*s.height,b=l.width*l.height,y=D*V,w=y/(S+b-y);return Number(w.toFixed(4))}return 0}const rectIntersection=l=>{let{collisionRect:s,droppableRects:u,droppableContainers:o}=l;const h=[];for(const L of o){const{id:D}=L,V=u.get(D);if(V){const S=getIntersectionRatio(V,s);S>0&&h.push({id:D,data:{droppableContainer:L,value:S}})}}return h.sort(sortCollisionsDesc)};function adjustScale(l,s,u){return{...l,scaleX:s&&u?s.width/u.width:1,scaleY:s&&u?s.height/u.height:1}}function getRectDelta(l,s){return l&&s?{x:l.left-s.left,y:l.top-s.top}:defaultCoordinates}function createRectAdjustmentFn(l){return function(u){for(var o=arguments.length,h=new Array(o>1?o-1:0),L=1;L<o;L++)h[L-1]=arguments[L];return h.reduce((D,V)=>({...D,top:D.top+l*V.y,bottom:D.bottom+l*V.y,left:D.left+l*V.x,right:D.right+l*V.x}),{...u})}}const getAdjustedRect=createRectAdjustmentFn(1);function parseTransform(l){if(l.startsWith("matrix3d(")){const s=l.slice(9,-1).split(/, /);return{x:+s[12],y:+s[13],scaleX:+s[0],scaleY:+s[5]}}else if(l.startsWith("matrix(")){const s=l.slice(7,-1).split(/, /);return{x:+s[4],y:+s[5],scaleX:+s[0],scaleY:+s[3]}}return null}function inverseTransform(l,s,u){const o=parseTransform(s);if(!o)return l;const{scaleX:h,scaleY:L,x:D,y:V}=o,S=l.left-D-(1-h)*parseFloat(u),b=l.top-V-(1-L)*parseFloat(u.slice(u.indexOf(" ")+1)),y=h?l.width/h:l.width,w=L?l.height/L:l.height;return{width:y,height:w,top:b,right:S+y,bottom:b+w,left:S}}const defaultOptions={ignoreTransform:!1};function getClientRect(l,s){s===void 0&&(s=defaultOptions);let u=l.getBoundingClientRect();if(s.ignoreTransform){const{transform:b,transformOrigin:y}=getWindow(l).getComputedStyle(l);b&&(u=inverseTransform(u,b,y))}const{top:o,left:h,width:L,height:D,bottom:V,right:S}=u;return{top:o,left:h,width:L,height:D,bottom:V,right:S}}function getTransformAgnosticClientRect(l){return getClientRect(l,{ignoreTransform:!0})}function getWindowClientRect(l){const s=l.innerWidth,u=l.innerHeight;return{top:0,left:0,right:s,bottom:u,width:s,height:u}}function isFixed(l,s){return s===void 0&&(s=getWindow(l).getComputedStyle(l)),s.position==="fixed"}function isScrollable(l,s){s===void 0&&(s=getWindow(l).getComputedStyle(l));const u=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(h=>{const L=s[h];return typeof L=="string"?u.test(L):!1})}function getScrollableAncestors(l,s){const u=[];function o(h){if(s!=null&&u.length>=s||!h)return u;if(isDocument(h)&&h.scrollingElement!=null&&!u.includes(h.scrollingElement))return u.push(h.scrollingElement),u;if(!isHTMLElement(h)||isSVGElement(h)||u.includes(h))return u;const L=getWindow(l).getComputedStyle(h);return h!==l&&isScrollable(h,L)&&u.push(h),isFixed(h,L)?u:o(h.parentNode)}return l?o(l):u}function getFirstScrollableAncestor(l){const[s]=getScrollableAncestors(l,1);return s??null}function getScrollableElement(l){return!canUseDOM||!l?null:isWindow(l)?l:isNode(l)?isDocument(l)||l===getOwnerDocument(l).scrollingElement?window:isHTMLElement(l)?l:null:null}function getScrollXCoordinate(l){return isWindow(l)?l.scrollX:l.scrollLeft}function getScrollYCoordinate(l){return isWindow(l)?l.scrollY:l.scrollTop}function getScrollCoordinates(l){return{x:getScrollXCoordinate(l),y:getScrollYCoordinate(l)}}var Direction;(function(l){l[l.Forward=1]="Forward",l[l.Backward=-1]="Backward"})(Direction||(Direction={}));function isDocumentScrollingElement(l){return!canUseDOM||!l?!1:l===document.scrollingElement}function getScrollPosition(l){const s={x:0,y:0},u=isDocumentScrollingElement(l)?{height:window.innerHeight,width:window.innerWidth}:{height:l.clientHeight,width:l.clientWidth},o={x:l.scrollWidth-u.width,y:l.scrollHeight-u.height},h=l.scrollTop<=s.y,L=l.scrollLeft<=s.x,D=l.scrollTop>=o.y,V=l.scrollLeft>=o.x;return{isTop:h,isLeft:L,isBottom:D,isRight:V,maxScroll:o,minScroll:s}}const defaultThreshold={x:.2,y:.2};function getScrollDirectionAndSpeed(l,s,u,o,h){let{top:L,left:D,right:V,bottom:S}=u;o===void 0&&(o=10),h===void 0&&(h=defaultThreshold);const{isTop:b,isBottom:y,isLeft:w,isRight:j}=getScrollPosition(l),M={x:0,y:0},O={x:0,y:0},F={height:s.height*h.y,width:s.width*h.x};return!b&&L<=s.top+F.height?(M.y=Direction.Backward,O.y=o*Math.abs((s.top+F.height-L)/F.height)):!y&&S>=s.bottom-F.height&&(M.y=Direction.Forward,O.y=o*Math.abs((s.bottom-F.height-S)/F.height)),!j&&V>=s.right-F.width?(M.x=Direction.Forward,O.x=o*Math.abs((s.right-F.width-V)/F.width)):!w&&D<=s.left+F.width&&(M.x=Direction.Backward,O.x=o*Math.abs((s.left+F.width-D)/F.width)),{direction:M,speed:O}}function getScrollElementRect(l){if(l===document.scrollingElement){const{innerWidth:L,innerHeight:D}=window;return{top:0,left:0,right:L,bottom:D,width:L,height:D}}const{top:s,left:u,right:o,bottom:h}=l.getBoundingClientRect();return{top:s,left:u,right:o,bottom:h,width:l.clientWidth,height:l.clientHeight}}function getScrollOffsets(l){return l.reduce((s,u)=>add(s,getScrollCoordinates(u)),defaultCoordinates)}function getScrollXOffset(l){return l.reduce((s,u)=>s+getScrollXCoordinate(u),0)}function getScrollYOffset(l){return l.reduce((s,u)=>s+getScrollYCoordinate(u),0)}function scrollIntoViewIfNeeded(l,s){if(s===void 0&&(s=getClientRect),!l)return;const{top:u,left:o,bottom:h,right:L}=s(l);getFirstScrollableAncestor(l)&&(h<=0||L<=0||u>=window.innerHeight||o>=window.innerWidth)&&l.scrollIntoView({block:"center",inline:"center"})}const properties=[["x",["left","right"],getScrollXOffset],["y",["top","bottom"],getScrollYOffset]];class Rect{constructor(s,u){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const o=getScrollableAncestors(u),h=getScrollOffsets(o);this.rect={...s},this.width=s.width,this.height=s.height;for(const[L,D,V]of properties)for(const S of D)Object.defineProperty(this,S,{get:()=>{const b=V(o),y=h[L]-b;return this.rect[S]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Listeners{constructor(s){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(u=>{var o;return(o=this.target)==null?void 0:o.removeEventListener(...u)})},this.target=s}add(s,u,o){var h;(h=this.target)==null||h.addEventListener(s,u,o),this.listeners.push([s,u,o])}}function getEventListenerTarget(l){const{EventTarget:s}=getWindow(l);return l instanceof s?l:getOwnerDocument(l)}function hasExceededDistance(l,s){const u=Math.abs(l.x),o=Math.abs(l.y);return typeof s=="number"?Math.sqrt(u**2+o**2)>s:"x"in s&&"y"in s?u>s.x&&o>s.y:"x"in s?u>s.x:"y"in s?o>s.y:!1}var EventName;(function(l){l.Click="click",l.DragStart="dragstart",l.Keydown="keydown",l.ContextMenu="contextmenu",l.Resize="resize",l.SelectionChange="selectionchange",l.VisibilityChange="visibilitychange"})(EventName||(EventName={}));function preventDefault(l){l.preventDefault()}function stopPropagation(l){l.stopPropagation()}var KeyboardCode;(function(l){l.Space="Space",l.Down="ArrowDown",l.Right="ArrowRight",l.Left="ArrowLeft",l.Up="ArrowUp",l.Esc="Escape",l.Enter="Enter",l.Tab="Tab"})(KeyboardCode||(KeyboardCode={}));const defaultKeyboardCodes={start:[KeyboardCode.Space,KeyboardCode.Enter],cancel:[KeyboardCode.Esc],end:[KeyboardCode.Space,KeyboardCode.Enter,KeyboardCode.Tab]},defaultKeyboardCoordinateGetter=(l,s)=>{let{currentCoordinates:u}=s;switch(l.code){case KeyboardCode.Right:return{...u,x:u.x+25};case KeyboardCode.Left:return{...u,x:u.x-25};case KeyboardCode.Down:return{...u,y:u.y+25};case KeyboardCode.Up:return{...u,y:u.y-25}}};class KeyboardSensor{constructor(s){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=s;const{event:{target:u}}=s;this.props=s,this.listeners=new Listeners(getOwnerDocument(u)),this.windowListeners=new Listeners(getWindow(u)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(EventName.Resize,this.handleCancel),this.windowListeners.add(EventName.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(EventName.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:s,onStart:u}=this.props,o=s.node.current;o&&scrollIntoViewIfNeeded(o),u(defaultCoordinates)}handleKeyDown(s){if(isKeyboardEvent(s)){const{active:u,context:o,options:h}=this.props,{keyboardCodes:L=defaultKeyboardCodes,coordinateGetter:D=defaultKeyboardCoordinateGetter,scrollBehavior:V="smooth"}=h,{code:S}=s;if(L.end.includes(S)){this.handleEnd(s);return}if(L.cancel.includes(S)){this.handleCancel(s);return}const{collisionRect:b}=o.current,y=b?{x:b.left,y:b.top}:defaultCoordinates;this.referenceCoordinates||(this.referenceCoordinates=y);const w=D(s,{active:u,context:o.current,currentCoordinates:y});if(w){const j=subtract(w,y),M={x:0,y:0},{scrollableAncestors:O}=o.current;for(const F of O){const x=s.code,{isTop:m,isRight:R,isLeft:U,isBottom:P,maxScroll:v,minScroll:E}=getScrollPosition(F),p=getScrollElementRect(F),_={x:Math.min(x===KeyboardCode.Right?p.right-p.width/2:p.right,Math.max(x===KeyboardCode.Right?p.left:p.left+p.width/2,w.x)),y:Math.min(x===KeyboardCode.Down?p.bottom-p.height/2:p.bottom,Math.max(x===KeyboardCode.Down?p.top:p.top+p.height/2,w.y))},C=x===KeyboardCode.Right&&!R||x===KeyboardCode.Left&&!U,Z=x===KeyboardCode.Down&&!P||x===KeyboardCode.Up&&!m;if(C&&_.x!==w.x){const A=F.scrollLeft+j.x,z=x===KeyboardCode.Right&&A<=v.x||x===KeyboardCode.Left&&A>=E.x;if(z&&!j.y){F.scrollTo({left:A,behavior:V});return}z?M.x=F.scrollLeft-A:M.x=x===KeyboardCode.Right?F.scrollLeft-v.x:F.scrollLeft-E.x,M.x&&F.scrollBy({left:-M.x,behavior:V});break}else if(Z&&_.y!==w.y){const A=F.scrollTop+j.y,z=x===KeyboardCode.Down&&A<=v.y||x===KeyboardCode.Up&&A>=E.y;if(z&&!j.x){F.scrollTo({top:A,behavior:V});return}z?M.y=F.scrollTop-A:M.y=x===KeyboardCode.Down?F.scrollTop-v.y:F.scrollTop-E.y,M.y&&F.scrollBy({top:-M.y,behavior:V});break}}this.handleMove(s,add(subtract(w,this.referenceCoordinates),M))}}}handleMove(s,u){const{onMove:o}=this.props;s.preventDefault(),o(u)}handleEnd(s){const{onEnd:u}=this.props;s.preventDefault(),this.detach(),u()}handleCancel(s){const{onCancel:u}=this.props;s.preventDefault(),this.detach(),u()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}KeyboardSensor.activators=[{eventName:"onKeyDown",handler:(l,s,u)=>{let{keyboardCodes:o=defaultKeyboardCodes,onActivation:h}=s,{active:L}=u;const{code:D}=l.nativeEvent;if(o.start.includes(D)){const V=L.activatorNode.current;return V&&l.target!==V?!1:(l.preventDefault(),h==null||h({event:l.nativeEvent}),!0)}return!1}}];function isDistanceConstraint(l){return!!(l&&"distance"in l)}function isDelayConstraint(l){return!!(l&&"delay"in l)}class AbstractPointerSensor{constructor(s,u,o){var h;o===void 0&&(o=getEventListenerTarget(s.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=s,this.events=u;const{event:L}=s,{target:D}=L;this.props=s,this.events=u,this.document=getOwnerDocument(D),this.documentListeners=new Listeners(this.document),this.listeners=new Listeners(o),this.windowListeners=new Listeners(getWindow(D)),this.initialCoordinates=(h=getEventCoordinates(L))!=null?h:defaultCoordinates,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:s,props:{options:{activationConstraint:u,bypassActivationConstraint:o}}}=this;if(this.listeners.add(s.move.name,this.handleMove,{passive:!1}),this.listeners.add(s.end.name,this.handleEnd),s.cancel&&this.listeners.add(s.cancel.name,this.handleCancel),this.windowListeners.add(EventName.Resize,this.handleCancel),this.windowListeners.add(EventName.DragStart,preventDefault),this.windowListeners.add(EventName.VisibilityChange,this.handleCancel),this.windowListeners.add(EventName.ContextMenu,preventDefault),this.documentListeners.add(EventName.Keydown,this.handleKeydown),u){if(o!=null&&o({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(isDelayConstraint(u)){this.timeoutId=setTimeout(this.handleStart,u.delay),this.handlePending(u);return}if(isDistanceConstraint(u)){this.handlePending(u);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(s,u){const{active:o,onPending:h}=this.props;h(o,s,this.initialCoordinates,u)}handleStart(){const{initialCoordinates:s}=this,{onStart:u}=this.props;s&&(this.activated=!0,this.documentListeners.add(EventName.Click,stopPropagation,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(EventName.SelectionChange,this.removeTextSelection),u(s))}handleMove(s){var u;const{activated:o,initialCoordinates:h,props:L}=this,{onMove:D,options:{activationConstraint:V}}=L;if(!h)return;const S=(u=getEventCoordinates(s))!=null?u:defaultCoordinates,b=subtract(h,S);if(!o&&V){if(isDistanceConstraint(V)){if(V.tolerance!=null&&hasExceededDistance(b,V.tolerance))return this.handleCancel();if(hasExceededDistance(b,V.distance))return this.handleStart()}if(isDelayConstraint(V)&&hasExceededDistance(b,V.tolerance))return this.handleCancel();this.handlePending(V,b);return}s.cancelable&&s.preventDefault(),D(S)}handleEnd(){const{onAbort:s,onEnd:u}=this.props;this.detach(),this.activated||s(this.props.active),u()}handleCancel(){const{onAbort:s,onCancel:u}=this.props;this.detach(),this.activated||s(this.props.active),u()}handleKeydown(s){s.code===KeyboardCode.Esc&&this.handleCancel()}removeTextSelection(){var s;(s=this.document.getSelection())==null||s.removeAllRanges()}}const events={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class PointerSensor extends AbstractPointerSensor{constructor(s){const{event:u}=s,o=getOwnerDocument(u.target);super(s,events,o)}}PointerSensor.activators=[{eventName:"onPointerDown",handler:(l,s)=>{let{nativeEvent:u}=l,{onActivation:o}=s;return!u.isPrimary||u.button!==0?!1:(o==null||o({event:u}),!0)}}];const events$1={move:{name:"mousemove"},end:{name:"mouseup"}};var MouseButton;(function(l){l[l.RightClick=2]="RightClick"})(MouseButton||(MouseButton={}));class MouseSensor extends AbstractPointerSensor{constructor(s){super(s,events$1,getOwnerDocument(s.event.target))}}MouseSensor.activators=[{eventName:"onMouseDown",handler:(l,s)=>{let{nativeEvent:u}=l,{onActivation:o}=s;return u.button===MouseButton.RightClick?!1:(o==null||o({event:u}),!0)}}];const events$2={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class TouchSensor extends AbstractPointerSensor{constructor(s){super(s,events$2)}static setup(){return window.addEventListener(events$2.move.name,s,{capture:!1,passive:!1}),function(){window.removeEventListener(events$2.move.name,s)};function s(){}}}TouchSensor.activators=[{eventName:"onTouchStart",handler:(l,s)=>{let{nativeEvent:u}=l,{onActivation:o}=s;const{touches:h}=u;return h.length>1?!1:(o==null||o({event:u}),!0)}}];var AutoScrollActivator;(function(l){l[l.Pointer=0]="Pointer",l[l.DraggableRect=1]="DraggableRect"})(AutoScrollActivator||(AutoScrollActivator={}));var TraversalOrder;(function(l){l[l.TreeOrder=0]="TreeOrder",l[l.ReversedTreeOrder=1]="ReversedTreeOrder"})(TraversalOrder||(TraversalOrder={}));function useAutoScroller(l){let{acceleration:s,activator:u=AutoScrollActivator.Pointer,canScroll:o,draggingRect:h,enabled:L,interval:D=5,order:V=TraversalOrder.TreeOrder,pointerCoordinates:S,scrollableAncestors:b,scrollableAncestorRects:y,delta:w,threshold:j}=l;const M=useScrollIntent({delta:w,disabled:!L}),[O,F]=useInterval(),x=reactExports.useRef({x:0,y:0}),m=reactExports.useRef({x:0,y:0}),R=reactExports.useMemo(()=>{switch(u){case AutoScrollActivator.Pointer:return S?{top:S.y,bottom:S.y,left:S.x,right:S.x}:null;case AutoScrollActivator.DraggableRect:return h}},[u,h,S]),U=reactExports.useRef(null),P=reactExports.useCallback(()=>{const E=U.current;if(!E)return;const p=x.current.x*m.current.x,_=x.current.y*m.current.y;E.scrollBy(p,_)},[]),v=reactExports.useMemo(()=>V===TraversalOrder.TreeOrder?[...b].reverse():b,[V,b]);reactExports.useEffect(()=>{if(!L||!b.length||!R){F();return}for(const E of v){if((o==null?void 0:o(E))===!1)continue;const p=b.indexOf(E),_=y[p];if(!_)continue;const{direction:C,speed:Z}=getScrollDirectionAndSpeed(E,_,R,s,j);for(const A of["x","y"])M[A][C[A]]||(Z[A]=0,C[A]=0);if(Z.x>0||Z.y>0){F(),U.current=E,O(P,D),x.current=Z,m.current=C;return}}x.current={x:0,y:0},m.current={x:0,y:0},F()},[s,P,o,F,L,D,JSON.stringify(R),JSON.stringify(M),O,b,v,y,JSON.stringify(j)])}const defaultScrollIntent={x:{[Direction.Backward]:!1,[Direction.Forward]:!1},y:{[Direction.Backward]:!1,[Direction.Forward]:!1}};function useScrollIntent(l){let{delta:s,disabled:u}=l;const o=usePrevious(s);return useLazyMemo(h=>{if(u||!o||!h)return defaultScrollIntent;const L={x:Math.sign(s.x-o.x),y:Math.sign(s.y-o.y)};return{x:{[Direction.Backward]:h.x[Direction.Backward]||L.x===-1,[Direction.Forward]:h.x[Direction.Forward]||L.x===1},y:{[Direction.Backward]:h.y[Direction.Backward]||L.y===-1,[Direction.Forward]:h.y[Direction.Forward]||L.y===1}}},[u,s,o])}function useCachedNode(l,s){const u=s!=null?l.get(s):void 0,o=u?u.node.current:null;return useLazyMemo(h=>{var L;return s==null?null:(L=o??h)!=null?L:null},[o,s])}function useCombineActivators(l,s){return reactExports.useMemo(()=>l.reduce((u,o)=>{const{sensor:h}=o,L=h.activators.map(D=>({eventName:D.eventName,handler:s(D.handler,o)}));return[...u,...L]},[]),[l,s])}var MeasuringStrategy;(function(l){l[l.Always=0]="Always",l[l.BeforeDragging=1]="BeforeDragging",l[l.WhileDragging=2]="WhileDragging"})(MeasuringStrategy||(MeasuringStrategy={}));var MeasuringFrequency;(function(l){l.Optimized="optimized"})(MeasuringFrequency||(MeasuringFrequency={}));const defaultValue=new Map;function useDroppableMeasuring(l,s){let{dragging:u,dependencies:o,config:h}=s;const[L,D]=reactExports.useState(null),{frequency:V,measure:S,strategy:b}=h,y=reactExports.useRef(l),w=x(),j=useLatestValue(w),M=reactExports.useCallback(function(m){m===void 0&&(m=[]),!j.current&&D(R=>R===null?m:R.concat(m.filter(U=>!R.includes(U))))},[j]),O=reactExports.useRef(null),F=useLazyMemo(m=>{if(w&&!u)return defaultValue;if(!m||m===defaultValue||y.current!==l||L!=null){const R=new Map;for(let U of l){if(!U)continue;if(L&&L.length>0&&!L.includes(U.id)&&U.rect.current){R.set(U.id,U.rect.current);continue}const P=U.node.current,v=P?new Rect(S(P),P):null;U.rect.current=v,v&&R.set(U.id,v)}return R}return m},[l,L,u,w,S]);return reactExports.useEffect(()=>{y.current=l},[l]),reactExports.useEffect(()=>{w||M()},[u,w]),reactExports.useEffect(()=>{L&&L.length>0&&D(null)},[JSON.stringify(L)]),reactExports.useEffect(()=>{w||typeof V!="number"||O.current!==null||(O.current=setTimeout(()=>{M(),O.current=null},V))},[V,w,M,...o]),{droppableRects:F,measureDroppableContainers:M,measuringScheduled:L!=null};function x(){switch(b){case MeasuringStrategy.Always:return!1;case MeasuringStrategy.BeforeDragging:return u;default:return!u}}}function useInitialValue(l,s){return useLazyMemo(u=>l?u||(typeof s=="function"?s(l):l):null,[s,l])}function useInitialRect(l,s){return useInitialValue(l,s)}function useMutationObserver(l){let{callback:s,disabled:u}=l;const o=useEvent(s),h=reactExports.useMemo(()=>{if(u||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:L}=window;return new L(o)},[o,u]);return reactExports.useEffect(()=>()=>h==null?void 0:h.disconnect(),[h]),h}function useResizeObserver(l){let{callback:s,disabled:u}=l;const o=useEvent(s),h=reactExports.useMemo(()=>{if(u||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:L}=window;return new L(o)},[u]);return reactExports.useEffect(()=>()=>h==null?void 0:h.disconnect(),[h]),h}function defaultMeasure(l){return new Rect(getClientRect(l),l)}function useRect(l,s,u){s===void 0&&(s=defaultMeasure);const[o,h]=reactExports.useState(null);function L(){h(S=>{if(!l)return null;if(l.isConnected===!1){var b;return(b=S??u)!=null?b:null}const y=s(l);return JSON.stringify(S)===JSON.stringify(y)?S:y})}const D=useMutationObserver({callback(S){if(l)for(const b of S){const{type:y,target:w}=b;if(y==="childList"&&w instanceof HTMLElement&&w.contains(l)){L();break}}}}),V=useResizeObserver({callback:L});return useIsomorphicLayoutEffect(()=>{L(),l?(V==null||V.observe(l),D==null||D.observe(document.body,{childList:!0,subtree:!0})):(V==null||V.disconnect(),D==null||D.disconnect())},[l]),o}function useRectDelta(l){const s=useInitialValue(l);return getRectDelta(l,s)}const defaultValue$1=[];function useScrollableAncestors(l){const s=reactExports.useRef(l),u=useLazyMemo(o=>l?o&&o!==defaultValue$1&&l&&s.current&&l.parentNode===s.current.parentNode?o:getScrollableAncestors(l):defaultValue$1,[l]);return reactExports.useEffect(()=>{s.current=l},[l]),u}function useScrollOffsets(l){const[s,u]=reactExports.useState(null),o=reactExports.useRef(l),h=reactExports.useCallback(L=>{const D=getScrollableElement(L.target);D&&u(V=>V?(V.set(D,getScrollCoordinates(D)),new Map(V)):null)},[]);return reactExports.useEffect(()=>{const L=o.current;if(l!==L){D(L);const V=l.map(S=>{const b=getScrollableElement(S);return b?(b.addEventListener("scroll",h,{passive:!0}),[b,getScrollCoordinates(b)]):null}).filter(S=>S!=null);u(V.length?new Map(V):null),o.current=l}return()=>{D(l),D(L)};function D(V){V.forEach(S=>{const b=getScrollableElement(S);b==null||b.removeEventListener("scroll",h)})}},[h,l]),reactExports.useMemo(()=>l.length?s?Array.from(s.values()).reduce((L,D)=>add(L,D),defaultCoordinates):getScrollOffsets(l):defaultCoordinates,[l,s])}function useScrollOffsetsDelta(l,s){s===void 0&&(s=[]);const u=reactExports.useRef(null);return reactExports.useEffect(()=>{u.current=null},s),reactExports.useEffect(()=>{const o=l!==defaultCoordinates;o&&!u.current&&(u.current=l),!o&&u.current&&(u.current=null)},[l]),u.current?subtract(l,u.current):defaultCoordinates}function useSensorSetup(l){reactExports.useEffect(()=>{if(!canUseDOM)return;const s=l.map(u=>{let{sensor:o}=u;return o.setup==null?void 0:o.setup()});return()=>{for(const u of s)u==null||u()}},l.map(s=>{let{sensor:u}=s;return u}))}function useSyntheticListeners(l,s){return reactExports.useMemo(()=>l.reduce((u,o)=>{let{eventName:h,handler:L}=o;return u[h]=D=>{L(D,s)},u},{}),[l,s])}function useWindowRect(l){return reactExports.useMemo(()=>l?getWindowClientRect(l):null,[l])}const defaultValue$2=[];function useRects(l,s){s===void 0&&(s=getClientRect);const[u]=l,o=useWindowRect(u?getWindow(u):null),[h,L]=reactExports.useState(defaultValue$2);function D(){L(()=>l.length?l.map(S=>isDocumentScrollingElement(S)?o:new Rect(s(S),S)):defaultValue$2)}const V=useResizeObserver({callback:D});return useIsomorphicLayoutEffect(()=>{V==null||V.disconnect(),D(),l.forEach(S=>V==null?void 0:V.observe(S))},[l]),h}function getMeasurableNode(l){if(!l)return null;if(l.children.length>1)return l;const s=l.children[0];return isHTMLElement(s)?s:l}function useDragOverlayMeasuring(l){let{measure:s}=l;const[u,o]=reactExports.useState(null),h=reactExports.useCallback(b=>{for(const{target:y}of b)if(isHTMLElement(y)){o(w=>{const j=s(y);return w?{...w,width:j.width,height:j.height}:j});break}},[s]),L=useResizeObserver({callback:h}),D=reactExports.useCallback(b=>{const y=getMeasurableNode(b);L==null||L.disconnect(),y&&(L==null||L.observe(y)),o(y?s(y):null)},[s,L]),[V,S]=useNodeRef(D);return reactExports.useMemo(()=>({nodeRef:V,rect:u,setRef:S}),[u,V,S])}const defaultSensors=[{sensor:PointerSensor,options:{}},{sensor:KeyboardSensor,options:{}}],defaultData={current:{}},defaultMeasuringConfiguration={draggable:{measure:getTransformAgnosticClientRect},droppable:{measure:getTransformAgnosticClientRect,strategy:MeasuringStrategy.WhileDragging,frequency:MeasuringFrequency.Optimized},dragOverlay:{measure:getClientRect}};class DroppableContainersMap extends Map{get(s){var u;return s!=null&&(u=super.get(s))!=null?u:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(s=>{let{disabled:u}=s;return!u})}getNodeFor(s){var u,o;return(u=(o=this.get(s))==null?void 0:o.node.current)!=null?u:void 0}}const defaultPublicContext={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new DroppableContainersMap,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:noop},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:defaultMeasuringConfiguration,measureDroppableContainers:noop,windowRect:null,measuringScheduled:!1},defaultInternalContext={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:noop,draggableNodes:new Map,over:null,measureDroppableContainers:noop},InternalContext=reactExports.createContext(defaultInternalContext),PublicContext=reactExports.createContext(defaultPublicContext);function getInitialState(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new DroppableContainersMap}}}function reducer(l,s){switch(s.type){case Action.DragStart:return{...l,draggable:{...l.draggable,initialCoordinates:s.initialCoordinates,active:s.active}};case Action.DragMove:return l.draggable.active==null?l:{...l,draggable:{...l.draggable,translate:{x:s.coordinates.x-l.draggable.initialCoordinates.x,y:s.coordinates.y-l.draggable.initialCoordinates.y}}};case Action.DragEnd:case Action.DragCancel:return{...l,draggable:{...l.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Action.RegisterDroppable:{const{element:u}=s,{id:o}=u,h=new DroppableContainersMap(l.droppable.containers);return h.set(o,u),{...l,droppable:{...l.droppable,containers:h}}}case Action.SetDroppableDisabled:{const{id:u,key:o,disabled:h}=s,L=l.droppable.containers.get(u);if(!L||o!==L.key)return l;const D=new DroppableContainersMap(l.droppable.containers);return D.set(u,{...L,disabled:h}),{...l,droppable:{...l.droppable,containers:D}}}case Action.UnregisterDroppable:{const{id:u,key:o}=s,h=l.droppable.containers.get(u);if(!h||o!==h.key)return l;const L=new DroppableContainersMap(l.droppable.containers);return L.delete(u),{...l,droppable:{...l.droppable,containers:L}}}default:return l}}function RestoreFocus(l){let{disabled:s}=l;const{active:u,activatorEvent:o,draggableNodes:h}=reactExports.useContext(InternalContext),L=usePrevious(o),D=usePrevious(u==null?void 0:u.id);return reactExports.useEffect(()=>{if(!s&&!o&&L&&D!=null){if(!isKeyboardEvent(L)||document.activeElement===L.target)return;const V=h.get(D);if(!V)return;const{activatorNode:S,node:b}=V;if(!S.current&&!b.current)return;requestAnimationFrame(()=>{for(const y of[S.current,b.current]){if(!y)continue;const w=findFirstFocusableNode(y);if(w){w.focus();break}}})}},[o,s,h,D,L]),null}function applyModifiers(l,s){let{transform:u,...o}=s;return l!=null&&l.length?l.reduce((h,L)=>L({transform:h,...o}),u):u}function useMeasuringConfiguration(l){return reactExports.useMemo(()=>({draggable:{...defaultMeasuringConfiguration.draggable,...l==null?void 0:l.draggable},droppable:{...defaultMeasuringConfiguration.droppable,...l==null?void 0:l.droppable},dragOverlay:{...defaultMeasuringConfiguration.dragOverlay,...l==null?void 0:l.dragOverlay}}),[l==null?void 0:l.draggable,l==null?void 0:l.droppable,l==null?void 0:l.dragOverlay])}function useLayoutShiftScrollCompensation(l){let{activeNode:s,measure:u,initialRect:o,config:h=!0}=l;const L=reactExports.useRef(!1),{x:D,y:V}=typeof h=="boolean"?{x:h,y:h}:h;useIsomorphicLayoutEffect(()=>{if(!D&&!V||!s){L.current=!1;return}if(L.current||!o)return;const b=s==null?void 0:s.node.current;if(!b||b.isConnected===!1)return;const y=u(b),w=getRectDelta(y,o);if(D||(w.x=0),V||(w.y=0),L.current=!0,Math.abs(w.x)>0||Math.abs(w.y)>0){const j=getFirstScrollableAncestor(b);j&&j.scrollBy({top:w.y,left:w.x})}},[s,D,V,o,u])}const ActiveDraggableContext=reactExports.createContext({...defaultCoordinates,scaleX:1,scaleY:1});var Status;(function(l){l[l.Uninitialized=0]="Uninitialized",l[l.Initializing=1]="Initializing",l[l.Initialized=2]="Initialized"})(Status||(Status={}));const DndContext=reactExports.memo(function l(s){var u,o,h,L;let{id:D,accessibility:V,autoScroll:S=!0,children:b,sensors:y=defaultSensors,collisionDetection:w=rectIntersection,measuring:j,modifiers:M,...O}=s;const F=reactExports.useReducer(reducer,void 0,getInitialState),[x,m]=F,[R,U]=useDndMonitorProvider(),[P,v]=reactExports.useState(Status.Uninitialized),E=P===Status.Initialized,{draggable:{active:p,nodes:_,translate:C},droppable:{containers:Z}}=x,A=p!=null?_.get(p):null,z=reactExports.useRef({initial:null,translated:null}),Q=reactExports.useMemo(()=>{var xt;return p!=null?{id:p,data:(xt=A==null?void 0:A.data)!=null?xt:defaultData,rect:z}:null},[p,A]),ut=reactExports.useRef(null),[nt,B]=reactExports.useState(null),[Y,st]=reactExports.useState(null),X=useLatestValue(O,Object.values(O)),et=useUniqueId("DndDescribedBy",D),k=reactExports.useMemo(()=>Z.getEnabled(),[Z]),T=useMeasuringConfiguration(j),{droppableRects:d,measureDroppableContainers:f,measuringScheduled:N}=useDroppableMeasuring(k,{dragging:E,dependencies:[C.x,C.y],config:T.droppable}),q=useCachedNode(_,p),K=reactExports.useMemo(()=>Y?getEventCoordinates(Y):null,[Y]),J=tt(),it=useInitialRect(q,T.draggable.measure);useLayoutShiftScrollCompensation({activeNode:p!=null?_.get(p):null,config:J.layoutShiftCompensation,initialRect:it,measure:T.draggable.measure});const pt=useRect(q,T.draggable.measure,it),Ct=useRect(q?q.parentElement:null),Et=reactExports.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:d,draggableNodes:_,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Lt=Z.getNodeFor((u=Et.current.over)==null?void 0:u.id),Nt=useDragOverlayMeasuring({measure:T.dragOverlay.measure}),jt=(o=Nt.nodeRef.current)!=null?o:q,ft=E?(h=Nt.rect)!=null?h:pt:null,mt=!!(Nt.nodeRef.current&&Nt.rect),I=useRectDelta(mt?null:pt),$=useWindowRect(jt?getWindow(jt):null),ot=useScrollableAncestors(E?Lt??q:null),gt=useRects(ot),wt=applyModifiers(M,{transform:{x:C.x-I.x,y:C.y-I.y,scaleX:1,scaleY:1},activatorEvent:Y,active:Q,activeNodeRect:pt,containerNodeRect:Ct,draggingNodeRect:ft,over:Et.current.over,overlayNodeRect:Nt.rect,scrollableAncestors:ot,scrollableAncestorRects:gt,windowRect:$}),zt=K?add(K,C):null,Ot=useScrollOffsets(ot),ct=useScrollOffsetsDelta(Ot),Gt=useScrollOffsetsDelta(Ot,[pt]),It=add(wt,ct),ae=ft?getAdjustedRect(ft,wt):null,ie=Q&&ae?w({active:Q,collisionRect:ae,droppableRects:d,droppableContainers:k,pointerCoordinates:zt}):null,fe=getFirstCollision(ie,"id"),[Qt,ne]=reactExports.useState(null),de=mt?wt:add(wt,Gt),he=adjustScale(de,(L=Qt==null?void 0:Qt.rect)!=null?L:null,pt),kt=reactExports.useRef(null),ht=reactExports.useCallback((xt,Bt)=>{let{sensor:Vt,options:Jt}=Bt;if(ut.current==null)return;const Yt=_.get(ut.current);if(!Yt)return;const W=xt.nativeEvent,G=new Vt({active:ut.current,activeNode:Yt,event:W,options:Jt,context:Et,onAbort(bt){if(!_.get(bt))return;const{onDragAbort:Dt}=X.current,Pt={id:bt};Dt==null||Dt(Pt),R({type:"onDragAbort",event:Pt})},onPending(bt,St,Dt,Pt){if(!_.get(bt))return;const{onDragPending:Zt}=X.current,Xt={id:bt,constraint:St,initialCoordinates:Dt,offset:Pt};Zt==null||Zt(Xt),R({type:"onDragPending",event:Xt})},onStart(bt){const St=ut.current;if(St==null)return;const Dt=_.get(St);if(!Dt)return;const{onDragStart:Pt}=X.current,te={activatorEvent:W,active:{id:St,data:Dt.data,rect:z}};reactDomExports.unstable_batchedUpdates(()=>{Pt==null||Pt(te),v(Status.Initializing),m({type:Action.DragStart,initialCoordinates:bt,active:St}),R({type:"onDragStart",event:te}),B(kt.current),st(W)})},onMove(bt){m({type:Action.DragMove,coordinates:bt})},onEnd:at(Action.DragEnd),onCancel:at(Action.DragCancel)});kt.current=G;function at(bt){return async function(){const{active:Dt,collisions:Pt,over:te,scrollAdjustedTranslate:Zt}=Et.current;let Xt=null;if(Dt&&Zt){const{cancelDrop:re}=X.current;Xt={activatorEvent:W,active:Dt,collisions:Pt,delta:Zt,over:te},bt===Action.DragEnd&&typeof re=="function"&&await Promise.resolve(re(Xt))&&(bt=Action.DragCancel)}ut.current=null,reactDomExports.unstable_batchedUpdates(()=>{m({type:bt}),v(Status.Uninitialized),ne(null),B(null),st(null),kt.current=null;const re=bt===Action.DragEnd?"onDragEnd":"onDragCancel";if(Xt){const Wt=X.current[re];Wt==null||Wt(Xt),R({type:re,event:Xt})}})}}},[_]),vt=reactExports.useCallback((xt,Bt)=>(Vt,Jt)=>{const Yt=Vt.nativeEvent,W=_.get(Jt);if(ut.current!==null||!W||Yt.dndKit||Yt.defaultPrevented)return;const G={active:W};xt(Vt,Bt.options,G)===!0&&(Yt.dndKit={capturedBy:Bt.sensor},ut.current=Jt,ht(Vt,Bt))},[_,ht]),$t=useCombineActivators(y,vt);useSensorSetup(y),useIsomorphicLayoutEffect(()=>{pt&&P===Status.Initializing&&v(Status.Initialized)},[pt,P]),reactExports.useEffect(()=>{const{onDragMove:xt}=X.current,{active:Bt,activatorEvent:Vt,collisions:Jt,over:Yt}=Et.current;if(!Bt||!Vt)return;const W={active:Bt,activatorEvent:Vt,collisions:Jt,delta:{x:It.x,y:It.y},over:Yt};reactDomExports.unstable_batchedUpdates(()=>{xt==null||xt(W),R({type:"onDragMove",event:W})})},[It.x,It.y]),reactExports.useEffect(()=>{const{active:xt,activatorEvent:Bt,collisions:Vt,droppableContainers:Jt,scrollAdjustedTranslate:Yt}=Et.current;if(!xt||ut.current==null||!Bt||!Yt)return;const{onDragOver:W}=X.current,G=Jt.get(fe),at=G&&G.rect.current?{id:G.id,rect:G.rect.current,data:G.data,disabled:G.disabled}:null,bt={active:xt,activatorEvent:Bt,collisions:Vt,delta:{x:Yt.x,y:Yt.y},over:at};reactDomExports.unstable_batchedUpdates(()=>{ne(at),W==null||W(bt),R({type:"onDragOver",event:bt})})},[fe]),useIsomorphicLayoutEffect(()=>{Et.current={activatorEvent:Y,active:Q,activeNode:q,collisionRect:ae,collisions:ie,droppableRects:d,draggableNodes:_,draggingNode:jt,draggingNodeRect:ft,droppableContainers:Z,over:Qt,scrollableAncestors:ot,scrollAdjustedTranslate:It},z.current={initial:ft,translated:ae}},[Q,q,ie,ae,_,jt,ft,d,Z,Qt,ot,It]),useAutoScroller({...J,delta:C,draggingRect:ae,pointerCoordinates:zt,scrollableAncestors:ot,scrollableAncestorRects:gt});const ge=reactExports.useMemo(()=>({active:Q,activeNode:q,activeNodeRect:pt,activatorEvent:Y,collisions:ie,containerNodeRect:Ct,dragOverlay:Nt,draggableNodes:_,droppableContainers:Z,droppableRects:d,over:Qt,measureDroppableContainers:f,scrollableAncestors:ot,scrollableAncestorRects:gt,measuringConfiguration:T,measuringScheduled:N,windowRect:$}),[Q,q,pt,Y,ie,Ct,Nt,_,Z,d,Qt,f,ot,gt,T,N,$]),ce=reactExports.useMemo(()=>({activatorEvent:Y,activators:$t,active:Q,activeNodeRect:pt,ariaDescribedById:{draggable:et},dispatch:m,draggableNodes:_,over:Qt,measureDroppableContainers:f}),[Y,$t,Q,pt,m,et,_,Qt,f]);return React.createElement(DndMonitorContext.Provider,{value:U},React.createElement(InternalContext.Provider,{value:ce},React.createElement(PublicContext.Provider,{value:ge},React.createElement(ActiveDraggableContext.Provider,{value:he},b)),React.createElement(RestoreFocus,{disabled:(V==null?void 0:V.restoreFocus)===!1})),React.createElement(Accessibility,{...V,hiddenTextDescribedById:et}));function tt(){const xt=(nt==null?void 0:nt.autoScrollEnabled)===!1,Bt=typeof S=="object"?S.enabled===!1:S===!1,Vt=E&&!xt&&!Bt;return typeof S=="object"?{...S,enabled:Vt}:{enabled:Vt}}}),NullContext=reactExports.createContext(null),defaultRole="button",ID_PREFIX="Draggable";function useDraggable(l){let{id:s,data:u,disabled:o=!1,attributes:h}=l;const L=useUniqueId(ID_PREFIX),{activators:D,activatorEvent:V,active:S,activeNodeRect:b,ariaDescribedById:y,draggableNodes:w,over:j}=reactExports.useContext(InternalContext),{role:M=defaultRole,roleDescription:O="draggable",tabIndex:F=0}=h??{},x=(S==null?void 0:S.id)===s,m=reactExports.useContext(x?ActiveDraggableContext:NullContext),[R,U]=useNodeRef(),[P,v]=useNodeRef(),E=useSyntheticListeners(D,s),p=useLatestValue(u);useIsomorphicLayoutEffect(()=>(w.set(s,{id:s,key:L,node:R,activatorNode:P,data:p}),()=>{const C=w.get(s);C&&C.key===L&&w.delete(s)}),[w,s]);const _=reactExports.useMemo(()=>({role:M,tabIndex:F,"aria-disabled":o,"aria-pressed":x&&M===defaultRole?!0:void 0,"aria-roledescription":O,"aria-describedby":y.draggable}),[o,M,F,x,O,y.draggable]);return{active:S,activatorEvent:V,activeNodeRect:b,attributes:_,isDragging:x,listeners:o?void 0:E,node:R,over:j,setNodeRef:U,setActivatorNodeRef:v,transform:m}}function useDndContext(){return reactExports.useContext(PublicContext)}const ID_PREFIX$1="Droppable",defaultResizeObserverConfig={timeout:25};function useDroppable(l){let{data:s,disabled:u=!1,id:o,resizeObserverConfig:h}=l;const L=useUniqueId(ID_PREFIX$1),{active:D,dispatch:V,over:S,measureDroppableContainers:b}=reactExports.useContext(InternalContext),y=reactExports.useRef({disabled:u}),w=reactExports.useRef(!1),j=reactExports.useRef(null),M=reactExports.useRef(null),{disabled:O,updateMeasurementsFor:F,timeout:x}={...defaultResizeObserverConfig,...h},m=useLatestValue(F??o),R=reactExports.useCallback(()=>{if(!w.current){w.current=!0;return}M.current!=null&&clearTimeout(M.current),M.current=setTimeout(()=>{b(Array.isArray(m.current)?m.current:[m.current]),M.current=null},x)},[x]),U=useResizeObserver({callback:R,disabled:O||!D}),P=reactExports.useCallback((_,C)=>{U&&(C&&(U.unobserve(C),w.current=!1),_&&U.observe(_))},[U]),[v,E]=useNodeRef(P),p=useLatestValue(s);return reactExports.useEffect(()=>{!U||!v.current||(U.disconnect(),w.current=!1,U.observe(v.current))},[v,U]),reactExports.useEffect(()=>(V({type:Action.RegisterDroppable,element:{id:o,key:L,disabled:u,node:v,rect:j,data:p}}),()=>V({type:Action.UnregisterDroppable,key:L,id:o})),[o]),reactExports.useEffect(()=>{u!==y.current.disabled&&(V({type:Action.SetDroppableDisabled,id:o,key:L,disabled:u}),y.current.disabled=u)},[o,L,u,V]),{active:D,rect:j,isOver:(S==null?void 0:S.id)===o,node:v,over:S,setNodeRef:E}}function AnimationManager(l){let{animation:s,children:u}=l;const[o,h]=reactExports.useState(null),[L,D]=reactExports.useState(null),V=usePrevious(u);return!u&&!o&&V&&h(V),useIsomorphicLayoutEffect(()=>{if(!L)return;const S=o==null?void 0:o.key,b=o==null?void 0:o.props.id;if(S==null||b==null){h(null);return}Promise.resolve(s(b,L)).then(()=>{h(null)})},[s,o,L]),React.createElement(React.Fragment,null,u,o?reactExports.cloneElement(o,{ref:D}):null)}const defaultTransform={x:0,y:0,scaleX:1,scaleY:1};function NullifiedContextProvider(l){let{children:s}=l;return React.createElement(InternalContext.Provider,{value:defaultInternalContext},React.createElement(ActiveDraggableContext.Provider,{value:defaultTransform},s))}const baseStyles={position:"fixed",touchAction:"none"},defaultTransition=l=>isKeyboardEvent(l)?"transform 250ms ease":void 0,PositionedOverlay=reactExports.forwardRef((l,s)=>{let{as:u,activatorEvent:o,adjustScale:h,children:L,className:D,rect:V,style:S,transform:b,transition:y=defaultTransition}=l;if(!V)return null;const w=h?b:{...b,scaleX:1,scaleY:1},j={...baseStyles,width:V.width,height:V.height,top:V.top,left:V.left,transform:CSS$1.Transform.toString(w),transformOrigin:h&&o?getRelativeTransformOrigin(o,V):void 0,transition:typeof y=="function"?y(o):y,...S};return React.createElement(u,{className:D,style:j,ref:s},L)}),defaultDropAnimationSideEffects=l=>s=>{let{active:u,dragOverlay:o}=s;const h={},{styles:L,className:D}=l;if(L!=null&&L.active)for(const[V,S]of Object.entries(L.active))S!==void 0&&(h[V]=u.node.style.getPropertyValue(V),u.node.style.setProperty(V,S));if(L!=null&&L.dragOverlay)for(const[V,S]of Object.entries(L.dragOverlay))S!==void 0&&o.node.style.setProperty(V,S);return D!=null&&D.active&&u.node.classList.add(D.active),D!=null&&D.dragOverlay&&o.node.classList.add(D.dragOverlay),function(){for(const[S,b]of Object.entries(h))u.node.style.setProperty(S,b);D!=null&&D.active&&u.node.classList.remove(D.active)}},defaultKeyframeResolver=l=>{let{transform:{initial:s,final:u}}=l;return[{transform:CSS$1.Transform.toString(s)},{transform:CSS$1.Transform.toString(u)}]},defaultDropAnimationConfiguration={duration:250,easing:"ease",keyframes:defaultKeyframeResolver,sideEffects:defaultDropAnimationSideEffects({styles:{active:{opacity:"0"}}})};function useDropAnimation(l){let{config:s,draggableNodes:u,droppableContainers:o,measuringConfiguration:h}=l;return useEvent((L,D)=>{if(s===null)return;const V=u.get(L);if(!V)return;const S=V.node.current;if(!S)return;const b=getMeasurableNode(D);if(!b)return;const{transform:y}=getWindow(D).getComputedStyle(D),w=parseTransform(y);if(!w)return;const j=typeof s=="function"?s:createDefaultDropAnimation(s);return scrollIntoViewIfNeeded(S,h.draggable.measure),j({active:{id:L,data:V.data,node:S,rect:h.draggable.measure(S)},draggableNodes:u,dragOverlay:{node:D,rect:h.dragOverlay.measure(b)},droppableContainers:o,measuringConfiguration:h,transform:w})})}function createDefaultDropAnimation(l){const{duration:s,easing:u,sideEffects:o,keyframes:h}={...defaultDropAnimationConfiguration,...l};return L=>{let{active:D,dragOverlay:V,transform:S,...b}=L;if(!s)return;const y={x:V.rect.left-D.rect.left,y:V.rect.top-D.rect.top},w={scaleX:S.scaleX!==1?D.rect.width*S.scaleX/V.rect.width:1,scaleY:S.scaleY!==1?D.rect.height*S.scaleY/V.rect.height:1},j={x:S.x-y.x,y:S.y-y.y,...w},M=h({...b,active:D,dragOverlay:V,transform:{initial:S,final:j}}),[O]=M,F=M[M.length-1];if(JSON.stringify(O)===JSON.stringify(F))return;const x=o==null?void 0:o({active:D,dragOverlay:V,...b}),m=V.node.animate(M,{duration:s,easing:u,fill:"forwards"});return new Promise(R=>{m.onfinish=()=>{x==null||x(),R()}})}}let key=0;function useKey(l){return reactExports.useMemo(()=>{if(l!=null)return key++,key},[l])}const DragOverlay=React.memo(l=>{let{adjustScale:s=!1,children:u,dropAnimation:o,style:h,transition:L,modifiers:D,wrapperElement:V="div",className:S,zIndex:b=999}=l;const{activatorEvent:y,active:w,activeNodeRect:j,containerNodeRect:M,draggableNodes:O,droppableContainers:F,dragOverlay:x,over:m,measuringConfiguration:R,scrollableAncestors:U,scrollableAncestorRects:P,windowRect:v}=useDndContext(),E=reactExports.useContext(ActiveDraggableContext),p=useKey(w==null?void 0:w.id),_=applyModifiers(D,{activatorEvent:y,active:w,activeNodeRect:j,containerNodeRect:M,draggingNodeRect:x.rect,over:m,overlayNodeRect:x.rect,scrollableAncestors:U,scrollableAncestorRects:P,transform:E,windowRect:v}),C=useInitialValue(j),Z=useDropAnimation({config:o,draggableNodes:O,droppableContainers:F,measuringConfiguration:R}),A=C?x.setRef:void 0;return React.createElement(NullifiedContextProvider,null,React.createElement(AnimationManager,{animation:Z},w&&p?React.createElement(PositionedOverlay,{key:p,id:w.id,ref:A,as:V,activatorEvent:y,adjustScale:s,className:S,transition:L,rect:C,style:{zIndex:b,...h},transform:_},u):null))});function hasSortableData(l){if(!l)return!1;const s=l.data.current;return!!(s&&"sortable"in s&&typeof s.sortable=="object"&&"containerId"in s.sortable&&"items"in s.sortable&&"index"in s.sortable)}const directions=[KeyboardCode.Down,KeyboardCode.Right,KeyboardCode.Up,KeyboardCode.Left],sortableKeyboardCoordinates=(l,s)=>{let{context:{active:u,collisionRect:o,droppableRects:h,droppableContainers:L,over:D,scrollableAncestors:V}}=s;if(directions.includes(l.code)){if(l.preventDefault(),!u||!o)return;const S=[];L.getEnabled().forEach(w=>{if(!w||w!=null&&w.disabled)return;const j=h.get(w.id);if(j)switch(l.code){case KeyboardCode.Down:o.top<j.top&&S.push(w);break;case KeyboardCode.Up:o.top>j.top&&S.push(w);break;case KeyboardCode.Left:o.left>j.left&&S.push(w);break;case KeyboardCode.Right:o.left<j.left&&S.push(w);break}});const b=closestCorners({collisionRect:o,droppableRects:h,droppableContainers:S});let y=getFirstCollision(b,"id");if(y===(D==null?void 0:D.id)&&b.length>1&&(y=b[1].id),y!=null){const w=L.get(u.id),j=L.get(y),M=j?h.get(j.id):null,O=j==null?void 0:j.node.current;if(O&&M&&w&&j){const x=getScrollableAncestors(O).some((E,p)=>V[p]!==E),m=isSameContainer(w,j),R=isAfter(w,j),U=x||!m?{x:0,y:0}:{x:R?o.width-M.width:0,y:R?o.height-M.height:0},P={x:M.left,y:M.top};return U.x&&U.y?P:subtract(P,U)}}}};function isSameContainer(l,s){return!hasSortableData(l)||!hasSortableData(s)?!1:l.data.current.sortable.containerId===s.data.current.sortable.containerId}function isAfter(l,s){return!hasSortableData(l)||!hasSortableData(s)||!isSameContainer(l,s)?!1:l.data.current.sortable.index<s.data.current.sortable.index}const DraggableTeacher=({id:l,name:s,isOverlay:u})=>{const{attributes:o,listeners:h,setNodeRef:L,transform:D,isDragging:V}=useDraggable({id:l,data:{name:s}}),S=D?{transform:`translate3d(${D.x}px, ${D.y}px, 0)`}:void 0,b="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded border border-blue-200 cursor-grab active:cursor-grabbing shadow-sm select-none truncate max-w-full",y=V?"opacity-50":"",w=u?"z-50 shadow-xl scale-105":"";return jsxRuntimeExports.jsx("div",{ref:L,style:S,...h,...o,className:`${b} ${y} ${w}`,title:s,children:s})},DroppableCell=({day:l,period:s,assignments:u})=>{const{setNodeRef:o,isOver:h}=useDroppable({id:`${l}-${s}`,data:{day:l,period:s}});return jsxRuntimeExports.jsx("div",{ref:o,className:`h-24 p-1 border border-gray-200 transition-colors duration-200 overflow-y-auto ${h?"bg-blue-50 border-blue-300":"bg-white"}`,children:jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(L=>jsxRuntimeExports.jsx(DraggableTeacher,{id:L.id,name:L.teacherName},L.id))})})},DAYS$1=["Htf","Kedd","Szerda","Cstrtk","Pntek"],PERIODS=[1,2,3,4,5,6,7,8],StandbyGrid=({assignments:l})=>jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsx("div",{className:"min-w-[800px]",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[50px_repeat(5,_1fr)] gap-0 border-t border-l border-gray-200",children:[jsxRuntimeExports.jsx("div",{className:"bg-gray-100 p-2 font-bold text-center border-b border-r border-gray-200",children:"#"}),DAYS$1.map(s=>jsxRuntimeExports.jsx("div",{className:"bg-gray-100 p-2 font-bold text-center border-b border-r border-gray-200",children:s},s)),PERIODS.map(s=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-2 font-bold text-center flex items-center justify-center border-b border-r border-gray-200",children:[s,"."]}),DAYS$1.map(u=>jsxRuntimeExports.jsx("div",{className:"border-b border-r border-gray-200",children:jsxRuntimeExports.jsx(DroppableCell,{day:u,period:s,assignments:l.filter(o=>o.day===u&&o.period===s)})},`${u}-${s}`))]},s))]})})}),DAYS=["Htf","Kedd","Szerda","Cstrtk","Pntek"],MAX_DAILY_HOURS=7,WEEKLY_QUOTA=3,generateStandbySchedule=(l,s,u=[])=>{let o=[...u];const h=(D,V)=>{const S=s.find(j=>j.name===D);if(!S)return 0;let b=0;const y=S.freePeriods[V]||[];for(let j=1;j<=8;j++)y.includes(j)||b++;const w=o.filter(j=>j.teacherName===D&&j.day===V).length;return b+w},L=D=>o.filter(V=>V.teacherName===D).length;for(const D of l){const V=s.find(y=>y.name===D);if(!V)continue;let S=L(D);if(S>=WEEKLY_QUOTA)continue;const b=[];for(const y of DAYS){const w=V.freePeriods[y]||[],j=w.filter(x=>x>=1&&x<=8).sort((x,m)=>x-m),M=[];for(let x=1;x<=8;x++)w.includes(x)||M.push(x);if(M.sort((x,m)=>x-m),M.length===0)continue;const O=M[0],F=M[M.length-1];for(const x of j)o.some(m=>m.teacherName===D&&m.day===y&&m.period===x)||h(D,y)>=MAX_DAILY_HOURS||(x>O&&x<F?b.push({day:y,period:x,priority:2,type:"gap"}):(x===O-1||x===F+1)&&b.push({day:y,period:x,priority:1,type:"adjacent"}))}b.sort((y,w)=>w.priority-y.priority);for(const y of b){if(S>=WEEKLY_QUOTA)break;h(D,y.day)>=MAX_DAILY_HOURS||(o.push({id:`${D}-${y.day}-${y.period}-${Date.now()}-${Math.random()}`,teacherName:D,day:y.day,period:y.period}),S++)}}return o},AvailabilityManager=({schedules:l})=>{const[s,u]=reactExports.useState([]),[o,h]=reactExports.useState([]),[L,D]=reactExports.useState(null),[V,S]=reactExports.useState(!0);reactExports.useEffect(()=>{l.length>0&&o.length===0&&h(l.map(x=>x.name))},[l]);const b=useSensors(useSensor(PointerSensor),useSensor(KeyboardSensor,{coordinateGetter:sortableKeyboardCoordinates})),y=()=>{const x=generateStandbySchedule(o,l,[]);u(x)},w=()=>{u([])},j=x=>{D(x.active.id)},M=x=>{const{active:m,over:R}=x;if(D(null),!R)return;const U=m.id,P=R.id;if(P.includes("-")){const[E,p]=P.split("-"),_=parseInt(p,10);let C="",Z=!1;const A=s.find(z=>z.id===U);if(A?C=A.teacherName:(C=U,Z=!0),Z){const z={id:`${C}-${E}-${_}-${Date.now()}`,teacherName:C,day:E,period:_};u([...s,z])}else u(s.map(z=>z.id===U?{...z,day:E,period:_}:z))}else P==="sidebar-droppable"&&u(s.filter(E=>E.id!==U))},O=x=>{h(m=>m.includes(x)?m.filter(R=>R!==x):[...m,x])},F=x=>{const m=s.find(R=>R.id===x);return m?m.teacherName:x};return jsxRuntimeExports.jsxs(DndContext,{sensors:b,collisionDetection:closestCenter,onDragStart:j,onDragEnd:M,children:[jsxRuntimeExports.jsxs("div",{className:"flex h-[calc(100vh-200px)]",children:[jsxRuntimeExports.jsxs("div",{className:`bg-white border-r border-gray-200 transition-all duration-300 flex flex-col ${V?"w-64":"w-12"}`,children:[jsxRuntimeExports.jsxs("div",{className:"p-2 border-b border-gray-200 flex justify-between items-center bg-gray-50",children:[V&&jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-700",children:"Tanrok"}),jsxRuntimeExports.jsx("button",{onClick:()=>S(!V),className:"p-1 hover:bg-gray-200 rounded",children:V?"":""})]}),V&&jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4 space-y-2",children:[jsxRuntimeExports.jsx("button",{onClick:y,className:"w-full py-2 px-4 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors shadow-sm text-sm font-medium",children:"Automatikus Kioszts"}),jsxRuntimeExports.jsx("button",{onClick:w,className:"w-full py-2 px-4 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors text-sm font-medium",children:"Trls"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Elrhet Tanrok"}),l.map(x=>jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between group",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:o.includes(x.name),onChange:()=>O(x.name),className:"rounded text-blue-600 focus:ring-blue-500 h-4 w-4 border-gray-300"}),jsxRuntimeExports.jsx(DraggableTeacher,{id:x.name,name:x.name})]})},x.name))]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-auto bg-gray-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 min-h-full",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Rendelkezsre lls beoszts"}),jsxRuntimeExports.jsx(StandbyGrid,{assignments:s})]})})]}),jsxRuntimeExports.jsx(DragOverlay,{children:L?jsxRuntimeExports.jsx(DraggableTeacher,{id:L,name:F(L),isOverlay:!0}):null})]})},App=()=>{const[l,s]=reactExports.useState("substitution"),[u,o]=reactExports.useState(null),[h,L]=reactExports.useState([]),[D,V]=reactExports.useState(!1),[S,b]=reactExports.useState(null),[y,w]=reactExports.useState(""),[j,M]=reactExports.useState(""),[O,F]=reactExports.useState({key:"count",direction:"descending"}),[x,m]=reactExports.useState(null),[R,U]=reactExports.useState([]),[P,v]=reactExports.useState(!1),[E,p]=reactExports.useState(null);reactExports.useEffect(()=>{try{const B=localStorage.getItem("khlista_schedules");B&&U(JSON.parse(B))}catch(B){console.error("Failed to load schedules from local storage",B)}},[]);const _=B=>{o(B),L([]),b(null),w(""),M(""),F({key:"count",direction:"descending"})},C=B=>{m(B),p(null)},Z=reactExports.useCallback(async()=>{if(!u){b("Krlek, vlassz egy fjlt a feldolgozshoz.");return}V(!0),b(null),L([]);try{const B=await processExcelFile(u);L(B),B.length===0&&b("Nem tallhat feldolgozhat adat a fjlban. Ellenrizd a formtumot.")}catch(B){console.error(B),b("Hiba trtnt a fjl feldolgozsa kzben. Ellenrizd, hogy a fjl formtuma megfelel-e.")}finally{V(!1)}},[u]),A=reactExports.useCallback(async()=>{if(!x){p("Krlek, vlassz egy PDF fjlt a feldolgozshoz.");return}v(!0),p(null);try{const B=await processPdfFile(x);U(B);try{localStorage.setItem("khlista_schedules",JSON.stringify(B))}catch(Y){console.error("Failed to save schedules to local storage",Y),p("Sikerlt feldolgozni, de a ments nem sikerlt (pl. megtelt a trhely).")}B.length===0&&p("Nem sikerlt adatokat kinyerni a PDF-bl. Ellenrizd, hogy szveges PDF-rl van-e sz.")}catch(B){console.error(B),p("Hiba trtnt a PDF feldolgozsa kzben. Gyzdj meg rla, hogy nem srlt a fjl.")}finally{v(!1)}},[x]),z=B=>{let Y="ascending";O.key===B&&O.direction==="ascending"&&(Y="descending"),F({key:B,direction:Y})},Q=reactExports.useMemo(()=>{const B=new Set;return h.forEach(Y=>{Object.keys(Y.monthlyCounts).forEach(st=>{B.add(st)})}),Array.from(B).sort((Y,st)=>Y.localeCompare(st))},[h]),ut=reactExports.useMemo(()=>{let B=[...h];y&&(B=B.filter(st=>st.name.toLowerCase().includes(y.toLowerCase())));const Y=typeof j=="string"?parseInt(j,10):j;if(!isNaN(Y)&&Y>0){const st=new Date,X=st.getFullYear(),et=(st.getMonth()+1).toString().padStart(2,"0"),k=`${X}-${et}`;B=B.filter(T=>(T.monthlyCounts[k]||0)>=Y)}return B.sort((st,X)=>{const et=st[O.key],k=X[O.key];return et<k?O.direction==="ascending"?-1:1:et>k?O.direction==="ascending"?1:-1:O.key!=="name"?st.name.localeCompare(X.name):0}),B},[h,y,j,O]),nt=h.length>0;return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center p-4 sm:p-6 lg:p-8 font-sans",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mt-6 mb-8",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-1 rounded-lg shadow-sm border border-gray-200 inline-flex",children:[jsxRuntimeExports.jsx("button",{onClick:()=>s("substitution"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all duration-200 ${l==="substitution"?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:"Helyettestsek"}),jsxRuntimeExports.jsx("button",{onClick:()=>s("schedule"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all duration-200 ${l==="schedule"?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:"Lyukasra Keres"}),jsxRuntimeExports.jsx("button",{onClick:()=>s("availability"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all duration-200 ${l==="availability"?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:"Rendelkezsre lls"})]})}),jsxRuntimeExports.jsxs("main",{className:"space-y-8",children:[l==="substitution"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InstructionCard,{}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"1. Fjl feltltse"}),jsxRuntimeExports.jsx(FileUpload,{onFileChange:_,onProcess:Z,isLoading:D,selectedFile:u})]}),S&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md shadow",role:"alert",children:[jsxRuntimeExports.jsx("p",{className:"font-bold",children:"Hiba"}),jsxRuntimeExports.jsx("p",{children:S})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(TableIcon,{}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800 ml-3",children:"2. Eredmnyek"})]}),nt&&jsxRuntimeExports.jsxs("div",{className:"space-y-4 mb-6 no-print",children:[jsxRuntimeExports.jsx(FilterControls,{nameFilter:y,onNameFilterChange:w,countFilter:j,onCountFilterChange:M,disabled:!nt}),jsxRuntimeExports.jsx(ActionButtons,{data:ut,disabled:ut.length===0})]}),jsxRuntimeExports.jsx("div",{className:"printable-area",children:ut.length>0?jsxRuntimeExports.jsx(ResultsTable,{data:ut,requestSort:z,sortConfig:O,months:Q}):jsxRuntimeExports.jsx("div",{className:"text-center py-10 px-6 bg-gray-50 rounded-lg",children:jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:nt?"A szrsi feltteleknek egyetlen eredmny sem felel meg.":"Mg nincsenek eredmnyek. Tltsn fel s dolgozzon fel egy Excel fjlt a kimutats megtekintshez."})})})]})]}),l==="schedule"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"1. rarend PDF feltltse"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Tltsd fel a Krta rendszerbl exportlt, tanrok rarendjt tartalmaz PDF fjlt."}),jsxRuntimeExports.jsx(PdfUpload,{onFileChange:C,onProcess:A,isLoading:P,selectedFile:x})]}),E&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md shadow",role:"alert",children:[jsxRuntimeExports.jsx("p",{className:"font-bold",children:"Hiba"}),jsxRuntimeExports.jsx("p",{children:E})]}),R.length>0&&jsxRuntimeExports.jsx(FreeTeacherSearch,{schedules:R,substitutionData:h})]}),l==="availability"&&jsxRuntimeExports.jsx(AvailabilityManager,{schedules:R})]}),jsxRuntimeExports.jsx("footer",{className:"text-center mt-12 text-gray-500 text-sm no-print",children:jsxRuntimeExports.jsxs("p",{children:[" ",new Date().getFullYear()," Helyettests sszest. Minden jog fenntartva."]})})]})})},rootElement=document.getElementById("root");if(!rootElement)throw new Error("Could not find root element to mount to");const root=ReactDOM.createRoot(rootElement);root.render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
