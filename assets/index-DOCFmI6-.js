var Ag=Object.defineProperty;var Of=J=>{throw TypeError(J)};var Sg=(J,m,at)=>m in J?Ag(J,m,{enumerable:!0,configurable:!0,writable:!0,value:at}):J[m]=at;var De=(J,m,at)=>Sg(J,typeof m!="symbol"?m+"":m,at),rc=(J,m,at)=>m.has(J)||Of("Cannot "+at);var r=(J,m,at)=>(rc(J,m,"read from private field"),at?at.call(J):m.get(J)),gt=(J,m,at)=>m.has(J)?Of("Cannot add the same private member more than once"):m instanceof WeakSet?m.add(J):m.set(J,at),yt=(J,m,at,l)=>(rc(J,m,"write to private field"),l?l.call(J,at):m.set(J,at),at),st=(J,m,at)=>(rc(J,m,"access private method"),at);var bs=(J,m,at,l)=>({set _(R){yt(J,m,R,at)},get _(){return r(J,m,l)}});(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const R of document.querySelectorAll('link[rel="modulepreload"]'))l(R);new MutationObserver(R=>{for(const rt of R)if(rt.type==="childList")for(const Q of rt.addedNodes)Q.tagName==="LINK"&&Q.rel==="modulepreload"&&l(Q)}).observe(document,{childList:!0,subtree:!0});function at(R){const rt={};return R.integrity&&(rt.integrity=R.integrity),R.referrerPolicy&&(rt.referrerPolicy=R.referrerPolicy),R.crossOrigin==="use-credentials"?rt.credentials="include":R.crossOrigin==="anonymous"?rt.credentials="omit":rt.credentials="same-origin",rt}function l(R){if(R.ep)return;R.ep=!0;const rt=at(R);fetch(R.href,rt)}})();function getDefaultExportFromCjs(J){return J&&J.__esModule&&Object.prototype.hasOwnProperty.call(J,"default")?J.default:J}function getAugmentedNamespace(J){if(Object.prototype.hasOwnProperty.call(J,"__esModule"))return J;var m=J.default;if(typeof m=="function"){var at=function l(){return this instanceof l?Reflect.construct(m,arguments,this.constructor):m.apply(this,arguments)};at.prototype=m.prototype}else at={};return Object.defineProperty(at,"__esModule",{value:!0}),Object.keys(J).forEach(function(l){var R=Object.getOwnPropertyDescriptor(J,l);Object.defineProperty(at,l,R.get?R:{enumerable:!0,get:function(){return J[l]}})}),at}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var J=Symbol.for("react.transitional.element"),m=Symbol.for("react.fragment");function at(l,R,rt){var Q=null;if(rt!==void 0&&(Q=""+rt),R.key!==void 0&&(Q=""+R.key),"key"in R){rt={};for(var _t in R)_t!=="key"&&(rt[_t]=R[_t])}else rt=R;return R=rt.ref,{$$typeof:J,type:l,key:Q,ref:R!==void 0?R:null,props:rt}}return reactJsxRuntime_production.Fragment=m,reactJsxRuntime_production.jsx=at,reactJsxRuntime_production.jsxs=at,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var J=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),at=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),G=Symbol.iterator;function O(S){return S===null||typeof S!="object"?null:(S=G&&S[G]||S["@@iterator"],typeof S=="function"?S:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,C={};function d(S,g,o){this.props=S,this.context=g,this.refs=C,this.updater=o||T}d.prototype.isReactComponent={},d.prototype.setState=function(S,g){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,g,"setState")},d.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function E(){}E.prototype=d.prototype;function U(S,g,o){this.props=S,this.context=g,this.refs=C,this.updater=o||T}var k=U.prototype=new E;k.constructor=U,N(k,d.prototype),k.isPureReactComponent=!0;var p=Array.isArray;function b(){}var h={H:null,A:null,T:null,S:null},y=Object.prototype.hasOwnProperty;function v(S,g,o){var c=o.ref;return{$$typeof:J,type:S,key:g,ref:c!==void 0?c:null,props:o}}function K(S,g){return v(S.type,g,S.props)}function f(S){return typeof S=="object"&&S!==null&&S.$$typeof===J}function M(S){var g={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(o){return g[o]})}var Y=/\/+/g;function ht(S,g){return typeof S=="object"&&S!==null&&S.key!=null?M(""+S.key):g.toString(36)}function $(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(b,b):(S.status="pending",S.then(function(g){S.status==="pending"&&(S.status="fulfilled",S.value=g)},function(g){S.status==="pending"&&(S.status="rejected",S.reason=g)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function w(S,g,o,c,_){var z=typeof S;(z==="undefined"||z==="boolean")&&(S=null);var B=!1;if(S===null)B=!0;else switch(z){case"bigint":case"string":case"number":B=!0;break;case"object":switch(S.$$typeof){case J:case m:B=!0;break;case x:return B=S._init,w(B(S._payload),g,o,c,_)}}if(B)return _=_(S),B=c===""?"."+ht(S,0):c,p(_)?(o="",B!=null&&(o=B.replace(Y,"$&/")+"/"),w(_,g,o,"",function(mt){return mt})):_!=null&&(f(_)&&(_=K(_,o+(_.key==null||S&&S.key===_.key?"":(""+_.key).replace(Y,"$&/")+"/")+B)),g.push(_)),1;B=0;var X=c===""?".":c+":";if(p(S))for(var tt=0;tt<S.length;tt++)c=S[tt],z=X+ht(c,tt),B+=w(c,g,o,z,_);else if(tt=O(S),typeof tt=="function")for(S=tt.call(S),tt=0;!(c=S.next()).done;)c=c.value,z=X+ht(c,tt++),B+=w(c,g,o,z,_);else if(z==="object"){if(typeof S.then=="function")return w($(S),g,o,c,_);throw g=String(S),Error("Objects are not valid as a React child (found: "+(g==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":g)+"). If you meant to render a collection of children, use an array instead.")}return B}function I(S,g,o){if(S==null)return S;var c=[],_=0;return w(S,c,"","",function(z){return g.call(o,z,_++)}),c}function nt(S){if(S._status===-1){var g=S._result;g=g(),g.then(function(o){(S._status===0||S._status===-1)&&(S._status=1,S._result=o)},function(o){(S._status===0||S._status===-1)&&(S._status=2,S._result=o)}),S._status===-1&&(S._status=0,S._result=g)}if(S._status===1)return S._result.default;throw S._result}var j=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},Z={map:I,forEach:function(S,g,o){I(S,function(){g.apply(this,arguments)},o)},count:function(S){var g=0;return I(S,function(){g++}),g},toArray:function(S){return I(S,function(g){return g})||[]},only:function(S){if(!f(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return react_production.Activity=H,react_production.Children=Z,react_production.Component=d,react_production.Fragment=at,react_production.Profiler=R,react_production.PureComponent=U,react_production.StrictMode=l,react_production.Suspense=F,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=h,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(S){return h.H.useMemoCache(S)}},react_production.cache=function(S){return function(){return S.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(S,g,o){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var c=N({},S.props),_=S.key;if(g!=null)for(z in g.key!==void 0&&(_=""+g.key),g)!y.call(g,z)||z==="key"||z==="__self"||z==="__source"||z==="ref"&&g.ref===void 0||(c[z]=g[z]);var z=arguments.length-2;if(z===1)c.children=o;else if(1<z){for(var B=Array(z),X=0;X<z;X++)B[X]=arguments[X+2];c.children=B}return v(S.type,_,c)},react_production.createContext=function(S){return S={$$typeof:Q,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:rt,_context:S},S},react_production.createElement=function(S,g,o){var c,_={},z=null;if(g!=null)for(c in g.key!==void 0&&(z=""+g.key),g)y.call(g,c)&&c!=="key"&&c!=="__self"&&c!=="__source"&&(_[c]=g[c]);var B=arguments.length-2;if(B===1)_.children=o;else if(1<B){for(var X=Array(B),tt=0;tt<B;tt++)X[tt]=arguments[tt+2];_.children=X}if(S&&S.defaultProps)for(c in B=S.defaultProps,B)_[c]===void 0&&(_[c]=B[c]);return v(S,z,_)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(S){return{$$typeof:_t,render:S}},react_production.isValidElement=f,react_production.lazy=function(S){return{$$typeof:x,_payload:{_status:-1,_result:S},_init:nt}},react_production.memo=function(S,g){return{$$typeof:A,type:S,compare:g===void 0?null:g}},react_production.startTransition=function(S){var g=h.T,o={};h.T=o;try{var c=S(),_=h.S;_!==null&&_(o,c),typeof c=="object"&&c!==null&&typeof c.then=="function"&&c.then(b,j)}catch(z){j(z)}finally{g!==null&&o.types!==null&&(g.types=o.types),h.T=g}},react_production.unstable_useCacheRefresh=function(){return h.H.useCacheRefresh()},react_production.use=function(S){return h.H.use(S)},react_production.useActionState=function(S,g,o){return h.H.useActionState(S,g,o)},react_production.useCallback=function(S,g){return h.H.useCallback(S,g)},react_production.useContext=function(S){return h.H.useContext(S)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(S,g){return h.H.useDeferredValue(S,g)},react_production.useEffect=function(S,g){return h.H.useEffect(S,g)},react_production.useEffectEvent=function(S){return h.H.useEffectEvent(S)},react_production.useId=function(){return h.H.useId()},react_production.useImperativeHandle=function(S,g,o){return h.H.useImperativeHandle(S,g,o)},react_production.useInsertionEffect=function(S,g){return h.H.useInsertionEffect(S,g)},react_production.useLayoutEffect=function(S,g){return h.H.useLayoutEffect(S,g)},react_production.useMemo=function(S,g){return h.H.useMemo(S,g)},react_production.useOptimistic=function(S,g){return h.H.useOptimistic(S,g)},react_production.useReducer=function(S,g,o){return h.H.useReducer(S,g,o)},react_production.useRef=function(S){return h.H.useRef(S)},react_production.useState=function(S){return h.H.useState(S)},react_production.useSyncExternalStore=function(S,g,o){return h.H.useSyncExternalStore(S,g,o)},react_production.useTransition=function(){return h.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(J){function m(w,I){var nt=w.length;w.push(I);t:for(;0<nt;){var j=nt-1>>>1,Z=w[j];if(0<R(Z,I))w[j]=I,w[nt]=Z,nt=j;else break t}}function at(w){return w.length===0?null:w[0]}function l(w){if(w.length===0)return null;var I=w[0],nt=w.pop();if(nt!==I){w[0]=nt;t:for(var j=0,Z=w.length,S=Z>>>1;j<S;){var g=2*(j+1)-1,o=w[g],c=g+1,_=w[c];if(0>R(o,nt))c<Z&&0>R(_,o)?(w[j]=_,w[c]=nt,j=c):(w[j]=o,w[g]=nt,j=g);else if(c<Z&&0>R(_,nt))w[j]=_,w[c]=nt,j=c;else break t}}return I}function R(w,I){var nt=w.sortIndex-I.sortIndex;return nt!==0?nt:w.id-I.id}if(J.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;J.unstable_now=function(){return rt.now()}}else{var Q=Date,_t=Q.now();J.unstable_now=function(){return Q.now()-_t}}var F=[],A=[],x=1,H=null,G=3,O=!1,T=!1,N=!1,C=!1,d=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function k(w){for(var I=at(A);I!==null;){if(I.callback===null)l(A);else if(I.startTime<=w)l(A),I.sortIndex=I.expirationTime,m(F,I);else break;I=at(A)}}function p(w){if(N=!1,k(w),!T)if(at(F)!==null)T=!0,b||(b=!0,M());else{var I=at(A);I!==null&&$(p,I.startTime-w)}}var b=!1,h=-1,y=5,v=-1;function K(){return C?!0:!(J.unstable_now()-v<y)}function f(){if(C=!1,b){var w=J.unstable_now();v=w;var I=!0;try{t:{T=!1,N&&(N=!1,E(h),h=-1),O=!0;var nt=G;try{e:{for(k(w),H=at(F);H!==null&&!(H.expirationTime>w&&K());){var j=H.callback;if(typeof j=="function"){H.callback=null,G=H.priorityLevel;var Z=j(H.expirationTime<=w);if(w=J.unstable_now(),typeof Z=="function"){H.callback=Z,k(w),I=!0;break e}H===at(F)&&l(F),k(w)}else l(F);H=at(F)}if(H!==null)I=!0;else{var S=at(A);S!==null&&$(p,S.startTime-w),I=!1}}break t}finally{H=null,G=nt,O=!1}I=void 0}}finally{I?M():b=!1}}}var M;if(typeof U=="function")M=function(){U(f)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ht=Y.port2;Y.port1.onmessage=f,M=function(){ht.postMessage(null)}}else M=function(){d(f,0)};function $(w,I){h=d(function(){w(J.unstable_now())},I)}J.unstable_IdlePriority=5,J.unstable_ImmediatePriority=1,J.unstable_LowPriority=4,J.unstable_NormalPriority=3,J.unstable_Profiling=null,J.unstable_UserBlockingPriority=2,J.unstable_cancelCallback=function(w){w.callback=null},J.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<w?Math.floor(1e3/w):5},J.unstable_getCurrentPriorityLevel=function(){return G},J.unstable_next=function(w){switch(G){case 1:case 2:case 3:var I=3;break;default:I=G}var nt=G;G=I;try{return w()}finally{G=nt}},J.unstable_requestPaint=function(){C=!0},J.unstable_runWithPriority=function(w,I){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var nt=G;G=w;try{return I()}finally{G=nt}},J.unstable_scheduleCallback=function(w,I,nt){var j=J.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?j+nt:j):nt=j,w){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=nt+Z,w={id:x++,callback:I,priorityLevel:w,startTime:nt,expirationTime:Z,sortIndex:-1},nt>j?(w.sortIndex=nt,m(A,w),at(F)===null&&w===at(A)&&(N?(E(h),h=-1):N=!0,$(p,nt-j))):(w.sortIndex=Z,m(F,w),T||O||(T=!0,b||(b=!0,M()))),w},J.unstable_shouldYield=K,J.unstable_wrapCallback=function(w){var I=G;return function(){var nt=G;G=I;try{return w.apply(this,arguments)}finally{G=nt}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var J=requireReact();function m(F){var A="https://react.dev/errors/"+F;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)A+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+F+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function at(){}var l={d:{f:at,r:function(){throw Error(m(522))},D:at,C:at,L:at,m:at,X:at,S:at,M:at},p:0,findDOMNode:null},R=Symbol.for("react.portal");function rt(F,A,x){var H=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:H==null?null:""+H,children:F,containerInfo:A,implementation:x}}var Q=J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _t(F,A){if(F==="font")return"";if(typeof A=="string")return A==="use-credentials"?A:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,reactDom_production.createPortal=function(F,A){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)throw Error(m(299));return rt(F,A,null,x)},reactDom_production.flushSync=function(F){var A=Q.T,x=l.p;try{if(Q.T=null,l.p=2,F)return F()}finally{Q.T=A,l.p=x,l.d.f()}},reactDom_production.preconnect=function(F,A){typeof F=="string"&&(A?(A=A.crossOrigin,A=typeof A=="string"?A==="use-credentials"?A:"":void 0):A=null,l.d.C(F,A))},reactDom_production.prefetchDNS=function(F){typeof F=="string"&&l.d.D(F)},reactDom_production.preinit=function(F,A){if(typeof F=="string"&&A&&typeof A.as=="string"){var x=A.as,H=_t(x,A.crossOrigin),G=typeof A.integrity=="string"?A.integrity:void 0,O=typeof A.fetchPriority=="string"?A.fetchPriority:void 0;x==="style"?l.d.S(F,typeof A.precedence=="string"?A.precedence:void 0,{crossOrigin:H,integrity:G,fetchPriority:O}):x==="script"&&l.d.X(F,{crossOrigin:H,integrity:G,fetchPriority:O,nonce:typeof A.nonce=="string"?A.nonce:void 0})}},reactDom_production.preinitModule=function(F,A){if(typeof F=="string")if(typeof A=="object"&&A!==null){if(A.as==null||A.as==="script"){var x=_t(A.as,A.crossOrigin);l.d.M(F,{crossOrigin:x,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0})}}else A==null&&l.d.M(F)},reactDom_production.preload=function(F,A){if(typeof F=="string"&&typeof A=="object"&&A!==null&&typeof A.as=="string"){var x=A.as,H=_t(x,A.crossOrigin);l.d.L(F,x,{crossOrigin:H,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0,type:typeof A.type=="string"?A.type:void 0,fetchPriority:typeof A.fetchPriority=="string"?A.fetchPriority:void 0,referrerPolicy:typeof A.referrerPolicy=="string"?A.referrerPolicy:void 0,imageSrcSet:typeof A.imageSrcSet=="string"?A.imageSrcSet:void 0,imageSizes:typeof A.imageSizes=="string"?A.imageSizes:void 0,media:typeof A.media=="string"?A.media:void 0})}},reactDom_production.preloadModule=function(F,A){if(typeof F=="string")if(A){var x=_t(A.as,A.crossOrigin);l.d.m(F,{as:typeof A.as=="string"&&A.as!=="script"?A.as:void 0,crossOrigin:x,integrity:typeof A.integrity=="string"?A.integrity:void 0})}else l.d.m(F)},reactDom_production.requestFormReset=function(F){l.d.r(F)},reactDom_production.unstable_batchedUpdates=function(F,A){return F(A)},reactDom_production.useFormState=function(F,A,x){return Q.H.useFormState(F,A,x)},reactDom_production.useFormStatus=function(){return Q.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function J(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J)}catch(m){console.error(m)}}return J(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var J=requireScheduler(),m=requireReact(),at=requireReactDom();function l(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function R(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Q(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _t(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function F(t){if(rt(t)!==t)throw Error(l(188))}function A(t){var e=t.alternate;if(!e){if(e=rt(t),e===null)throw Error(l(188));return e!==t?null:t}for(var n=t,i=e;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return F(a),t;if(s===i)return F(a),e;s=s.sibling}throw Error(l(188))}if(n.return!==i.return)n=a,i=s;else{for(var u=!1,D=a.child;D;){if(D===n){u=!0,n=a,i=s;break}if(D===i){u=!0,i=a,n=s;break}D=D.sibling}if(!u){for(D=s.child;D;){if(D===n){u=!0,n=s,i=a;break}if(D===i){u=!0,i=s,n=a;break}D=D.sibling}if(!u)throw Error(l(189))}}if(n.alternate!==i)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?t:e}function x(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=x(t),e!==null)return e;t=t.sibling}return null}var H=Object.assign,G=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),U=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),f=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=f&&t[f]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Symbol.for("react.client.reference");function ht(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Y?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case d:return"Profiler";case C:return"StrictMode";case p:return"Suspense";case b:return"SuspenseList";case v:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case T:return"Portal";case U:return t.displayName||"Context";case E:return(t._context.displayName||"Context")+".Consumer";case k:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case h:return e=t.displayName||null,e!==null?e:ht(t.type)||"Memo";case y:e=t._payload,t=t._init;try{return ht(t(e))}catch{}}return null}var $=Array.isArray,w=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=at.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},j=[],Z=-1;function S(t){return{current:t}}function g(t){0>Z||(t.current=j[Z],j[Z]=null,Z--)}function o(t,e){Z++,j[Z]=t.current,t.current=e}var c=S(null),_=S(null),z=S(null),B=S(null);function X(t,e){switch(o(z,e),o(_,t),o(c,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?$d(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=$d(e),t=tf(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}g(c),o(c,t)}function tt(){g(c),g(_),g(z)}function mt(t){t.memoizedState!==null&&o(B,t);var e=c.current,n=tf(e,t.type);e!==n&&(o(_,t),o(c,n))}function Tt(t){_.current===t&&(g(c),g(_)),B.current===t&&(g(B),ps._currentValue=nt)}var Ct,Lt;function Nt(t){if(Ct===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ct=e&&e[1]||"",Lt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+t+Lt}var jt=!1;function dt(t,e){if(!t||jt)return"";jt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var Ht=function(){throw Error()};if(Object.defineProperty(Ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ht,[])}catch(kt){var wt=kt}Reflect.construct(t,[],Ht)}else{try{Ht.call()}catch(kt){wt=kt}t.call(Ht.prototype)}}else{try{throw Error()}catch(kt){wt=kt}(Ht=t())&&typeof Ht.catch=="function"&&Ht.catch(function(){})}}catch(kt){if(kt&&wt&&typeof kt.stack=="string")return[kt.stack,wt.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),u=s[0],D=s[1];if(u&&D){var it=u.split(`
`),xt=D.split(`
`);for(a=i=0;i<it.length&&!it[i].includes("DetermineComponentFrameRoot");)i++;for(;a<xt.length&&!xt[a].includes("DetermineComponentFrameRoot");)a++;if(i===it.length||a===xt.length)for(i=it.length-1,a=xt.length-1;1<=i&&0<=a&&it[i]!==xt[a];)a--;for(;1<=i&&0<=a;i--,a--)if(it[i]!==xt[a]){if(i!==1||a!==1)do if(i--,a--,0>a||it[i]!==xt[a]){var Pt=`
`+it[i].replace(" at new "," at ");return t.displayName&&Pt.includes("<anonymous>")&&(Pt=Pt.replace("<anonymous>",t.displayName)),Pt}while(1<=i&&0<=a);break}}}finally{jt=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Nt(n):""}function pt(t,e){switch(t.tag){case 26:case 27:case 5:return Nt(t.type);case 16:return Nt("Lazy");case 13:return t.child!==e&&e!==null?Nt("Suspense Fallback"):Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return dt(t.type,!1);case 11:return dt(t.type.render,!1);case 1:return dt(t.type,!0);case 31:return Nt("Activity");default:return""}}function L(t){try{var e="",n=null;do e+=pt(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var V=Object.prototype.hasOwnProperty,lt=J.unstable_scheduleCallback,ft=J.unstable_cancelCallback,Rt=J.unstable_shouldYield,zt=J.unstable_requestPaint,Dt=J.unstable_now,ot=J.unstable_getCurrentPriorityLevel,Gt=J.unstable_ImmediatePriority,It=J.unstable_UserBlockingPriority,re=J.unstable_NormalPriority,ae=J.unstable_LowPriority,pe=J.unstable_IdlePriority,Jt=J.log,ne=J.unstable_setDisableYieldValue,he=null,de=null;function Ot(t){if(typeof Jt=="function"&&ne(t),de&&typeof de.setStrictMode=="function")try{de.setStrictMode(he,t)}catch{}}var ut=Math.clz32?Math.clz32:me,bt=Math.log,Wt=Math.LN2;function me(t){return t>>>=0,t===0?32:31-(bt(t)/Wt|0)|0}var ue=256,W=262144,Mt=4194304;function qt(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zt(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var a=0,s=t.suspendedLanes,u=t.pingedLanes;t=t.warmLanes;var D=i&134217727;return D!==0?(i=D&~s,i!==0?a=qt(i):(u&=D,u!==0?a=qt(u):n||(n=D&~t,n!==0&&(a=qt(n))))):(D=i&~s,D!==0?a=qt(D):u!==0?a=qt(u):n||(n=i&~t,n!==0&&(a=qt(n)))),a===0?0:e!==0&&e!==a&&(e&s)===0&&(s=a&-a,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:a}function te(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Vt(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q(){var t=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),t}function P(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function et(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function At(t,e,n,i,a,s){var u=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var D=t.entanglements,it=t.expirationTimes,xt=t.hiddenUpdates;for(n=u&~n;0<n;){var Pt=31-ut(n),Ht=1<<Pt;D[Pt]=0,it[Pt]=-1;var wt=xt[Pt];if(wt!==null)for(xt[Pt]=null,Pt=0;Pt<wt.length;Pt++){var kt=wt[Pt];kt!==null&&(kt.lane&=-536870913)}n&=~Ht}i!==0&&St(t,i,0),s!==0&&a===0&&t.tag!==0&&(t.suspendedLanes|=s&~(u&~e))}function St(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-ut(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function Ft(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ut(n),a=1<<i;a&e|t[i]&e&&(t[i]|=e),n&=~a}}function Ut(t,e){var n=e&-e;return n=(n&42)!==0?1:$t(n),(n&(t.suspendedLanes|e))!==0?0:n}function $t(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Xt(){var t=I.p;return t!==0?t:(t=window.event,t===void 0?32:xf(t.type))}function le(t,e){var n=I.p;try{return I.p=t,e()}finally{I.p=n}}var Kt=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Kt,ee="__reactProps$"+Kt,oe="__reactContainer$"+Kt,ge="__reactEvents$"+Kt,xe="__reactListeners$"+Kt,qe="__reactHandles$"+Kt,Fe="__reactResources$"+Kt,en="__reactMarker$"+Kt;function bn(t){delete t[Yt],delete t[ee],delete t[ge],delete t[xe],delete t[qe]}function nn(t){var e=t[Yt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oe]||n[Yt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=of(t);t!==null;){if(n=t[Yt])return n;t=of(t)}return e}t=n,n=t.parentNode}return null}function zn(t){if(t=t[Yt]||t[oe]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Da(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(l(33))}function Gi(t){var e=t[Fe];return e||(e=t[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function We(t){t[en]=!0}var Hc=new Set,Ic={};function Ci(t,e){Xi(t,e),Xi(t+"Capture",e)}function Xi(t,e){for(Ic[t]=e,t=0;t<e.length;t++)Hc.add(e[t])}var dp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qc={},Gc={};function fp(t){return V.call(Gc,t)?!0:V.call(qc,t)?!1:dp.test(t)?Gc[t]=!0:(qc[t]=!0,!1)}function Cs(t,e,n){if(fp(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Rs(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Pn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function vn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pp(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(u){n=""+u,s.call(this,u)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jr(t){if(!t._valueTracker){var e=Xc(t)?"checked":"value";t._valueTracker=pp(t,e,""+t[e])}}function Yc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Xc(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ms(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mp=/[\n"\\]/g;function _n(t){return t.replace(mp,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function $r(t,e,n,i,a,s,u,D){t.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.type=u:t.removeAttribute("type"),e!=null?u==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+vn(e)):t.value!==""+vn(e)&&(t.value=""+vn(e)):u!=="submit"&&u!=="reset"||t.removeAttribute("value"),e!=null?tl(t,u,vn(e)):n!=null?tl(t,u,vn(n)):i!=null&&t.removeAttribute("value"),a==null&&s!=null&&(t.defaultChecked=!!s),a!=null&&(t.checked=a&&typeof a!="function"&&typeof a!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?t.name=""+vn(D):t.removeAttribute("name")}function Vc(t,e,n,i,a,s,u,D){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){Jr(t);return}n=n!=null?""+vn(n):"",e=e!=null?""+vn(e):n,D||e===t.value||(t.value=e),t.defaultValue=e}i=i??a,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=D?t.checked:!!i,t.defaultChecked=!!i,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.name=u),Jr(t)}function tl(t,e,n){e==="number"&&Ms(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Yi(t,e,n,i){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&i&&(t[n].defaultSelected=!0)}else{for(n=""+vn(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,i&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Kc(t,e,n){if(e!=null&&(e=""+vn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+vn(n):""}function Wc(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(l(92));if($(i)){if(1<i.length)throw Error(l(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=vn(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),Jr(t)}function Vi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qc(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||gp.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Zc(t,e,n){if(e!=null&&typeof e!="object")throw Error(l(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var a in e)i=e[a],e.hasOwnProperty(a)&&n[a]!==i&&Qc(t,a,i)}else for(var s in e)e.hasOwnProperty(s)&&Qc(t,s,e[s])}function el(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ws(t){return bp.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Un(){}var nl=null;function il(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,Wi=null;function Jc(t){var e=zn(t);if(e&&(t=e.stateNode)){var n=t[ee]||null;t:switch(t=e.stateNode,e.type){case"input":if($r(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_n(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var a=i[ee]||null;if(!a)throw Error(l(90));$r(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&Yc(i)}break t;case"textarea":Kc(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&Yi(t,!!n.multiple,e,!1)}}}var al=!1;function $c(t,e,n){if(al)return t(e,n);al=!0;try{var i=t(e);return i}finally{if(al=!1,(Ki!==null||Wi!==null)&&(gr(),Ki&&(e=Ki,t=Wi,Wi=Ki=null,Jc(e),t)))for(e=0;e<t.length;e++)Jc(t[e])}}function Oa(t,e){var n=t.stateNode;if(n===null)return null;var i=n[ee]||null;if(i===null)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(l(231,e,typeof n));return n}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=!1;if(Bn)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){sl=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{sl=!1}var ii=null,rl=null,Ds=null;function tu(){if(Ds)return Ds;var t,e=rl,n=e.length,i,a="value"in ii?ii.value:ii.textContent,s=a.length;for(t=0;t<n&&e[t]===a[t];t++);var u=n-t;for(i=1;i<=u&&e[n-i]===a[s-i];i++);return Ds=a.slice(t,1<i?1-i:void 0)}function Os(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ks(){return!0}function eu(){return!1}function sn(t){function e(n,i,a,s,u){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var D in t)t.hasOwnProperty(D)&&(n=t[D],this[D]=n?n(s):s[D]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ks:eu,this.isPropagationStopped=eu,this}return H(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),e}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=sn(Ri),La=H({},Ri,{view:0,detail:0}),vp=sn(La),ll,ol,Na,Ns=H({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ul,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Na&&(Na&&t.type==="mousemove"?(ll=t.screenX-Na.screenX,ol=t.screenY-Na.screenY):ol=ll=0,Na=t),ll)},movementY:function(t){return"movementY"in t?t.movementY:ol}}),nu=sn(Ns),_p=H({},Ns,{dataTransfer:0}),Ap=sn(_p),Sp=H({},La,{relatedTarget:0}),cl=sn(Sp),Ep=H({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),xp=sn(Ep),Tp=H({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cp=sn(Tp),Rp=H({},Ri,{data:0}),iu=sn(Rp),Mp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Op(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dp[t])?!!e[t]:!1}function ul(){return Op}var kp=H({},La,{key:function(t){if(t.key){var e=Mp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ul,charCode:function(t){return t.type==="keypress"?Os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lp=sn(kp),Np=H({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),au=sn(Np),Fp=H({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ul}),jp=sn(Fp),zp=H({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pp=sn(zp),Up=H({},Ns,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bp=sn(Up),Hp=H({},Ri,{newState:0,oldState:0}),Ip=sn(Hp),qp=[9,13,27,32],hl=Bn&&"CompositionEvent"in window,Fa=null;Bn&&"documentMode"in document&&(Fa=document.documentMode);var Gp=Bn&&"TextEvent"in window&&!Fa,su=Bn&&(!hl||Fa&&8<Fa&&11>=Fa),ru=" ",lu=!1;function ou(t,e){switch(t){case"keyup":return qp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qi=!1;function Xp(t,e){switch(t){case"compositionend":return cu(e);case"keypress":return e.which!==32?null:(lu=!0,ru);case"textInput":return t=e.data,t===ru&&lu?null:t;default:return null}}function Yp(t,e){if(Qi)return t==="compositionend"||!hl&&ou(t,e)?(t=tu(),Ds=rl=ii=null,Qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return su&&e.locale!=="ko"?null:e.data;default:return null}}var Vp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Vp[t.type]:e==="textarea"}function hu(t,e,n,i){Ki?Wi?Wi.push(i):Wi=[i]:Ki=i,e=Er(e,"onChange"),0<e.length&&(n=new Ls("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var ja=null,za=null;function Kp(t){Vd(t,0)}function Fs(t){var e=Da(t);if(Yc(e))return t}function du(t,e){if(t==="change")return e}var fu=!1;if(Bn){var dl;if(Bn){var fl="oninput"in document;if(!fl){var pu=document.createElement("div");pu.setAttribute("oninput","return;"),fl=typeof pu.oninput=="function"}dl=fl}else dl=!1;fu=dl&&(!document.documentMode||9<document.documentMode)}function mu(){ja&&(ja.detachEvent("onpropertychange",gu),za=ja=null)}function gu(t){if(t.propertyName==="value"&&Fs(za)){var e=[];hu(e,za,t,il(t)),$c(Kp,e)}}function Wp(t,e,n){t==="focusin"?(mu(),ja=e,za=n,ja.attachEvent("onpropertychange",gu)):t==="focusout"&&mu()}function Qp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fs(za)}function Zp(t,e){if(t==="click")return Fs(e)}function Jp(t,e){if(t==="input"||t==="change")return Fs(e)}function $p(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hn=typeof Object.is=="function"?Object.is:$p;function Pa(t,e){if(hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!V.call(e,a)||!hn(t[a],e[a]))return!1}return!0}function yu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bu(t,e){var n=yu(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=yu(n)}}function vu(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vu(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _u(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ms(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ms(t.document)}return e}function pl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var tm=Bn&&"documentMode"in document&&11>=document.documentMode,Zi=null,ml=null,Ua=null,gl=!1;function Au(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gl||Zi==null||Zi!==Ms(i)||(i=Zi,"selectionStart"in i&&pl(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ua&&Pa(Ua,i)||(Ua=i,i=Er(ml,"onSelect"),0<i.length&&(e=new Ls("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Zi)))}function Mi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ji={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionrun:Mi("Transition","TransitionRun"),transitionstart:Mi("Transition","TransitionStart"),transitioncancel:Mi("Transition","TransitionCancel"),transitionend:Mi("Transition","TransitionEnd")},yl={},Su={};Bn&&(Su=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function wi(t){if(yl[t])return yl[t];if(!Ji[t])return t;var e=Ji[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Su)return yl[t]=e[n];return t}var Eu=wi("animationend"),xu=wi("animationiteration"),Tu=wi("animationstart"),em=wi("transitionrun"),nm=wi("transitionstart"),im=wi("transitioncancel"),Cu=wi("transitionend"),Ru=new Map,bl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bl.push("scrollEnd");function Dn(t,e){Ru.set(t,e),Ci(e,[t])}var js=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},An=[],$i=0,vl=0;function zs(){for(var t=$i,e=vl=$i=0;e<t;){var n=An[e];An[e++]=null;var i=An[e];An[e++]=null;var a=An[e];An[e++]=null;var s=An[e];if(An[e++]=null,i!==null&&a!==null){var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}s!==0&&Mu(n,a,s)}}function Ps(t,e,n,i){An[$i++]=t,An[$i++]=e,An[$i++]=n,An[$i++]=i,vl|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function _l(t,e,n,i){return Ps(t,e,n,i),Us(t)}function Di(t,e){return Ps(t,null,null,e),Us(t)}function Mu(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var a=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(a=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,a&&e!==null&&(a=31-ut(n),t=s.hiddenUpdates,i=t[a],i===null?t[a]=[e]:i.push(e),e.lane=n|536870912),s):null}function Us(t){if(50<ls)throw ls=0,Do=null,Error(l(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ta={};function am(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,i){return new am(t,e,n,i)}function Al(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hn(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function wu(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Bs(t,e,n,i,a,s){var u=0;if(i=t,typeof t=="function")Al(t)&&(u=1);else if(typeof t=="string")u=cg(t,n,c.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case v:return t=dn(31,n,e,a),t.elementType=v,t.lanes=s,t;case N:return Oi(n.children,a,s,e);case C:u=8,a|=24;break;case d:return t=dn(12,n,e,a|2),t.elementType=d,t.lanes=s,t;case p:return t=dn(13,n,e,a),t.elementType=p,t.lanes=s,t;case b:return t=dn(19,n,e,a),t.elementType=b,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:u=10;break t;case E:u=9;break t;case k:u=11;break t;case h:u=14;break t;case y:u=16,i=null;break t}u=29,n=Error(l(130,t===null?"null":typeof t,"")),i=null}return e=dn(u,n,e,a),e.elementType=t,e.type=i,e.lanes=s,e}function Oi(t,e,n,i){return t=dn(7,t,i,e),t.lanes=n,t}function Sl(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function Du(t){var e=dn(18,null,null,0);return e.stateNode=t,e}function El(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Ou=new WeakMap;function Sn(t,e){if(typeof t=="object"&&t!==null){var n=Ou.get(t);return n!==void 0?n:(e={value:t,source:e,stack:L(e)},Ou.set(t,e),e)}return{value:t,source:e,stack:L(e)}}var ea=[],na=0,Hs=null,Ba=0,En=[],xn=0,ai=null,Ln=1,Nn="";function In(t,e){ea[na++]=Ba,ea[na++]=Hs,Hs=t,Ba=e}function ku(t,e,n){En[xn++]=Ln,En[xn++]=Nn,En[xn++]=ai,ai=t;var i=Ln;t=Nn;var a=32-ut(i)-1;i&=~(1<<a),n+=1;var s=32-ut(e)+a;if(30<s){var u=a-a%5;s=(i&(1<<u)-1).toString(32),i>>=u,a-=u,Ln=1<<32-ut(e)+a|n<<a|i,Nn=s+t}else Ln=1<<s|n<<a|i,Nn=t}function xl(t){t.return!==null&&(In(t,1),ku(t,1,0))}function Tl(t){for(;t===Hs;)Hs=ea[--na],ea[na]=null,Ba=ea[--na],ea[na]=null;for(;t===ai;)ai=En[--xn],En[xn]=null,Nn=En[--xn],En[xn]=null,Ln=En[--xn],En[xn]=null}function Lu(t,e){En[xn++]=Ln,En[xn++]=Nn,En[xn++]=ai,Ln=e.id,Nn=e.overflow,ai=t}var Ze=null,je=null,Ee=!1,si=null,Tn=!1,Cl=Error(l(519));function ri(t){var e=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ha(Sn(e,t)),Cl}function Nu(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Yt]=t,e[ee]=i,n){case"dialog":_e("cancel",e),_e("close",e);break;case"iframe":case"object":case"embed":_e("load",e);break;case"video":case"audio":for(n=0;n<cs.length;n++)_e(cs[n],e);break;case"source":_e("error",e);break;case"img":case"image":case"link":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"input":_e("invalid",e),Vc(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":_e("invalid",e);break;case"textarea":_e("invalid",e),Wc(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||Zd(e.textContent,n)?(i.popover!=null&&(_e("beforetoggle",e),_e("toggle",e)),i.onScroll!=null&&_e("scroll",e),i.onScrollEnd!=null&&_e("scrollend",e),i.onClick!=null&&(e.onclick=Un),e=!0):e=!1,e||ri(t,!0)}function Fu(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:Ze=Ze.return}}function ia(t){if(t!==Ze)return!1;if(!Ee)return Fu(t),Ee=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Xo(t.type,t.memoizedProps)),n=!n),n&&je&&ri(t),Fu(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));je=lf(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));je=lf(t)}else e===27?(e=je,_i(t.type)?(t=Qo,Qo=null,je=t):je=e):je=Ze?Rn(t.stateNode.nextSibling):null;return!0}function ki(){je=Ze=null,Ee=!1}function Rl(){var t=si;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),si=null),t}function Ha(t){si===null?si=[t]:si.push(t)}var Ml=S(null),Li=null,qn=null;function li(t,e,n){o(Ml,e._currentValue),e._currentValue=n}function Gn(t){t._currentValue=Ml.current,g(Ml)}function wl(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Dl(t,e,n,i){var a=t.child;for(a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){var u=a.child;s=s.firstContext;t:for(;s!==null;){var D=s;s=a;for(var it=0;it<e.length;it++)if(D.context===e[it]){s.lanes|=n,D=s.alternate,D!==null&&(D.lanes|=n),wl(s.return,n,t),i||(u=null);break t}s=D.next}}else if(a.tag===18){if(u=a.return,u===null)throw Error(l(341));u.lanes|=n,s=u.alternate,s!==null&&(s.lanes|=n),wl(u,n,t),u=null}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}}function aa(t,e,n,i){t=null;for(var a=e,s=!1;a!==null;){if(!s){if((a.flags&524288)!==0)s=!0;else if((a.flags&262144)!==0)break}if(a.tag===10){var u=a.alternate;if(u===null)throw Error(l(387));if(u=u.memoizedProps,u!==null){var D=a.type;hn(a.pendingProps.value,u.value)||(t!==null?t.push(D):t=[D])}}else if(a===B.current){if(u=a.alternate,u===null)throw Error(l(387));u.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(t!==null?t.push(ps):t=[ps])}a=a.return}t!==null&&Dl(e,t,n,i),e.flags|=262144}function Is(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ni(t){Li=t,qn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Je(t){return ju(Li,t)}function qs(t,e){return Li===null&&Ni(t),ju(t,e)}function ju(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},qn===null){if(t===null)throw Error(l(308));qn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else qn=qn.next=e;return n}var sm=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},rm=J.unstable_scheduleCallback,lm=J.unstable_NormalPriority,Ge={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ol(){return{controller:new sm,data:new Map,refCount:0}}function Ia(t){t.refCount--,t.refCount===0&&rm(lm,function(){t.controller.abort()})}var qa=null,kl=0,sa=0,ra=null;function om(t,e){if(qa===null){var n=qa=[];kl=0,sa=jo(),ra={status:"pending",value:void 0,then:function(i){n.push(i)}}}return kl++,e.then(zu,zu),e}function zu(){if(--kl===0&&qa!==null){ra!==null&&(ra.status="fulfilled");var t=qa;qa=null,sa=0,ra=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function cm(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var a=0;a<n.length;a++)(0,n[a])(e)},function(a){for(i.status="rejected",i.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),i}var Pu=w.S;w.S=function(t,e){Ad=Dt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&om(t,e),Pu!==null&&Pu(t,e)};var Fi=S(null);function Ll(){var t=Fi.current;return t!==null?t:Ne.pooledCache}function Gs(t,e){e===null?o(Fi,Fi.current):o(Fi,e.pool)}function Uu(){var t=Ll();return t===null?null:{parent:Ge._currentValue,pool:t}}var la=Error(l(460)),Nl=Error(l(474)),Xs=Error(l(542)),Ys={then:function(){}};function Bu(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hu(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Un,Un),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,qu(t),t;default:if(typeof e.status=="string")e.then(Un,Un);else{if(t=Ne,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var a=e;a.status="fulfilled",a.value=i}},function(i){if(e.status==="pending"){var a=e;a.status="rejected",a.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,qu(t),t}throw zi=e,la}}function ji(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(zi=n,la):n}}var zi=null;function Iu(){if(zi===null)throw Error(l(459));var t=zi;return zi=null,t}function qu(t){if(t===la||t===Xs)throw Error(l(483))}var oa=null,Ga=0;function Vs(t){var e=Ga;return Ga+=1,oa===null&&(oa=[]),Hu(oa,t,e)}function Xa(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ks(t,e){throw e.$$typeof===G?Error(l(525)):(t=Object.prototype.toString.call(e),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Gu(t){function e(vt,ct){if(t){var Et=vt.deletions;Et===null?(vt.deletions=[ct],vt.flags|=16):Et.push(ct)}}function n(vt,ct){if(!t)return null;for(;ct!==null;)e(vt,ct),ct=ct.sibling;return null}function i(vt){for(var ct=new Map;vt!==null;)vt.key!==null?ct.set(vt.key,vt):ct.set(vt.index,vt),vt=vt.sibling;return ct}function a(vt,ct){return vt=Hn(vt,ct),vt.index=0,vt.sibling=null,vt}function s(vt,ct,Et){return vt.index=Et,t?(Et=vt.alternate,Et!==null?(Et=Et.index,Et<ct?(vt.flags|=67108866,ct):Et):(vt.flags|=67108866,ct)):(vt.flags|=1048576,ct)}function u(vt){return t&&vt.alternate===null&&(vt.flags|=67108866),vt}function D(vt,ct,Et,Bt){return ct===null||ct.tag!==6?(ct=Sl(Et,vt.mode,Bt),ct.return=vt,ct):(ct=a(ct,Et),ct.return=vt,ct)}function it(vt,ct,Et,Bt){var ce=Et.type;return ce===N?Pt(vt,ct,Et.props.children,Bt,Et.key):ct!==null&&(ct.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===y&&ji(ce)===ct.type)?(ct=a(ct,Et.props),Xa(ct,Et),ct.return=vt,ct):(ct=Bs(Et.type,Et.key,Et.props,null,vt.mode,Bt),Xa(ct,Et),ct.return=vt,ct)}function xt(vt,ct,Et,Bt){return ct===null||ct.tag!==4||ct.stateNode.containerInfo!==Et.containerInfo||ct.stateNode.implementation!==Et.implementation?(ct=El(Et,vt.mode,Bt),ct.return=vt,ct):(ct=a(ct,Et.children||[]),ct.return=vt,ct)}function Pt(vt,ct,Et,Bt,ce){return ct===null||ct.tag!==7?(ct=Oi(Et,vt.mode,Bt,ce),ct.return=vt,ct):(ct=a(ct,Et),ct.return=vt,ct)}function Ht(vt,ct,Et){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return ct=Sl(""+ct,vt.mode,Et),ct.return=vt,ct;if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case O:return Et=Bs(ct.type,ct.key,ct.props,null,vt.mode,Et),Xa(Et,ct),Et.return=vt,Et;case T:return ct=El(ct,vt.mode,Et),ct.return=vt,ct;case y:return ct=ji(ct),Ht(vt,ct,Et)}if($(ct)||M(ct))return ct=Oi(ct,vt.mode,Et,null),ct.return=vt,ct;if(typeof ct.then=="function")return Ht(vt,Vs(ct),Et);if(ct.$$typeof===U)return Ht(vt,qs(vt,ct),Et);Ks(vt,ct)}return null}function wt(vt,ct,Et,Bt){var ce=ct!==null?ct.key:null;if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return ce!==null?null:D(vt,ct,""+Et,Bt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case O:return Et.key===ce?it(vt,ct,Et,Bt):null;case T:return Et.key===ce?xt(vt,ct,Et,Bt):null;case y:return Et=ji(Et),wt(vt,ct,Et,Bt)}if($(Et)||M(Et))return ce!==null?null:Pt(vt,ct,Et,Bt,null);if(typeof Et.then=="function")return wt(vt,ct,Vs(Et),Bt);if(Et.$$typeof===U)return wt(vt,ct,qs(vt,Et),Bt);Ks(vt,Et)}return null}function kt(vt,ct,Et,Bt,ce){if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number"||typeof Bt=="bigint")return vt=vt.get(Et)||null,D(ct,vt,""+Bt,ce);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case O:return vt=vt.get(Bt.key===null?Et:Bt.key)||null,it(ct,vt,Bt,ce);case T:return vt=vt.get(Bt.key===null?Et:Bt.key)||null,xt(ct,vt,Bt,ce);case y:return Bt=ji(Bt),kt(vt,ct,Et,Bt,ce)}if($(Bt)||M(Bt))return vt=vt.get(Et)||null,Pt(ct,vt,Bt,ce,null);if(typeof Bt.then=="function")return kt(vt,ct,Et,Vs(Bt),ce);if(Bt.$$typeof===U)return kt(vt,ct,Et,qs(ct,Bt),ce);Ks(ct,Bt)}return null}function ie(vt,ct,Et,Bt){for(var ce=null,Te=null,se=ct,be=ct=0,Se=null;se!==null&&be<Et.length;be++){se.index>be?(Se=se,se=null):Se=se.sibling;var Ce=wt(vt,se,Et[be],Bt);if(Ce===null){se===null&&(se=Se);break}t&&se&&Ce.alternate===null&&e(vt,se),ct=s(Ce,ct,be),Te===null?ce=Ce:Te.sibling=Ce,Te=Ce,se=Se}if(be===Et.length)return n(vt,se),Ee&&In(vt,be),ce;if(se===null){for(;be<Et.length;be++)se=Ht(vt,Et[be],Bt),se!==null&&(ct=s(se,ct,be),Te===null?ce=se:Te.sibling=se,Te=se);return Ee&&In(vt,be),ce}for(se=i(se);be<Et.length;be++)Se=kt(se,vt,be,Et[be],Bt),Se!==null&&(t&&Se.alternate!==null&&se.delete(Se.key===null?be:Se.key),ct=s(Se,ct,be),Te===null?ce=Se:Te.sibling=Se,Te=Se);return t&&se.forEach(function(Ti){return e(vt,Ti)}),Ee&&In(vt,be),ce}function fe(vt,ct,Et,Bt){if(Et==null)throw Error(l(151));for(var ce=null,Te=null,se=ct,be=ct=0,Se=null,Ce=Et.next();se!==null&&!Ce.done;be++,Ce=Et.next()){se.index>be?(Se=se,se=null):Se=se.sibling;var Ti=wt(vt,se,Ce.value,Bt);if(Ti===null){se===null&&(se=Se);break}t&&se&&Ti.alternate===null&&e(vt,se),ct=s(Ti,ct,be),Te===null?ce=Ti:Te.sibling=Ti,Te=Ti,se=Se}if(Ce.done)return n(vt,se),Ee&&In(vt,be),ce;if(se===null){for(;!Ce.done;be++,Ce=Et.next())Ce=Ht(vt,Ce.value,Bt),Ce!==null&&(ct=s(Ce,ct,be),Te===null?ce=Ce:Te.sibling=Ce,Te=Ce);return Ee&&In(vt,be),ce}for(se=i(se);!Ce.done;be++,Ce=Et.next())Ce=kt(se,vt,be,Ce.value,Bt),Ce!==null&&(t&&Ce.alternate!==null&&se.delete(Ce.key===null?be:Ce.key),ct=s(Ce,ct,be),Te===null?ce=Ce:Te.sibling=Ce,Te=Ce);return t&&se.forEach(function(_g){return e(vt,_g)}),Ee&&In(vt,be),ce}function Le(vt,ct,Et,Bt){if(typeof Et=="object"&&Et!==null&&Et.type===N&&Et.key===null&&(Et=Et.props.children),typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case O:t:{for(var ce=Et.key;ct!==null;){if(ct.key===ce){if(ce=Et.type,ce===N){if(ct.tag===7){n(vt,ct.sibling),Bt=a(ct,Et.props.children),Bt.return=vt,vt=Bt;break t}}else if(ct.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===y&&ji(ce)===ct.type){n(vt,ct.sibling),Bt=a(ct,Et.props),Xa(Bt,Et),Bt.return=vt,vt=Bt;break t}n(vt,ct);break}else e(vt,ct);ct=ct.sibling}Et.type===N?(Bt=Oi(Et.props.children,vt.mode,Bt,Et.key),Bt.return=vt,vt=Bt):(Bt=Bs(Et.type,Et.key,Et.props,null,vt.mode,Bt),Xa(Bt,Et),Bt.return=vt,vt=Bt)}return u(vt);case T:t:{for(ce=Et.key;ct!==null;){if(ct.key===ce)if(ct.tag===4&&ct.stateNode.containerInfo===Et.containerInfo&&ct.stateNode.implementation===Et.implementation){n(vt,ct.sibling),Bt=a(ct,Et.children||[]),Bt.return=vt,vt=Bt;break t}else{n(vt,ct);break}else e(vt,ct);ct=ct.sibling}Bt=El(Et,vt.mode,Bt),Bt.return=vt,vt=Bt}return u(vt);case y:return Et=ji(Et),Le(vt,ct,Et,Bt)}if($(Et))return ie(vt,ct,Et,Bt);if(M(Et)){if(ce=M(Et),typeof ce!="function")throw Error(l(150));return Et=ce.call(Et),fe(vt,ct,Et,Bt)}if(typeof Et.then=="function")return Le(vt,ct,Vs(Et),Bt);if(Et.$$typeof===U)return Le(vt,ct,qs(vt,Et),Bt);Ks(vt,Et)}return typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint"?(Et=""+Et,ct!==null&&ct.tag===6?(n(vt,ct.sibling),Bt=a(ct,Et),Bt.return=vt,vt=Bt):(n(vt,ct),Bt=Sl(Et,vt.mode,Bt),Bt.return=vt,vt=Bt),u(vt)):n(vt,ct)}return function(vt,ct,Et,Bt){try{Ga=0;var ce=Le(vt,ct,Et,Bt);return oa=null,ce}catch(se){if(se===la||se===Xs)throw se;var Te=dn(29,se,null,vt.mode);return Te.lanes=Bt,Te.return=vt,Te}finally{}}}var Pi=Gu(!0),Xu=Gu(!1),oi=!1;function Fl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jl(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ci(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ui(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(Re&2)!==0){var a=i.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),i.pending=e,e=Us(t),Mu(t,null,n),e}return Ps(t,i,e,n),Us(t)}function Ya(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Ft(t,n)}}function zl(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var u={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?a=s=u:s=s.next=u,n=n.next}while(n!==null);s===null?a=s=e:s=s.next=e}else a=s=e;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Pl=!1;function Va(){if(Pl){var t=ra;if(t!==null)throw t}}function Ka(t,e,n,i){Pl=!1;var a=t.updateQueue;oi=!1;var s=a.firstBaseUpdate,u=a.lastBaseUpdate,D=a.shared.pending;if(D!==null){a.shared.pending=null;var it=D,xt=it.next;it.next=null,u===null?s=xt:u.next=xt,u=it;var Pt=t.alternate;Pt!==null&&(Pt=Pt.updateQueue,D=Pt.lastBaseUpdate,D!==u&&(D===null?Pt.firstBaseUpdate=xt:D.next=xt,Pt.lastBaseUpdate=it))}if(s!==null){var Ht=a.baseState;u=0,Pt=xt=it=null,D=s;do{var wt=D.lane&-536870913,kt=wt!==D.lane;if(kt?(Ae&wt)===wt:(i&wt)===wt){wt!==0&&wt===sa&&(Pl=!0),Pt!==null&&(Pt=Pt.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});t:{var ie=t,fe=D;wt=e;var Le=n;switch(fe.tag){case 1:if(ie=fe.payload,typeof ie=="function"){Ht=ie.call(Le,Ht,wt);break t}Ht=ie;break t;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=fe.payload,wt=typeof ie=="function"?ie.call(Le,Ht,wt):ie,wt==null)break t;Ht=H({},Ht,wt);break t;case 2:oi=!0}}wt=D.callback,wt!==null&&(t.flags|=64,kt&&(t.flags|=8192),kt=a.callbacks,kt===null?a.callbacks=[wt]:kt.push(wt))}else kt={lane:wt,tag:D.tag,payload:D.payload,callback:D.callback,next:null},Pt===null?(xt=Pt=kt,it=Ht):Pt=Pt.next=kt,u|=wt;if(D=D.next,D===null){if(D=a.shared.pending,D===null)break;kt=D,D=kt.next,kt.next=null,a.lastBaseUpdate=kt,a.shared.pending=null}}while(!0);Pt===null&&(it=Ht),a.baseState=it,a.firstBaseUpdate=xt,a.lastBaseUpdate=Pt,s===null&&(a.shared.lanes=0),mi|=u,t.lanes=u,t.memoizedState=Ht}}function Yu(t,e){if(typeof t!="function")throw Error(l(191,t));t.call(e)}function Vu(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Yu(n[t],e)}var ca=S(null),Ws=S(0);function Ku(t,e){t=$n,o(Ws,t),o(ca,e),$n=t|e.baseLanes}function Ul(){o(Ws,$n),o(ca,ca.current)}function Bl(){$n=Ws.current,g(ca),g(Ws)}var fn=S(null),Cn=null;function hi(t){var e=t.alternate;o(He,He.current&1),o(fn,t),Cn===null&&(e===null||ca.current!==null||e.memoizedState!==null)&&(Cn=t)}function Hl(t){o(He,He.current),o(fn,t),Cn===null&&(Cn=t)}function Wu(t){t.tag===22?(o(He,He.current),o(fn,t),Cn===null&&(Cn=t)):di()}function di(){o(He,He.current),o(fn,fn.current)}function pn(t){g(fn),Cn===t&&(Cn=null),g(He)}var He=S(0);function Qs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ko(n)||Wo(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xn=0,ye=null,Oe=null,Xe=null,Zs=!1,ua=!1,Ui=!1,Js=0,Wa=0,ha=null,um=0;function Ue(){throw Error(l(321))}function Il(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hn(t[n],e[n]))return!1;return!0}function ql(t,e,n,i,a,s){return Xn=s,ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,w.H=t===null||t.memoizedState===null?kh:ao,Ui=!1,s=n(i,a),Ui=!1,ua&&(s=Zu(e,n,i,a)),Qu(t),s}function Qu(t){w.H=Ja;var e=Oe!==null&&Oe.next!==null;if(Xn=0,Xe=Oe=ye=null,Zs=!1,Wa=0,ha=null,e)throw Error(l(300));t===null||Ye||(t=t.dependencies,t!==null&&Is(t)&&(Ye=!0))}function Zu(t,e,n,i){ye=t;var a=0;do{if(ua&&(ha=null),Wa=0,ua=!1,25<=a)throw Error(l(301));if(a+=1,Xe=Oe=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}w.H=Lh,s=e(n,i)}while(ua);return s}function hm(){var t=w.H,e=t.useState()[0];return e=typeof e.then=="function"?Qa(e):e,t=t.useState()[0],(Oe!==null?Oe.memoizedState:null)!==t&&(ye.flags|=1024),e}function Gl(){var t=Js!==0;return Js=0,t}function Xl(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Yl(t){if(Zs){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Zs=!1}Xn=0,Xe=Oe=ye=null,ua=!1,Wa=Js=0,ha=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ye.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function Ie(){if(Oe===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var e=Xe===null?ye.memoizedState:Xe.next;if(e!==null)Xe=e,Oe=t;else{if(t===null)throw ye.alternate===null?Error(l(467)):Error(l(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Xe===null?ye.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function $s(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qa(t){var e=Wa;return Wa+=1,ha===null&&(ha=[]),t=Hu(ha,t,e),e=ye,(Xe===null?e.memoizedState:Xe.next)===null&&(e=e.alternate,w.H=e===null||e.memoizedState===null?kh:ao),t}function tr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Qa(t);if(t.$$typeof===U)return Je(t)}throw Error(l(438,String(t)))}function Vl(t){var e=null,n=ye.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=ye.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(a){return a.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=$s(),ye.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=K;return e.index++,n}function Yn(t,e){return typeof e=="function"?e(t):e}function er(t){var e=Ie();return Kl(e,Oe,t)}function Kl(t,e,n){var i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=n;var a=t.baseQueue,s=i.pending;if(s!==null){if(a!==null){var u=a.next;a.next=s.next,s.next=u}e.baseQueue=a=s,i.pending=null}if(s=t.baseState,a===null)t.memoizedState=s;else{e=a.next;var D=u=null,it=null,xt=e,Pt=!1;do{var Ht=xt.lane&-536870913;if(Ht!==xt.lane?(Ae&Ht)===Ht:(Xn&Ht)===Ht){var wt=xt.revertLane;if(wt===0)it!==null&&(it=it.next={lane:0,revertLane:0,gesture:null,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null}),Ht===sa&&(Pt=!0);else if((Xn&wt)===wt){xt=xt.next,wt===sa&&(Pt=!0);continue}else Ht={lane:0,revertLane:xt.revertLane,gesture:null,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null},it===null?(D=it=Ht,u=s):it=it.next=Ht,ye.lanes|=wt,mi|=wt;Ht=xt.action,Ui&&n(s,Ht),s=xt.hasEagerState?xt.eagerState:n(s,Ht)}else wt={lane:Ht,revertLane:xt.revertLane,gesture:xt.gesture,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null},it===null?(D=it=wt,u=s):it=it.next=wt,ye.lanes|=Ht,mi|=Ht;xt=xt.next}while(xt!==null&&xt!==e);if(it===null?u=s:it.next=D,!hn(s,t.memoizedState)&&(Ye=!0,Pt&&(n=ra,n!==null)))throw n;t.memoizedState=s,t.baseState=u,t.baseQueue=it,i.lastRenderedState=s}return a===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Wl(t){var e=Ie(),n=e.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=t;var i=n.dispatch,a=n.pending,s=e.memoizedState;if(a!==null){n.pending=null;var u=a=a.next;do s=t(s,u.action),u=u.next;while(u!==a);hn(s,e.memoizedState)||(Ye=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function Ju(t,e,n){var i=ye,a=Ie(),s=Ee;if(s){if(n===void 0)throw Error(l(407));n=n()}else n=e();var u=!hn((Oe||a).memoizedState,n);if(u&&(a.memoizedState=n,Ye=!0),a=a.queue,Jl(eh.bind(null,i,a,t),[t]),a.getSnapshot!==e||u||Xe!==null&&Xe.memoizedState.tag&1){if(i.flags|=2048,da(9,{destroy:void 0},th.bind(null,i,a,n,e),null),Ne===null)throw Error(l(349));s||(Xn&127)!==0||$u(i,e,n)}return n}function $u(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ye.updateQueue,e===null?(e=$s(),ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function th(t,e,n,i){e.value=n,e.getSnapshot=i,nh(e)&&ih(t)}function eh(t,e,n){return n(function(){nh(e)&&ih(t)})}function nh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hn(t,n)}catch{return!0}}function ih(t){var e=Di(t,2);e!==null&&un(e,t,2)}function Ql(t){var e=an();if(typeof t=="function"){var n=t;if(t=n(),Ui){Ot(!0);try{n()}finally{Ot(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:t},e}function ah(t,e,n,i){return t.baseState=n,Kl(t,Oe,typeof i=="function"?i:Yn)}function dm(t,e,n,i,a){if(ar(t))throw Error(l(485));if(t=e.action,t!==null){var s={payload:a,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){s.listeners.push(u)}};w.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,sh(e,s)):(s.next=n.next,e.pending=n.next=s)}}function sh(t,e){var n=e.action,i=e.payload,a=t.state;if(e.isTransition){var s=w.T,u={};w.T=u;try{var D=n(a,i),it=w.S;it!==null&&it(u,D),rh(t,e,D)}catch(xt){Zl(t,e,xt)}finally{s!==null&&u.types!==null&&(s.types=u.types),w.T=s}}else try{s=n(a,i),rh(t,e,s)}catch(xt){Zl(t,e,xt)}}function rh(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){lh(t,e,i)},function(i){return Zl(t,e,i)}):lh(t,e,n)}function lh(t,e,n){e.status="fulfilled",e.value=n,oh(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,sh(t,n)))}function Zl(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,oh(e),e=e.next;while(e!==i)}t.action=null}function oh(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function ch(t,e){return e}function uh(t,e){if(Ee){var n=Ne.formState;if(n!==null){t:{var i=ye;if(Ee){if(je){e:{for(var a=je,s=Tn;a.nodeType!==8;){if(!s){a=null;break e}if(a=Rn(a.nextSibling),a===null){a=null;break e}}s=a.data,a=s==="F!"||s==="F"?a:null}if(a){je=Rn(a.nextSibling),i=a.data==="F!";break t}}ri(i)}i=!1}i&&(e=n[0])}}return n=an(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ch,lastRenderedState:e},n.queue=i,n=wh.bind(null,ye,i),i.dispatch=n,i=Ql(!1),s=io.bind(null,ye,!1,i.queue),i=an(),a={state:e,dispatch:null,action:t,pending:null},i.queue=a,n=dm.bind(null,ye,a,s,n),a.dispatch=n,i.memoizedState=t,[e,n,!1]}function hh(t){var e=Ie();return dh(e,Oe,t)}function dh(t,e,n){if(e=Kl(t,e,ch)[0],t=er(Yn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Qa(e)}catch(u){throw u===la?Xs:u}else i=e;e=Ie();var a=e.queue,s=a.dispatch;return n!==e.memoizedState&&(ye.flags|=2048,da(9,{destroy:void 0},fm.bind(null,a,n),null)),[i,s,t]}function fm(t,e){t.action=e}function fh(t){var e=Ie(),n=Oe;if(n!==null)return dh(e,n,t);Ie(),e=e.memoizedState,n=Ie();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function da(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=ye.updateQueue,e===null&&(e=$s(),ye.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function ph(){return Ie().memoizedState}function nr(t,e,n,i){var a=an();ye.flags|=t,a.memoizedState=da(1|e,{destroy:void 0},n,i===void 0?null:i)}function ir(t,e,n,i){var a=Ie();i=i===void 0?null:i;var s=a.memoizedState.inst;Oe!==null&&i!==null&&Il(i,Oe.memoizedState.deps)?a.memoizedState=da(e,s,n,i):(ye.flags|=t,a.memoizedState=da(1|e,s,n,i))}function mh(t,e){nr(8390656,8,t,e)}function Jl(t,e){ir(2048,8,t,e)}function pm(t){ye.flags|=4;var e=ye.updateQueue;if(e===null)e=$s(),ye.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function gh(t){var e=Ie().memoizedState;return pm({ref:e,nextImpl:t}),function(){if((Re&2)!==0)throw Error(l(440));return e.impl.apply(void 0,arguments)}}function yh(t,e){return ir(4,2,t,e)}function bh(t,e){return ir(4,4,t,e)}function vh(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _h(t,e,n){n=n!=null?n.concat([t]):null,ir(4,4,vh.bind(null,e,t),n)}function $l(){}function Ah(t,e){var n=Ie();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Il(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Sh(t,e){var n=Ie();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Il(e,i[1]))return i[0];if(i=t(),Ui){Ot(!0);try{t()}finally{Ot(!1)}}return n.memoizedState=[i,e],i}function to(t,e,n){return n===void 0||(Xn&1073741824)!==0&&(Ae&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=Ed(),ye.lanes|=t,mi|=t,n)}function Eh(t,e,n,i){return hn(n,e)?n:ca.current!==null?(t=to(t,n,i),hn(t,e)||(Ye=!0),t):(Xn&42)===0||(Xn&1073741824)!==0&&(Ae&261930)===0?(Ye=!0,t.memoizedState=n):(t=Ed(),ye.lanes|=t,mi|=t,e)}function xh(t,e,n,i,a){var s=I.p;I.p=s!==0&&8>s?s:8;var u=w.T,D={};w.T=D,io(t,!1,e,n);try{var it=a(),xt=w.S;if(xt!==null&&xt(D,it),it!==null&&typeof it=="object"&&typeof it.then=="function"){var Pt=cm(it,i);Za(t,e,Pt,yn(t))}else Za(t,e,i,yn(t))}catch(Ht){Za(t,e,{then:function(){},status:"rejected",reason:Ht},yn())}finally{I.p=s,u!==null&&D.types!==null&&(u.types=D.types),w.T=u}}function mm(){}function eo(t,e,n,i){if(t.tag!==5)throw Error(l(476));var a=Th(t).queue;xh(t,a,e,nt,n===null?mm:function(){return Ch(t),n(i)})}function Th(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:nt},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Ch(t){var e=Th(t);e.next===null&&(e=t.alternate.memoizedState),Za(t,e.next.queue,{},yn())}function no(){return Je(ps)}function Rh(){return Ie().memoizedState}function Mh(){return Ie().memoizedState}function gm(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=yn();t=ci(n);var i=ui(e,t,n);i!==null&&(un(i,e,n),Ya(i,e,n)),e={cache:Ol()},t.payload=e;return}e=e.return}}function ym(t,e,n){var i=yn();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ar(t)?Dh(e,n):(n=_l(t,e,n,i),n!==null&&(un(n,t,i),Oh(n,e,i)))}function wh(t,e,n){var i=yn();Za(t,e,n,i)}function Za(t,e,n,i){var a={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ar(t))Dh(e,a);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var u=e.lastRenderedState,D=s(u,n);if(a.hasEagerState=!0,a.eagerState=D,hn(D,u))return Ps(t,e,a,0),Ne===null&&zs(),!1}catch{}finally{}if(n=_l(t,e,a,i),n!==null)return un(n,t,i),Oh(n,e,i),!0}return!1}function io(t,e,n,i){if(i={lane:2,revertLane:jo(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ar(t)){if(e)throw Error(l(479))}else e=_l(t,n,i,2),e!==null&&un(e,t,2)}function ar(t){var e=t.alternate;return t===ye||e!==null&&e===ye}function Dh(t,e){ua=Zs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Oh(t,e,n){if((n&4194048)!==0){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Ft(t,n)}}var Ja={readContext:Je,use:tr,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};Ja.useEffectEvent=Ue;var kh={readContext:Je,use:tr,useCallback:function(t,e){return an().memoizedState=[t,e===void 0?null:e],t},useContext:Je,useEffect:mh,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,nr(4194308,4,vh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nr(4194308,4,t,e)},useInsertionEffect:function(t,e){nr(4,2,t,e)},useMemo:function(t,e){var n=an();e=e===void 0?null:e;var i=t();if(Ui){Ot(!0);try{t()}finally{Ot(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=an();if(n!==void 0){var a=n(e);if(Ui){Ot(!0);try{n(e)}finally{Ot(!1)}}}else a=e;return i.memoizedState=i.baseState=a,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},i.queue=t,t=t.dispatch=ym.bind(null,ye,t),[i.memoizedState,t]},useRef:function(t){var e=an();return t={current:t},e.memoizedState=t},useState:function(t){t=Ql(t);var e=t.queue,n=wh.bind(null,ye,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:$l,useDeferredValue:function(t,e){var n=an();return to(n,t,e)},useTransition:function(){var t=Ql(!1);return t=xh.bind(null,ye,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=ye,a=an();if(Ee){if(n===void 0)throw Error(l(407));n=n()}else{if(n=e(),Ne===null)throw Error(l(349));(Ae&127)!==0||$u(i,e,n)}a.memoizedState=n;var s={value:n,getSnapshot:e};return a.queue=s,mh(eh.bind(null,i,s,t),[t]),i.flags|=2048,da(9,{destroy:void 0},th.bind(null,i,s,n,e),null),n},useId:function(){var t=an(),e=Ne.identifierPrefix;if(Ee){var n=Nn,i=Ln;n=(i&~(1<<32-ut(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Js++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=um++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:no,useFormState:uh,useActionState:uh,useOptimistic:function(t){var e=an();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=io.bind(null,ye,!0,n),n.dispatch=e,[t,e]},useMemoCache:Vl,useCacheRefresh:function(){return an().memoizedState=gm.bind(null,ye)},useEffectEvent:function(t){var e=an(),n={impl:t};return e.memoizedState=n,function(){if((Re&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},ao={readContext:Je,use:tr,useCallback:Ah,useContext:Je,useEffect:Jl,useImperativeHandle:_h,useInsertionEffect:yh,useLayoutEffect:bh,useMemo:Sh,useReducer:er,useRef:ph,useState:function(){return er(Yn)},useDebugValue:$l,useDeferredValue:function(t,e){var n=Ie();return Eh(n,Oe.memoizedState,t,e)},useTransition:function(){var t=er(Yn)[0],e=Ie().memoizedState;return[typeof t=="boolean"?t:Qa(t),e]},useSyncExternalStore:Ju,useId:Rh,useHostTransitionStatus:no,useFormState:hh,useActionState:hh,useOptimistic:function(t,e){var n=Ie();return ah(n,Oe,t,e)},useMemoCache:Vl,useCacheRefresh:Mh};ao.useEffectEvent=gh;var Lh={readContext:Je,use:tr,useCallback:Ah,useContext:Je,useEffect:Jl,useImperativeHandle:_h,useInsertionEffect:yh,useLayoutEffect:bh,useMemo:Sh,useReducer:Wl,useRef:ph,useState:function(){return Wl(Yn)},useDebugValue:$l,useDeferredValue:function(t,e){var n=Ie();return Oe===null?to(n,t,e):Eh(n,Oe.memoizedState,t,e)},useTransition:function(){var t=Wl(Yn)[0],e=Ie().memoizedState;return[typeof t=="boolean"?t:Qa(t),e]},useSyncExternalStore:Ju,useId:Rh,useHostTransitionStatus:no,useFormState:fh,useActionState:fh,useOptimistic:function(t,e){var n=Ie();return Oe!==null?ah(n,Oe,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Vl,useCacheRefresh:Mh};Lh.useEffectEvent=gh;function so(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:H({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ro={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=yn(),a=ci(i);a.payload=e,n!=null&&(a.callback=n),e=ui(t,a,i),e!==null&&(un(e,t,i),Ya(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=yn(),a=ci(i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ui(t,a,i),e!==null&&(un(e,t,i),Ya(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),i=ci(n);i.tag=2,e!=null&&(i.callback=e),e=ui(t,i,n),e!==null&&(un(e,t,n),Ya(e,t,n))}};function Nh(t,e,n,i,a,s,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,u):e.prototype&&e.prototype.isPureReactComponent?!Pa(n,i)||!Pa(a,s):!0}function Fh(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ro.enqueueReplaceState(e,e.state,null)}function Bi(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=H({},n));for(var a in t)n[a]===void 0&&(n[a]=t[a])}return n}function jh(t){js(t)}function zh(t){console.error(t)}function Ph(t){js(t)}function sr(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Uh(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function lo(t,e,n){return n=ci(n),n.tag=3,n.payload={element:null},n.callback=function(){sr(t,e)},n}function Bh(t){return t=ci(t),t.tag=3,t}function Hh(t,e,n,i){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var s=i.value;t.payload=function(){return a(s)},t.callback=function(){Uh(e,n,i)}}var u=n.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(t.callback=function(){Uh(e,n,i),typeof a!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var D=i.stack;this.componentDidCatch(i.value,{componentStack:D!==null?D:""})})}function bm(t,e,n,i,a){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&aa(e,n,a,!0),n=fn.current,n!==null){switch(n.tag){case 31:case 13:return Cn===null?yr():n.alternate===null&&Be===0&&(Be=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===Ys?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Lo(t,i,a)),!1;case 22:return n.flags|=65536,i===Ys?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Lo(t,i,a)),!1}throw Error(l(435,n.tag))}return Lo(t,i,a),yr(),!1}if(Ee)return e=fn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=a,i!==Cl&&(t=Error(l(422),{cause:i}),Ha(Sn(t,n)))):(i!==Cl&&(e=Error(l(423),{cause:i}),Ha(Sn(e,n))),t=t.current.alternate,t.flags|=65536,a&=-a,t.lanes|=a,i=Sn(i,n),a=lo(t.stateNode,i,a),zl(t,a),Be!==4&&(Be=2)),!1;var s=Error(l(520),{cause:i});if(s=Sn(s,n),rs===null?rs=[s]:rs.push(s),Be!==4&&(Be=2),e===null)return!0;i=Sn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=a&-a,n.lanes|=t,t=lo(n.stateNode,i,t),zl(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(gi===null||!gi.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Bh(a),Hh(a,t,n,i),zl(n,a),!1}n=n.return}while(n!==null);return!1}var oo=Error(l(461)),Ye=!1;function $e(t,e,n,i){e.child=t===null?Xu(e,null,n,i):Pi(e,t.child,n,i)}function Ih(t,e,n,i,a){n=n.render;var s=e.ref;if("ref"in i){var u={};for(var D in i)D!=="ref"&&(u[D]=i[D])}else u=i;return Ni(e),i=ql(t,e,n,u,s,a),D=Gl(),t!==null&&!Ye?(Xl(t,e,a),Vn(t,e,a)):(Ee&&D&&xl(e),e.flags|=1,$e(t,e,i,a),e.child)}function qh(t,e,n,i,a){if(t===null){var s=n.type;return typeof s=="function"&&!Al(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,Gh(t,e,s,i,a)):(t=Bs(n.type,null,i,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!yo(t,a)){var u=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pa,n(u,i)&&t.ref===e.ref)return Vn(t,e,a)}return e.flags|=1,t=Hn(s,i),t.ref=e.ref,t.return=e,e.child=t}function Gh(t,e,n,i,a){if(t!==null){var s=t.memoizedProps;if(Pa(s,i)&&t.ref===e.ref)if(Ye=!1,e.pendingProps=i=s,yo(t,a))(t.flags&131072)!==0&&(Ye=!0);else return e.lanes=t.lanes,Vn(t,e,a)}return co(t,e,n,i,a)}function Xh(t,e,n,i){var a=i.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((e.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;i=a&~s}else i=0,e.child=null;return Yh(t,e,s,n,i)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gs(e,s!==null?s.cachePool:null),s!==null?Ku(e,s):Ul(),Wu(e);else return i=e.lanes=536870912,Yh(t,e,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(Gs(e,s.cachePool),Ku(e,s),di(),e.memoizedState=null):(t!==null&&Gs(e,null),Ul(),di());return $e(t,e,a,n),e.child}function $a(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Yh(t,e,n,i,a){var s=Ll();return s=s===null?null:{parent:Ge._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Gs(e,null),Ul(),Wu(e),t!==null&&aa(t,e,i,!0),e.childLanes=a,null}function rr(t,e){return e=or({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Vh(t,e,n){return Pi(e,t.child,null,n),t=rr(e,e.pendingProps),t.flags|=2,pn(e),e.memoizedState=null,t}function vm(t,e,n){var i=e.pendingProps,a=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Ee){if(i.mode==="hidden")return t=rr(e,i),e.lanes=536870912,$a(null,t);if(Hl(e),(t=je)?(t=rf(t,Tn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ai!==null?{id:Ln,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},n=Du(t),n.return=e,e.child=n,Ze=e,je=null)):t=null,t===null)throw ri(e);return e.lanes=536870912,null}return rr(e,i)}var s=t.memoizedState;if(s!==null){var u=s.dehydrated;if(Hl(e),a)if(e.flags&256)e.flags&=-257,e=Vh(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(l(558));else if(Ye||aa(t,e,n,!1),a=(n&t.childLanes)!==0,Ye||a){if(i=Ne,i!==null&&(u=Ut(i,n),u!==0&&u!==s.retryLane))throw s.retryLane=u,Di(t,u),un(i,t,u),oo;yr(),e=Vh(t,e,n)}else t=s.treeContext,je=Rn(u.nextSibling),Ze=e,Ee=!0,si=null,Tn=!1,t!==null&&Lu(e,t),e=rr(e,i),e.flags|=4096;return e}return t=Hn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function lr(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function co(t,e,n,i,a){return Ni(e),n=ql(t,e,n,i,void 0,a),i=Gl(),t!==null&&!Ye?(Xl(t,e,a),Vn(t,e,a)):(Ee&&i&&xl(e),e.flags|=1,$e(t,e,n,a),e.child)}function Kh(t,e,n,i,a,s){return Ni(e),e.updateQueue=null,n=Zu(e,i,n,a),Qu(t),i=Gl(),t!==null&&!Ye?(Xl(t,e,s),Vn(t,e,s)):(Ee&&i&&xl(e),e.flags|=1,$e(t,e,n,s),e.child)}function Wh(t,e,n,i,a){if(Ni(e),e.stateNode===null){var s=ta,u=n.contextType;typeof u=="object"&&u!==null&&(s=Je(u)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ro,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},Fl(e),u=n.contextType,s.context=typeof u=="object"&&u!==null?Je(u):ta,s.state=e.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(so(e,n,u,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(u=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),u!==s.state&&ro.enqueueReplaceState(s,s.state,null),Ka(e,i,s,a),Va(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var D=e.memoizedProps,it=Bi(n,D);s.props=it;var xt=s.context,Pt=n.contextType;u=ta,typeof Pt=="object"&&Pt!==null&&(u=Je(Pt));var Ht=n.getDerivedStateFromProps;Pt=typeof Ht=="function"||typeof s.getSnapshotBeforeUpdate=="function",D=e.pendingProps!==D,Pt||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(D||xt!==u)&&Fh(e,s,i,u),oi=!1;var wt=e.memoizedState;s.state=wt,Ka(e,i,s,a),Va(),xt=e.memoizedState,D||wt!==xt||oi?(typeof Ht=="function"&&(so(e,n,Ht,i),xt=e.memoizedState),(it=oi||Nh(e,n,it,i,wt,xt,u))?(Pt||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=xt),s.props=i,s.state=xt,s.context=u,i=it):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,jl(t,e),u=e.memoizedProps,Pt=Bi(n,u),s.props=Pt,Ht=e.pendingProps,wt=s.context,xt=n.contextType,it=ta,typeof xt=="object"&&xt!==null&&(it=Je(xt)),D=n.getDerivedStateFromProps,(xt=typeof D=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==Ht||wt!==it)&&Fh(e,s,i,it),oi=!1,wt=e.memoizedState,s.state=wt,Ka(e,i,s,a),Va();var kt=e.memoizedState;u!==Ht||wt!==kt||oi||t!==null&&t.dependencies!==null&&Is(t.dependencies)?(typeof D=="function"&&(so(e,n,D,i),kt=e.memoizedState),(Pt=oi||Nh(e,n,Pt,i,wt,kt,it)||t!==null&&t.dependencies!==null&&Is(t.dependencies))?(xt||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,kt,it),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,kt,it)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&wt===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&wt===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=kt),s.props=i,s.state=kt,s.context=it,i=Pt):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&wt===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&wt===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,lr(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=Pi(e,t.child,null,a),e.child=Pi(e,null,n,a)):$e(t,e,n,a),e.memoizedState=s.state,t=e.child):t=Vn(t,e,a),t}function Qh(t,e,n,i){return ki(),e.flags|=256,$e(t,e,n,i),e.child}var uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ho(t){return{baseLanes:t,cachePool:Uu()}}function fo(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=gn),t}function Zh(t,e,n){var i=e.pendingProps,a=!1,s=(e.flags&128)!==0,u;if((u=s)||(u=t!==null&&t.memoizedState===null?!1:(He.current&2)!==0),u&&(a=!0,e.flags&=-129),u=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ee){if(a?hi(e):di(),(t=je)?(t=rf(t,Tn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ai!==null?{id:Ln,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},n=Du(t),n.return=e,e.child=n,Ze=e,je=null)):t=null,t===null)throw ri(e);return Wo(t)?e.lanes=32:e.lanes=536870912,null}var D=i.children;return i=i.fallback,a?(di(),a=e.mode,D=or({mode:"hidden",children:D},a),i=Oi(i,a,n,null),D.return=e,i.return=e,D.sibling=i,e.child=D,i=e.child,i.memoizedState=ho(n),i.childLanes=fo(t,u,n),e.memoizedState=uo,$a(null,i)):(hi(e),po(e,D))}var it=t.memoizedState;if(it!==null&&(D=it.dehydrated,D!==null)){if(s)e.flags&256?(hi(e),e.flags&=-257,e=mo(t,e,n)):e.memoizedState!==null?(di(),e.child=t.child,e.flags|=128,e=null):(di(),D=i.fallback,a=e.mode,i=or({mode:"visible",children:i.children},a),D=Oi(D,a,n,null),D.flags|=2,i.return=e,D.return=e,i.sibling=D,e.child=i,Pi(e,t.child,null,n),i=e.child,i.memoizedState=ho(n),i.childLanes=fo(t,u,n),e.memoizedState=uo,e=$a(null,i));else if(hi(e),Wo(D)){if(u=D.nextSibling&&D.nextSibling.dataset,u)var xt=u.dgst;u=xt,i=Error(l(419)),i.stack="",i.digest=u,Ha({value:i,source:null,stack:null}),e=mo(t,e,n)}else if(Ye||aa(t,e,n,!1),u=(n&t.childLanes)!==0,Ye||u){if(u=Ne,u!==null&&(i=Ut(u,n),i!==0&&i!==it.retryLane))throw it.retryLane=i,Di(t,i),un(u,t,i),oo;Ko(D)||yr(),e=mo(t,e,n)}else Ko(D)?(e.flags|=192,e.child=t.child,e=null):(t=it.treeContext,je=Rn(D.nextSibling),Ze=e,Ee=!0,si=null,Tn=!1,t!==null&&Lu(e,t),e=po(e,i.children),e.flags|=4096);return e}return a?(di(),D=i.fallback,a=e.mode,it=t.child,xt=it.sibling,i=Hn(it,{mode:"hidden",children:i.children}),i.subtreeFlags=it.subtreeFlags&65011712,xt!==null?D=Hn(xt,D):(D=Oi(D,a,n,null),D.flags|=2),D.return=e,i.return=e,i.sibling=D,e.child=i,$a(null,i),i=e.child,D=t.child.memoizedState,D===null?D=ho(n):(a=D.cachePool,a!==null?(it=Ge._currentValue,a=a.parent!==it?{parent:it,pool:it}:a):a=Uu(),D={baseLanes:D.baseLanes|n,cachePool:a}),i.memoizedState=D,i.childLanes=fo(t,u,n),e.memoizedState=uo,$a(t.child,i)):(hi(e),n=t.child,t=n.sibling,n=Hn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(u=e.deletions,u===null?(e.deletions=[t],e.flags|=16):u.push(t)),e.child=n,e.memoizedState=null,n)}function po(t,e){return e=or({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function or(t,e){return t=dn(22,t,null,e),t.lanes=0,t}function mo(t,e,n){return Pi(e,t.child,null,n),t=po(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Jh(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),wl(t.return,e,n)}function go(t,e,n,i,a,s){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a,treeForkCount:s}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=n,u.tailMode=a,u.treeForkCount=s)}function $h(t,e,n){var i=e.pendingProps,a=i.revealOrder,s=i.tail;i=i.children;var u=He.current,D=(u&2)!==0;if(D?(u=u&1|2,e.flags|=128):u&=1,o(He,u),$e(t,e,i,n),i=Ee?Ba:0,!D&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jh(t,n,e);else if(t.tag===19)Jh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&Qs(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),go(e,!1,a,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Qs(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}go(e,!0,n,null,s,i);break;case"together":go(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function Vn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mi|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(aa(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(l(153));if(e.child!==null){for(t=e.child,n=Hn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yo(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Is(t)))}function _m(t,e,n){switch(e.tag){case 3:X(e,e.stateNode.containerInfo),li(e,Ge,t.memoizedState.cache),ki();break;case 27:case 5:mt(e);break;case 4:X(e,e.stateNode.containerInfo);break;case 10:li(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Hl(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(hi(e),e.flags|=128,null):(n&e.child.childLanes)!==0?Zh(t,e,n):(hi(e),t=Vn(t,e,n),t!==null?t.sibling:null);hi(e);break;case 19:var a=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(aa(t,e,n,!1),i=(n&e.childLanes)!==0),a){if(i)return $h(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),o(He,He.current),i)break;return null;case 22:return e.lanes=0,Xh(t,e,n,e.pendingProps);case 24:li(e,Ge,t.memoizedState.cache)}return Vn(t,e,n)}function td(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ye=!0;else{if(!yo(t,n)&&(e.flags&128)===0)return Ye=!1,_m(t,e,n);Ye=(t.flags&131072)!==0}else Ye=!1,Ee&&(e.flags&1048576)!==0&&ku(e,Ba,e.index);switch(e.lanes=0,e.tag){case 16:t:{var i=e.pendingProps;if(t=ji(e.elementType),e.type=t,typeof t=="function")Al(t)?(i=Bi(t,i),e.tag=1,e=Wh(null,e,t,i,n)):(e.tag=0,e=co(null,e,t,i,n));else{if(t!=null){var a=t.$$typeof;if(a===k){e.tag=11,e=Ih(null,e,t,i,n);break t}else if(a===h){e.tag=14,e=qh(null,e,t,i,n);break t}}throw e=ht(t)||t,Error(l(306,e,""))}}return e;case 0:return co(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,a=Bi(i,e.pendingProps),Wh(t,e,i,a,n);case 3:t:{if(X(e,e.stateNode.containerInfo),t===null)throw Error(l(387));i=e.pendingProps;var s=e.memoizedState;a=s.element,jl(t,e),Ka(e,i,null,n);var u=e.memoizedState;if(i=u.cache,li(e,Ge,i),i!==s.cache&&Dl(e,[Ge],n,!0),Va(),i=u.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:u.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Qh(t,e,i,n);break t}else if(i!==a){a=Sn(Error(l(424)),e),Ha(a),e=Qh(t,e,i,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(je=Rn(t.firstChild),Ze=e,Ee=!0,si=null,Tn=!0,n=Xu(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ki(),i===a){e=Vn(t,e,n);break t}$e(t,e,i,n)}e=e.child}return e;case 26:return lr(t,e),t===null?(n=df(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ee||(n=e.type,t=e.pendingProps,i=xr(z.current).createElement(n),i[Yt]=e,i[ee]=t,tn(i,n,t),We(i),e.stateNode=i):e.memoizedState=df(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return mt(e),t===null&&Ee&&(i=e.stateNode=cf(e.type,e.pendingProps,z.current),Ze=e,Tn=!0,a=je,_i(e.type)?(Qo=a,je=Rn(i.firstChild)):je=a),$e(t,e,e.pendingProps.children,n),lr(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ee&&((a=i=je)&&(i=Qm(i,e.type,e.pendingProps,Tn),i!==null?(e.stateNode=i,Ze=e,je=Rn(i.firstChild),Tn=!1,a=!0):a=!1),a||ri(e)),mt(e),a=e.type,s=e.pendingProps,u=t!==null?t.memoizedProps:null,i=s.children,Xo(a,s)?i=null:u!==null&&Xo(a,u)&&(e.flags|=32),e.memoizedState!==null&&(a=ql(t,e,hm,null,null,n),ps._currentValue=a),lr(t,e),$e(t,e,i,n),e.child;case 6:return t===null&&Ee&&((t=n=je)&&(n=Zm(n,e.pendingProps,Tn),n!==null?(e.stateNode=n,Ze=e,je=null,t=!0):t=!1),t||ri(e)),null;case 13:return Zh(t,e,n);case 4:return X(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Pi(e,null,i,n):$e(t,e,i,n),e.child;case 11:return Ih(t,e,e.type,e.pendingProps,n);case 7:return $e(t,e,e.pendingProps,n),e.child;case 8:return $e(t,e,e.pendingProps.children,n),e.child;case 12:return $e(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,li(e,e.type,i.value),$e(t,e,i.children,n),e.child;case 9:return a=e.type._context,i=e.pendingProps.children,Ni(e),a=Je(a),i=i(a),e.flags|=1,$e(t,e,i,n),e.child;case 14:return qh(t,e,e.type,e.pendingProps,n);case 15:return Gh(t,e,e.type,e.pendingProps,n);case 19:return $h(t,e,n);case 31:return vm(t,e,n);case 22:return Xh(t,e,n,e.pendingProps);case 24:return Ni(e),i=Je(Ge),t===null?(a=Ll(),a===null&&(a=Ne,s=Ol(),a.pooledCache=s,s.refCount++,s!==null&&(a.pooledCacheLanes|=n),a=s),e.memoizedState={parent:i,cache:a},Fl(e),li(e,Ge,a)):((t.lanes&n)!==0&&(jl(t,e),Ka(e,null,null,n),Va()),a=t.memoizedState,s=e.memoizedState,a.parent!==i?(a={parent:i,cache:i},e.memoizedState=a,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=a),li(e,Ge,i)):(i=s.cache,li(e,Ge,i),i!==a.cache&&Dl(e,[Ge],n,!0))),$e(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(l(156,e.tag))}function Kn(t){t.flags|=4}function bo(t,e,n,i,a){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(a&335544128)===a)if(t.stateNode.complete)t.flags|=8192;else if(Rd())t.flags|=8192;else throw zi=Ys,Nl}else t.flags&=-16777217}function ed(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yf(e))if(Rd())t.flags|=8192;else throw zi=Ys,Nl}function cr(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?q():536870912,t.lanes|=e,ga|=e)}function ts(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&65011712,i|=a.flags&65011712,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Am(t,e,n){var i=e.pendingProps;switch(Tl(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(e),null;case 1:return ze(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Gn(Ge),tt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ia(e)?Kn(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Rl())),ze(e),null;case 26:var a=e.type,s=e.memoizedState;return t===null?(Kn(e),s!==null?(ze(e),ed(e,s)):(ze(e),bo(e,a,null,i,n))):s?s!==t.memoizedState?(Kn(e),ze(e),ed(e,s)):(ze(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Kn(e),ze(e),bo(e,a,t,i,n)),null;case 27:if(Tt(e),n=z.current,a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Kn(e);else{if(!i){if(e.stateNode===null)throw Error(l(166));return ze(e),null}t=c.current,ia(e)?Nu(e):(t=cf(a,i,n),e.stateNode=t,Kn(e))}return ze(e),null;case 5:if(Tt(e),a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Kn(e);else{if(!i){if(e.stateNode===null)throw Error(l(166));return ze(e),null}if(s=c.current,ia(e))Nu(e);else{var u=xr(z.current);switch(s){case 1:s=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":s=u.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?u.createElement("select",{is:i.is}):u.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?u.createElement(a,{is:i.is}):u.createElement(a)}}s[Yt]=e,s[ee]=i;t:for(u=e.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break t;for(;u.sibling===null;){if(u.return===null||u.return===e)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}e.stateNode=s;t:switch(tn(s,a,i),a){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Kn(e)}}return ze(e),bo(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Kn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(l(166));if(t=z.current,ia(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,a=Ze,a!==null)switch(a.tag){case 27:case 5:i=a.memoizedProps}t[Yt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Zd(t.nodeValue,n)),t||ri(e,!0)}else t=xr(t).createTextNode(i),t[Yt]=e,e.stateNode=t}return ze(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=ia(e),n!==null){if(t===null){if(!i)throw Error(l(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[Yt]=e}else ki(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ze(e),t=!1}else n=Rl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(pn(e),e):(pn(e),null);if((e.flags&128)!==0)throw Error(l(558))}return ze(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(a=ia(e),i!==null&&i.dehydrated!==null){if(t===null){if(!a)throw Error(l(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(l(317));a[Yt]=e}else ki(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ze(e),a=!1}else a=Rl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),a=!0;if(!a)return e.flags&256?(pn(e),e):(pn(e),null)}return pn(e),(e.flags&128)!==0?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,a=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(a=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==a&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),cr(e,e.updateQueue),ze(e),null);case 4:return tt(),t===null&&Bo(e.stateNode.containerInfo),ze(e),null;case 10:return Gn(e.type),ze(e),null;case 19:if(g(He),i=e.memoizedState,i===null)return ze(e),null;if(a=(e.flags&128)!==0,s=i.rendering,s===null)if(a)ts(i,!1);else{if(Be!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=Qs(t),s!==null){for(e.flags|=128,ts(i,!1),t=s.updateQueue,e.updateQueue=t,cr(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)wu(n,t),n=n.sibling;return o(He,He.current&1|2),Ee&&In(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Dt()>pr&&(e.flags|=128,a=!0,ts(i,!1),e.lanes=4194304)}else{if(!a)if(t=Qs(s),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,cr(e,t),ts(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Ee)return ze(e),null}else 2*Dt()-i.renderingStartTime>pr&&n!==536870912&&(e.flags|=128,a=!0,ts(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Dt(),t.sibling=null,n=He.current,o(He,a?n&1|2:n&1),Ee&&In(e,i.treeForkCount),t):(ze(e),null);case 22:case 23:return pn(e),Bl(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?(n&536870912)!==0&&(e.flags&128)===0&&(ze(e),e.subtreeFlags&6&&(e.flags|=8192)):ze(e),n=e.updateQueue,n!==null&&cr(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&g(Fi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Gn(Ge),ze(e),null;case 25:return null;case 30:return null}throw Error(l(156,e.tag))}function Sm(t,e){switch(Tl(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gn(Ge),tt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Tt(e),null;case 31:if(e.memoizedState!==null){if(pn(e),e.alternate===null)throw Error(l(340));ki()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(pn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(l(340));ki()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return g(He),null;case 4:return tt(),null;case 10:return Gn(e.type),null;case 22:case 23:return pn(e),Bl(),t!==null&&g(Fi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Gn(Ge),null;case 25:return null;default:return null}}function nd(t,e){switch(Tl(e),e.tag){case 3:Gn(Ge),tt();break;case 26:case 27:case 5:Tt(e);break;case 4:tt();break;case 31:e.memoizedState!==null&&pn(e);break;case 13:pn(e);break;case 19:g(He);break;case 10:Gn(e.type);break;case 22:case 23:pn(e),Bl(),t!==null&&g(Fi);break;case 24:Gn(Ge)}}function es(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&t)===t){i=void 0;var s=n.create,u=n.inst;i=s(),u.destroy=i}n=n.next}while(n!==a)}}catch(D){we(e,e.return,D)}}function fi(t,e,n){try{var i=e.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var s=a.next;i=s;do{if((i.tag&t)===t){var u=i.inst,D=u.destroy;if(D!==void 0){u.destroy=void 0,a=e;var it=n,xt=D;try{xt()}catch(Pt){we(a,it,Pt)}}}i=i.next}while(i!==s)}}catch(Pt){we(e,e.return,Pt)}}function id(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Vu(e,n)}catch(i){we(t,t.return,i)}}}function ad(t,e,n){n.props=Bi(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){we(t,e,i)}}function ns(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(a){we(t,e,a)}}function Fn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(a){we(t,e,a)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){we(t,e,a)}else n.current=null}function sd(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(a){we(t,t.return,a)}}function vo(t,e,n){try{var i=t.stateNode;Gm(i,t.type,n,e),i[ee]=e}catch(a){we(t,t.return,a)}}function rd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_i(t.type)||t.tag===4}function _o(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||rd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_i(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ao(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Un));else if(i!==4&&(i===27&&_i(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Ao(t,e,n),t=t.sibling;t!==null;)Ao(t,e,n),t=t.sibling}function ur(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&_i(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(ur(t,e,n),t=t.sibling;t!==null;)ur(t,e,n),t=t.sibling}function ld(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,a=e.attributes;a.length;)e.removeAttributeNode(a[0]);tn(e,i,n),e[Yt]=t,e[ee]=n}catch(s){we(t,t.return,s)}}var Wn=!1,Ve=!1,So=!1,od=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Em(t,e){if(t=t.containerInfo,qo=Or,t=_u(t),pl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var u=0,D=-1,it=-1,xt=0,Pt=0,Ht=t,wt=null;e:for(;;){for(var kt;Ht!==n||a!==0&&Ht.nodeType!==3||(D=u+a),Ht!==s||i!==0&&Ht.nodeType!==3||(it=u+i),Ht.nodeType===3&&(u+=Ht.nodeValue.length),(kt=Ht.firstChild)!==null;)wt=Ht,Ht=kt;for(;;){if(Ht===t)break e;if(wt===n&&++xt===a&&(D=u),wt===s&&++Pt===i&&(it=u),(kt=Ht.nextSibling)!==null)break;Ht=wt,wt=Ht.parentNode}Ht=kt}n=D===-1||it===-1?null:{start:D,end:it}}else n=null}n=n||{start:0,end:0}}else n=null;for(Go={focusedElem:t,selectionRange:n},Or=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){switch(e=Qe,s=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)a=t[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&s!==null){t=void 0,n=e,a=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var ie=Bi(n.type,a);t=i.getSnapshotBeforeUpdate(ie,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(fe){we(n,n.return,fe)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Vo(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vo(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}}function cd(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n),i&4&&es(5,n);break;case 1:if(Zn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(u){we(n,n.return,u)}else{var a=Bi(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(a,e,t.__reactInternalSnapshotBeforeUpdate)}catch(u){we(n,n.return,u)}}i&64&&id(n),i&512&&ns(n,n.return);break;case 3:if(Zn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Vu(t,e)}catch(u){we(n,n.return,u)}}break;case 27:e===null&&i&4&&ld(n);case 26:case 5:Zn(t,n),e===null&&i&4&&sd(n),i&512&&ns(n,n.return);break;case 12:Zn(t,n);break;case 31:Zn(t,n),i&4&&dd(t,n);break;case 13:Zn(t,n),i&4&&fd(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=km.bind(null,n),Jm(t,n))));break;case 22:if(i=n.memoizedState!==null||Wn,!i){e=e!==null&&e.memoizedState!==null||Ve,a=Wn;var s=Ve;Wn=i,(Ve=e)&&!s?Jn(t,n,(n.subtreeFlags&8772)!==0):Zn(t,n),Wn=a,Ve=s}break;case 30:break;default:Zn(t,n)}}function ud(t){var e=t.alternate;e!==null&&(t.alternate=null,ud(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&bn(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Pe=null,rn=!1;function Qn(t,e,n){for(n=n.child;n!==null;)hd(t,e,n),n=n.sibling}function hd(t,e,n){if(de&&typeof de.onCommitFiberUnmount=="function")try{de.onCommitFiberUnmount(he,n)}catch{}switch(n.tag){case 26:Ve||Fn(n,e),Qn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ve||Fn(n,e);var i=Pe,a=rn;_i(n.type)&&(Pe=n.stateNode,rn=!1),Qn(t,e,n),hs(n.stateNode),Pe=i,rn=a;break;case 5:Ve||Fn(n,e);case 6:if(i=Pe,a=rn,Pe=null,Qn(t,e,n),Pe=i,rn=a,Pe!==null)if(rn)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(n.stateNode)}catch(s){we(n,e,s)}else try{Pe.removeChild(n.stateNode)}catch(s){we(n,e,s)}break;case 18:Pe!==null&&(rn?(t=Pe,af(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),xa(t)):af(Pe,n.stateNode));break;case 4:i=Pe,a=rn,Pe=n.stateNode.containerInfo,rn=!0,Qn(t,e,n),Pe=i,rn=a;break;case 0:case 11:case 14:case 15:fi(2,n,e),Ve||fi(4,n,e),Qn(t,e,n);break;case 1:Ve||(Fn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&ad(n,e,i)),Qn(t,e,n);break;case 21:Qn(t,e,n);break;case 22:Ve=(i=Ve)||n.memoizedState!==null,Qn(t,e,n),Ve=i;break;default:Qn(t,e,n)}}function dd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{xa(t)}catch(n){we(e,e.return,n)}}}function fd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xa(t)}catch(n){we(e,e.return,n)}}function xm(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new od),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new od),e;default:throw Error(l(435,t.tag))}}function hr(t,e){var n=xm(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var a=Lm.bind(null,t,i);i.then(a,a)}})}function ln(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i],s=t,u=e,D=u;t:for(;D!==null;){switch(D.tag){case 27:if(_i(D.type)){Pe=D.stateNode,rn=!1;break t}break;case 5:Pe=D.stateNode,rn=!1;break t;case 3:case 4:Pe=D.stateNode.containerInfo,rn=!0;break t}D=D.return}if(Pe===null)throw Error(l(160));hd(s,u,a),Pe=null,rn=!1,s=a.alternate,s!==null&&(s.return=null),a.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)pd(e,t),e=e.sibling}var On=null;function pd(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(e,t),on(t),i&4&&(fi(3,t,t.return),es(3,t),fi(5,t,t.return));break;case 1:ln(e,t),on(t),i&512&&(Ve||n===null||Fn(n,n.return)),i&64&&Wn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var a=On;if(ln(e,t),on(t),i&512&&(Ve||n===null||Fn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){t:{i=t.type,n=t.memoizedProps,a=a.ownerDocument||a;e:switch(i){case"title":s=a.getElementsByTagName("title")[0],(!s||s[en]||s[Yt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=a.createElement(i),a.head.insertBefore(s,a.querySelector("head > title"))),tn(s,i,n),s[Yt]=t,We(s),i=s;break t;case"link":var u=mf("link","href",a).get(i+(n.href||""));if(u){for(var D=0;D<u.length;D++)if(s=u[D],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){u.splice(D,1);break e}}s=a.createElement(i),tn(s,i,n),a.head.appendChild(s);break;case"meta":if(u=mf("meta","content",a).get(i+(n.content||""))){for(D=0;D<u.length;D++)if(s=u[D],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){u.splice(D,1);break e}}s=a.createElement(i),tn(s,i,n),a.head.appendChild(s);break;default:throw Error(l(468,i))}s[Yt]=t,We(s),i=s}t.stateNode=i}else gf(a,t.type,t.stateNode);else t.stateNode=pf(a,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?gf(a,t.type,t.stateNode):pf(a,i,t.memoizedProps)):i===null&&t.stateNode!==null&&vo(t,t.memoizedProps,n.memoizedProps)}break;case 27:ln(e,t),on(t),i&512&&(Ve||n===null||Fn(n,n.return)),n!==null&&i&4&&vo(t,t.memoizedProps,n.memoizedProps);break;case 5:if(ln(e,t),on(t),i&512&&(Ve||n===null||Fn(n,n.return)),t.flags&32){a=t.stateNode;try{Vi(a,"")}catch(ie){we(t,t.return,ie)}}i&4&&t.stateNode!=null&&(a=t.memoizedProps,vo(t,a,n!==null?n.memoizedProps:a)),i&1024&&(So=!0);break;case 6:if(ln(e,t),on(t),i&4){if(t.stateNode===null)throw Error(l(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(ie){we(t,t.return,ie)}}break;case 3:if(Rr=null,a=On,On=Tr(e.containerInfo),ln(e,t),On=a,on(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{xa(e.containerInfo)}catch(ie){we(t,t.return,ie)}So&&(So=!1,md(t));break;case 4:i=On,On=Tr(t.stateNode.containerInfo),ln(e,t),on(t),On=i;break;case 12:ln(e,t),on(t);break;case 31:ln(e,t),on(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,hr(t,i)));break;case 13:ln(e,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(fr=Dt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,hr(t,i)));break;case 22:a=t.memoizedState!==null;var it=n!==null&&n.memoizedState!==null,xt=Wn,Pt=Ve;if(Wn=xt||a,Ve=Pt||it,ln(e,t),Ve=Pt,Wn=xt,on(t),i&8192)t:for(e=t.stateNode,e._visibility=a?e._visibility&-2:e._visibility|1,a&&(n===null||it||Wn||Ve||Hi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){it=n=e;try{if(s=it.stateNode,a)u=s.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{D=it.stateNode;var Ht=it.memoizedProps.style,wt=Ht!=null&&Ht.hasOwnProperty("display")?Ht.display:null;D.style.display=wt==null||typeof wt=="boolean"?"":(""+wt).trim()}}catch(ie){we(it,it.return,ie)}}}else if(e.tag===6){if(n===null){it=e;try{it.stateNode.nodeValue=a?"":it.memoizedProps}catch(ie){we(it,it.return,ie)}}}else if(e.tag===18){if(n===null){it=e;try{var kt=it.stateNode;a?sf(kt,!0):sf(it.stateNode,!1)}catch(ie){we(it,it.return,ie)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,hr(t,n))));break;case 19:ln(e,t),on(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,hr(t,i)));break;case 30:break;case 21:break;default:ln(e,t),on(t)}}function on(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(rd(i)){n=i;break}i=i.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var a=n.stateNode,s=_o(t);ur(t,s,a);break;case 5:var u=n.stateNode;n.flags&32&&(Vi(u,""),n.flags&=-33);var D=_o(t);ur(t,D,u);break;case 3:case 4:var it=n.stateNode.containerInfo,xt=_o(t);Ao(t,xt,it);break;default:throw Error(l(161))}}catch(Pt){we(t,t.return,Pt)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function md(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;md(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Zn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)cd(t,e.alternate,e),e=e.sibling}function Hi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:fi(4,e,e.return),Hi(e);break;case 1:Fn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&ad(e,e.return,n),Hi(e);break;case 27:hs(e.stateNode);case 26:case 5:Fn(e,e.return),Hi(e);break;case 22:e.memoizedState===null&&Hi(e);break;case 30:Hi(e);break;default:Hi(e)}t=t.sibling}}function Jn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,a=t,s=e,u=s.flags;switch(s.tag){case 0:case 11:case 15:Jn(a,s,n),es(4,s);break;case 1:if(Jn(a,s,n),i=s,a=i.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(xt){we(i,i.return,xt)}if(i=s,a=i.updateQueue,a!==null){var D=i.stateNode;try{var it=a.shared.hiddenCallbacks;if(it!==null)for(a.shared.hiddenCallbacks=null,a=0;a<it.length;a++)Yu(it[a],D)}catch(xt){we(i,i.return,xt)}}n&&u&64&&id(s),ns(s,s.return);break;case 27:ld(s);case 26:case 5:Jn(a,s,n),n&&i===null&&u&4&&sd(s),ns(s,s.return);break;case 12:Jn(a,s,n);break;case 31:Jn(a,s,n),n&&u&4&&dd(a,s);break;case 13:Jn(a,s,n),n&&u&4&&fd(a,s);break;case 22:s.memoizedState===null&&Jn(a,s,n),ns(s,s.return);break;case 30:break;default:Jn(a,s,n)}e=e.sibling}}function Eo(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ia(n))}function xo(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ia(t))}function kn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gd(t,e,n,i),e=e.sibling}function gd(t,e,n,i){var a=e.flags;switch(e.tag){case 0:case 11:case 15:kn(t,e,n,i),a&2048&&es(9,e);break;case 1:kn(t,e,n,i);break;case 3:kn(t,e,n,i),a&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ia(t)));break;case 12:if(a&2048){kn(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,u=s.id,D=s.onPostCommit;typeof D=="function"&&D(u,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(it){we(e,e.return,it)}}else kn(t,e,n,i);break;case 31:kn(t,e,n,i);break;case 13:kn(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,u=e.alternate,e.memoizedState!==null?s._visibility&2?kn(t,e,n,i):is(t,e):s._visibility&2?kn(t,e,n,i):(s._visibility|=2,fa(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),a&2048&&Eo(u,e);break;case 24:kn(t,e,n,i),a&2048&&xo(e.alternate,e);break;default:kn(t,e,n,i)}}function fa(t,e,n,i,a){for(a=a&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,u=e,D=n,it=i,xt=u.flags;switch(u.tag){case 0:case 11:case 15:fa(s,u,D,it,a),es(8,u);break;case 23:break;case 22:var Pt=u.stateNode;u.memoizedState!==null?Pt._visibility&2?fa(s,u,D,it,a):is(s,u):(Pt._visibility|=2,fa(s,u,D,it,a)),a&&xt&2048&&Eo(u.alternate,u);break;case 24:fa(s,u,D,it,a),a&&xt&2048&&xo(u.alternate,u);break;default:fa(s,u,D,it,a)}e=e.sibling}}function is(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,a=i.flags;switch(i.tag){case 22:is(n,i),a&2048&&Eo(i.alternate,i);break;case 24:is(n,i),a&2048&&xo(i.alternate,i);break;default:is(n,i)}e=e.sibling}}var as=8192;function pa(t,e,n){if(t.subtreeFlags&as)for(t=t.child;t!==null;)yd(t,e,n),t=t.sibling}function yd(t,e,n){switch(t.tag){case 26:pa(t,e,n),t.flags&as&&t.memoizedState!==null&&ug(n,On,t.memoizedState,t.memoizedProps);break;case 5:pa(t,e,n);break;case 3:case 4:var i=On;On=Tr(t.stateNode.containerInfo),pa(t,e,n),On=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=as,as=16777216,pa(t,e,n),as=i):pa(t,e,n));break;default:pa(t,e,n)}}function bd(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ss(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Qe=i,_d(i,t)}bd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vd(t),t=t.sibling}function vd(t){switch(t.tag){case 0:case 11:case 15:ss(t),t.flags&2048&&fi(9,t,t.return);break;case 3:ss(t);break;case 12:ss(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,dr(t)):ss(t);break;default:ss(t)}}function dr(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Qe=i,_d(i,t)}bd(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:fi(8,e,e.return),dr(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,dr(e));break;default:dr(e)}t=t.sibling}}function _d(t,e){for(;Qe!==null;){var n=Qe;switch(n.tag){case 0:case 11:case 15:fi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ia(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Qe=i;else t:for(n=t;Qe!==null;){i=Qe;var a=i.sibling,s=i.return;if(ud(i),i===n){Qe=null;break t}if(a!==null){a.return=s,Qe=a;break t}Qe=s}}}var Tm={getCacheForType:function(t){var e=Je(Ge),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Je(Ge).controller.signal}},Cm=typeof WeakMap=="function"?WeakMap:Map,Re=0,Ne=null,ve=null,Ae=0,Me=0,mn=null,pi=!1,ma=!1,To=!1,$n=0,Be=0,mi=0,Ii=0,Co=0,gn=0,ga=0,rs=null,cn=null,Ro=!1,fr=0,Ad=0,pr=1/0,mr=null,gi=null,Ke=0,yi=null,ya=null,ti=0,Mo=0,wo=null,Sd=null,ls=0,Do=null;function yn(){return(Re&2)!==0&&Ae!==0?Ae&-Ae:w.T!==null?jo():Xt()}function Ed(){if(gn===0)if((Ae&536870912)===0||Ee){var t=W;W<<=1,(W&3932160)===0&&(W=262144),gn=t}else gn=536870912;return t=fn.current,t!==null&&(t.flags|=32),gn}function un(t,e,n){(t===Ne&&(Me===2||Me===9)||t.cancelPendingCommit!==null)&&(ba(t,0),bi(t,Ae,gn,!1)),et(t,n),((Re&2)===0||t!==Ne)&&(t===Ne&&((Re&2)===0&&(Ii|=n),Be===4&&bi(t,Ae,gn,!1)),jn(t))}function xd(t,e,n){if((Re&6)!==0)throw Error(l(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||te(t,e),a=i?wm(t,e):ko(t,e,!0),s=i;do{if(a===0){ma&&!i&&bi(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!Rm(n)){a=ko(t,e,!1),s=!1;continue}if(a===2){if(s=e,t.errorRecoveryDisabledLanes&s)var u=0;else u=t.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){e=u;t:{var D=t;a=rs;var it=D.current.memoizedState.isDehydrated;if(it&&(ba(D,u).flags|=256),u=ko(D,u,!1),u!==2){if(To&&!it){D.errorRecoveryDisabledLanes|=s,Ii|=s,a=4;break t}s=cn,cn=a,s!==null&&(cn===null?cn=s:cn.push.apply(cn,s))}a=u}if(s=!1,a!==2)continue}}if(a===1){ba(t,0),bi(t,e,0,!0);break}t:{switch(i=t,s=a,s){case 0:case 1:throw Error(l(345));case 4:if((e&4194048)!==e)break;case 6:bi(i,e,gn,!pi);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((e&62914560)===e&&(a=fr+300-Dt(),10<a)){if(bi(i,e,gn,!pi),Zt(i,0,!0)!==0)break t;ti=e,i.timeoutHandle=ef(Td.bind(null,i,n,cn,mr,Ro,e,gn,Ii,ga,pi,s,"Throttled",-0,0),a);break t}Td(i,n,cn,mr,Ro,e,gn,Ii,ga,pi,s,null,-0,0)}}break}while(!0);jn(t)}function Td(t,e,n,i,a,s,u,D,it,xt,Pt,Ht,wt,kt){if(t.timeoutHandle=-1,Ht=e.subtreeFlags,Ht&8192||(Ht&16785408)===16785408){Ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},yd(e,s,Ht);var ie=(s&62914560)===s?fr-Dt():(s&4194048)===s?Ad-Dt():0;if(ie=hg(Ht,ie),ie!==null){ti=s,t.cancelPendingCommit=ie(Ld.bind(null,t,e,s,n,i,a,u,D,it,Pt,Ht,null,wt,kt)),bi(t,s,u,!xt);return}}Ld(t,e,s,n,i,a,u,D,it)}function Rm(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var a=n[i],s=a.getSnapshot;a=a.value;try{if(!hn(s(),a))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bi(t,e,n,i){e&=~Co,e&=~Ii,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var a=e;0<a;){var s=31-ut(a),u=1<<s;i[s]=-1,a&=~u}n!==0&&St(t,n,e)}function gr(){return(Re&6)===0?(os(0),!1):!0}function Oo(){if(ve!==null){if(Me===0)var t=ve.return;else t=ve,qn=Li=null,Yl(t),oa=null,Ga=0,t=ve;for(;t!==null;)nd(t.alternate,t),t=t.return;ve=null}}function ba(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Vm(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),ti=0,Oo(),Ne=t,ve=n=Hn(t.current,null),Ae=e,Me=0,mn=null,pi=!1,ma=te(t,e),To=!1,ga=gn=Co=Ii=mi=Be=0,cn=rs=null,Ro=!1,(e&8)!==0&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var a=31-ut(i),s=1<<a;e|=t[a],i&=~s}return $n=e,zs(),n}function Cd(t,e){ye=null,w.H=Ja,e===la||e===Xs?(e=Iu(),Me=3):e===Nl?(e=Iu(),Me=4):Me=e===oo?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,mn=e,ve===null&&(Be=1,sr(t,Sn(e,t.current)))}function Rd(){var t=fn.current;return t===null?!0:(Ae&4194048)===Ae?Cn===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?t===Cn:!1}function Md(){var t=w.H;return w.H=Ja,t===null?Ja:t}function wd(){var t=w.A;return w.A=Tm,t}function yr(){Be=4,pi||(Ae&4194048)!==Ae&&fn.current!==null||(ma=!0),(mi&134217727)===0&&(Ii&134217727)===0||Ne===null||bi(Ne,Ae,gn,!1)}function ko(t,e,n){var i=Re;Re|=2;var a=Md(),s=wd();(Ne!==t||Ae!==e)&&(mr=null,ba(t,e)),e=!1;var u=Be;t:do try{if(Me!==0&&ve!==null){var D=ve,it=mn;switch(Me){case 8:Oo(),u=6;break t;case 3:case 2:case 9:case 6:fn.current===null&&(e=!0);var xt=Me;if(Me=0,mn=null,va(t,D,it,xt),n&&ma){u=0;break t}break;default:xt=Me,Me=0,mn=null,va(t,D,it,xt)}}Mm(),u=Be;break}catch(Pt){Cd(t,Pt)}while(!0);return e&&t.shellSuspendCounter++,qn=Li=null,Re=i,w.H=a,w.A=s,ve===null&&(Ne=null,Ae=0,zs()),u}function Mm(){for(;ve!==null;)Dd(ve)}function wm(t,e){var n=Re;Re|=2;var i=Md(),a=wd();Ne!==t||Ae!==e?(mr=null,pr=Dt()+500,ba(t,e)):ma=te(t,e);t:do try{if(Me!==0&&ve!==null){e=ve;var s=mn;e:switch(Me){case 1:Me=0,mn=null,va(t,e,s,1);break;case 2:case 9:if(Bu(s)){Me=0,mn=null,Od(e);break}e=function(){Me!==2&&Me!==9||Ne!==t||(Me=7),jn(t)},s.then(e,e);break t;case 3:Me=7;break t;case 4:Me=5;break t;case 7:Bu(s)?(Me=0,mn=null,Od(e)):(Me=0,mn=null,va(t,e,s,7));break;case 5:var u=null;switch(ve.tag){case 26:u=ve.memoizedState;case 5:case 27:var D=ve;if(u?yf(u):D.stateNode.complete){Me=0,mn=null;var it=D.sibling;if(it!==null)ve=it;else{var xt=D.return;xt!==null?(ve=xt,br(xt)):ve=null}break e}}Me=0,mn=null,va(t,e,s,5);break;case 6:Me=0,mn=null,va(t,e,s,6);break;case 8:Oo(),Be=6;break t;default:throw Error(l(462))}}Dm();break}catch(Pt){Cd(t,Pt)}while(!0);return qn=Li=null,w.H=i,w.A=a,Re=n,ve!==null?0:(Ne=null,Ae=0,zs(),Be)}function Dm(){for(;ve!==null&&!Rt();)Dd(ve)}function Dd(t){var e=td(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?br(t):ve=e}function Od(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Kh(n,e,e.pendingProps,e.type,void 0,Ae);break;case 11:e=Kh(n,e,e.pendingProps,e.type.render,e.ref,Ae);break;case 5:Yl(e);default:nd(n,e),e=ve=wu(e,$n),e=td(n,e,$n)}t.memoizedProps=t.pendingProps,e===null?br(t):ve=e}function va(t,e,n,i){qn=Li=null,Yl(e),oa=null,Ga=0;var a=e.return;try{if(bm(t,a,e,n,Ae)){Be=1,sr(t,Sn(n,t.current)),ve=null;return}}catch(s){if(a!==null)throw ve=a,s;Be=1,sr(t,Sn(n,t.current)),ve=null;return}e.flags&32768?(Ee||i===1?t=!0:ma||(Ae&536870912)!==0?t=!1:(pi=t=!0,(i===2||i===9||i===3||i===6)&&(i=fn.current,i!==null&&i.tag===13&&(i.flags|=16384))),kd(e,t)):br(e)}function br(t){var e=t;do{if((e.flags&32768)!==0){kd(e,pi);return}t=e.return;var n=Am(e.alternate,e,$n);if(n!==null){ve=n;return}if(e=e.sibling,e!==null){ve=e;return}ve=e=t}while(e!==null);Be===0&&(Be=5)}function kd(t,e){do{var n=Sm(t.alternate,t);if(n!==null){n.flags&=32767,ve=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ve=t;return}ve=t=n}while(t!==null);Be=6,ve=null}function Ld(t,e,n,i,a,s,u,D,it){t.cancelPendingCommit=null;do vr();while(Ke!==0);if((Re&6)!==0)throw Error(l(327));if(e!==null){if(e===t.current)throw Error(l(177));if(s=e.lanes|e.childLanes,s|=vl,At(t,n,s,u,D,it),t===Ne&&(ve=Ne=null,Ae=0),ya=e,yi=t,ti=n,Mo=s,wo=a,Sd=i,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Nm(re,function(){return Pd(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||i){i=w.T,w.T=null,a=I.p,I.p=2,u=Re,Re|=4;try{Em(t,e,n)}finally{Re=u,I.p=a,w.T=i}}Ke=1,Nd(),Fd(),jd()}}function Nd(){if(Ke===1){Ke=0;var t=yi,e=ya,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=w.T,w.T=null;var i=I.p;I.p=2;var a=Re;Re|=4;try{pd(e,t);var s=Go,u=_u(t.containerInfo),D=s.focusedElem,it=s.selectionRange;if(u!==D&&D&&D.ownerDocument&&vu(D.ownerDocument.documentElement,D)){if(it!==null&&pl(D)){var xt=it.start,Pt=it.end;if(Pt===void 0&&(Pt=xt),"selectionStart"in D)D.selectionStart=xt,D.selectionEnd=Math.min(Pt,D.value.length);else{var Ht=D.ownerDocument||document,wt=Ht&&Ht.defaultView||window;if(wt.getSelection){var kt=wt.getSelection(),ie=D.textContent.length,fe=Math.min(it.start,ie),Le=it.end===void 0?fe:Math.min(it.end,ie);!kt.extend&&fe>Le&&(u=Le,Le=fe,fe=u);var vt=bu(D,fe),ct=bu(D,Le);if(vt&&ct&&(kt.rangeCount!==1||kt.anchorNode!==vt.node||kt.anchorOffset!==vt.offset||kt.focusNode!==ct.node||kt.focusOffset!==ct.offset)){var Et=Ht.createRange();Et.setStart(vt.node,vt.offset),kt.removeAllRanges(),fe>Le?(kt.addRange(Et),kt.extend(ct.node,ct.offset)):(Et.setEnd(ct.node,ct.offset),kt.addRange(Et))}}}}for(Ht=[],kt=D;kt=kt.parentNode;)kt.nodeType===1&&Ht.push({element:kt,left:kt.scrollLeft,top:kt.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<Ht.length;D++){var Bt=Ht[D];Bt.element.scrollLeft=Bt.left,Bt.element.scrollTop=Bt.top}}Or=!!qo,Go=qo=null}finally{Re=a,I.p=i,w.T=n}}t.current=e,Ke=2}}function Fd(){if(Ke===2){Ke=0;var t=yi,e=ya,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=w.T,w.T=null;var i=I.p;I.p=2;var a=Re;Re|=4;try{cd(t,e.alternate,e)}finally{Re=a,I.p=i,w.T=n}}Ke=3}}function jd(){if(Ke===4||Ke===3){Ke=0,zt();var t=yi,e=ya,n=ti,i=Sd;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ke=5:(Ke=0,ya=yi=null,zd(t,t.pendingLanes));var a=t.pendingLanes;if(a===0&&(gi=null),Qt(n),e=e.stateNode,de&&typeof de.onCommitFiberRoot=="function")try{de.onCommitFiberRoot(he,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=w.T,a=I.p,I.p=2,w.T=null;try{for(var s=t.onRecoverableError,u=0;u<i.length;u++){var D=i[u];s(D.value,{componentStack:D.stack})}}finally{w.T=e,I.p=a}}(ti&3)!==0&&vr(),jn(t),a=t.pendingLanes,(n&261930)!==0&&(a&42)!==0?t===Do?ls++:(ls=0,Do=t):ls=0,os(0)}}function zd(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ia(e)))}function vr(){return Nd(),Fd(),jd(),Pd()}function Pd(){if(Ke!==5)return!1;var t=yi,e=Mo;Mo=0;var n=Qt(ti),i=w.T,a=I.p;try{I.p=32>n?32:n,w.T=null,n=wo,wo=null;var s=yi,u=ti;if(Ke=0,ya=yi=null,ti=0,(Re&6)!==0)throw Error(l(331));var D=Re;if(Re|=4,vd(s.current),gd(s,s.current,u,n),Re=D,os(0,!1),de&&typeof de.onPostCommitFiberRoot=="function")try{de.onPostCommitFiberRoot(he,s)}catch{}return!0}finally{I.p=a,w.T=i,zd(t,e)}}function Ud(t,e,n){e=Sn(n,e),e=lo(t.stateNode,e,2),t=ui(t,e,2),t!==null&&(et(t,2),jn(t))}function we(t,e,n){if(t.tag===3)Ud(t,t,n);else for(;e!==null;){if(e.tag===3){Ud(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(gi===null||!gi.has(i))){t=Sn(n,t),n=Bh(2),i=ui(e,n,2),i!==null&&(Hh(n,i,e,t),et(i,2),jn(i));break}}e=e.return}}function Lo(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Cm;var a=new Set;i.set(e,a)}else a=i.get(e),a===void 0&&(a=new Set,i.set(e,a));a.has(n)||(To=!0,a.add(n),t=Om.bind(null,t,e,n),e.then(t,t))}function Om(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ne===t&&(Ae&n)===n&&(Be===4||Be===3&&(Ae&62914560)===Ae&&300>Dt()-fr?(Re&2)===0&&ba(t,0):Co|=n,ga===Ae&&(ga=0)),jn(t)}function Bd(t,e){e===0&&(e=q()),t=Di(t,e),t!==null&&(et(t,e),jn(t))}function km(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Bd(t,n)}function Lm(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(e),Bd(t,n)}function Nm(t,e){return lt(t,e)}var _r=null,_a=null,No=!1,Ar=!1,Fo=!1,vi=0;function jn(t){t!==_a&&t.next===null&&(_a===null?_r=_a=t:_a=_a.next=t),Ar=!0,No||(No=!0,jm())}function os(t,e){if(!Fo&&Ar){Fo=!0;do for(var n=!1,i=_r;i!==null;){if(t!==0){var a=i.pendingLanes;if(a===0)var s=0;else{var u=i.suspendedLanes,D=i.pingedLanes;s=(1<<31-ut(42|t)+1)-1,s&=a&~(u&~D),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Gd(i,s))}else s=Ae,s=Zt(i,i===Ne?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(s&3)===0||te(i,s)||(n=!0,Gd(i,s));i=i.next}while(n);Fo=!1}}function Fm(){Hd()}function Hd(){Ar=No=!1;var t=0;vi!==0&&Ym()&&(t=vi);for(var e=Dt(),n=null,i=_r;i!==null;){var a=i.next,s=Id(i,e);s===0?(i.next=null,n===null?_r=a:n.next=a,a===null&&(_a=n)):(n=i,(t!==0||(s&3)!==0)&&(Ar=!0)),i=a}Ke!==0&&Ke!==5||os(t),vi!==0&&(vi=0)}function Id(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var u=31-ut(s),D=1<<u,it=a[u];it===-1?((D&n)===0||(D&i)!==0)&&(a[u]=Vt(D,e)):it<=e&&(t.expiredLanes|=D),s&=~D}if(e=Ne,n=Ae,n=Zt(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(Me===2||Me===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&ft(i),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||te(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&ft(i),Qt(n)){case 2:case 8:n=It;break;case 32:n=re;break;case 268435456:n=pe;break;default:n=re}return i=qd.bind(null,t),n=lt(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&ft(i),t.callbackPriority=2,t.callbackNode=null,2}function qd(t,e){if(Ke!==0&&Ke!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(vr()&&t.callbackNode!==n)return null;var i=Ae;return i=Zt(t,t===Ne?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(xd(t,i,e),Id(t,Dt()),t.callbackNode!=null&&t.callbackNode===n?qd.bind(null,t):null)}function Gd(t,e){if(vr())return null;xd(t,e,!0)}function jm(){Km(function(){(Re&6)!==0?lt(Gt,Fm):Hd()})}function jo(){if(vi===0){var t=sa;t===0&&(t=ue,ue<<=1,(ue&261888)===0&&(ue=256)),vi=t}return vi}function Xd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ws(""+t)}function Yd(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function zm(t,e,n,i,a){if(e==="submit"&&n&&n.stateNode===a){var s=Xd((a[ee]||null).action),u=i.submitter;u&&(e=(e=u[ee]||null)?Xd(e.formAction):u.getAttribute("formAction"),e!==null&&(s=e,u=null));var D=new Ls("action","action",null,i,a);t.push({event:D,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(vi!==0){var it=u?Yd(a,u):new FormData(a);eo(n,{pending:!0,data:it,method:a.method,action:s},null,it)}}else typeof s=="function"&&(D.preventDefault(),it=u?Yd(a,u):new FormData(a),eo(n,{pending:!0,data:it,method:a.method,action:s},s,it))},currentTarget:a}]})}}for(var zo=0;zo<bl.length;zo++){var Po=bl[zo],Pm=Po.toLowerCase(),Um=Po[0].toUpperCase()+Po.slice(1);Dn(Pm,"on"+Um)}Dn(Eu,"onAnimationEnd"),Dn(xu,"onAnimationIteration"),Dn(Tu,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(em,"onTransitionRun"),Dn(nm,"onTransitionStart"),Dn(im,"onTransitionCancel"),Dn(Cu,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cs));function Vd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],a=i.event;i=i.listeners;t:{var s=void 0;if(e)for(var u=i.length-1;0<=u;u--){var D=i[u],it=D.instance,xt=D.currentTarget;if(D=D.listener,it!==s&&a.isPropagationStopped())break t;s=D,a.currentTarget=xt;try{s(a)}catch(Pt){js(Pt)}a.currentTarget=null,s=it}else for(u=0;u<i.length;u++){if(D=i[u],it=D.instance,xt=D.currentTarget,D=D.listener,it!==s&&a.isPropagationStopped())break t;s=D,a.currentTarget=xt;try{s(a)}catch(Pt){js(Pt)}a.currentTarget=null,s=it}}}}function _e(t,e){var n=e[ge];n===void 0&&(n=e[ge]=new Set);var i=t+"__bubble";n.has(i)||(Kd(e,t,2,!1),n.add(i))}function Uo(t,e,n){var i=0;e&&(i|=4),Kd(n,t,i,e)}var Sr="_reactListening"+Math.random().toString(36).slice(2);function Bo(t){if(!t[Sr]){t[Sr]=!0,Hc.forEach(function(n){n!=="selectionchange"&&(Bm.has(n)||Uo(n,!1,t),Uo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sr]||(e[Sr]=!0,Uo("selectionchange",!1,e))}}function Kd(t,e,n,i){switch(xf(e)){case 2:var a=pg;break;case 8:a=mg;break;default:a=ec}n=a.bind(null,e,n,t),a=void 0,!sl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),i?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function Ho(t,e,n,i,a){var s=i;if((e&1)===0&&(e&2)===0&&i!==null)t:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var D=i.stateNode.containerInfo;if(D===a)break;if(u===4)for(u=i.return;u!==null;){var it=u.tag;if((it===3||it===4)&&u.stateNode.containerInfo===a)return;u=u.return}for(;D!==null;){if(u=nn(D),u===null)return;if(it=u.tag,it===5||it===6||it===26||it===27){i=s=u;continue t}D=D.parentNode}}i=i.return}$c(function(){var xt=s,Pt=il(n),Ht=[];t:{var wt=Ru.get(t);if(wt!==void 0){var kt=Ls,ie=t;switch(t){case"keypress":if(Os(n)===0)break t;case"keydown":case"keyup":kt=Lp;break;case"focusin":ie="focus",kt=cl;break;case"focusout":ie="blur",kt=cl;break;case"beforeblur":case"afterblur":kt=cl;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=Ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=jp;break;case Eu:case xu:case Tu:kt=xp;break;case Cu:kt=Pp;break;case"scroll":case"scrollend":kt=vp;break;case"wheel":kt=Bp;break;case"copy":case"cut":case"paste":kt=Cp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=au;break;case"toggle":case"beforetoggle":kt=Ip}var fe=(e&4)!==0,Le=!fe&&(t==="scroll"||t==="scrollend"),vt=fe?wt!==null?wt+"Capture":null:wt;fe=[];for(var ct=xt,Et;ct!==null;){var Bt=ct;if(Et=Bt.stateNode,Bt=Bt.tag,Bt!==5&&Bt!==26&&Bt!==27||Et===null||vt===null||(Bt=Oa(ct,vt),Bt!=null&&fe.push(us(ct,Bt,Et))),Le)break;ct=ct.return}0<fe.length&&(wt=new kt(wt,ie,null,n,Pt),Ht.push({event:wt,listeners:fe}))}}if((e&7)===0){t:{if(wt=t==="mouseover"||t==="pointerover",kt=t==="mouseout"||t==="pointerout",wt&&n!==nl&&(ie=n.relatedTarget||n.fromElement)&&(nn(ie)||ie[oe]))break t;if((kt||wt)&&(wt=Pt.window===Pt?Pt:(wt=Pt.ownerDocument)?wt.defaultView||wt.parentWindow:window,kt?(ie=n.relatedTarget||n.toElement,kt=xt,ie=ie?nn(ie):null,ie!==null&&(Le=rt(ie),fe=ie.tag,ie!==Le||fe!==5&&fe!==27&&fe!==6)&&(ie=null)):(kt=null,ie=xt),kt!==ie)){if(fe=nu,Bt="onMouseLeave",vt="onMouseEnter",ct="mouse",(t==="pointerout"||t==="pointerover")&&(fe=au,Bt="onPointerLeave",vt="onPointerEnter",ct="pointer"),Le=kt==null?wt:Da(kt),Et=ie==null?wt:Da(ie),wt=new fe(Bt,ct+"leave",kt,n,Pt),wt.target=Le,wt.relatedTarget=Et,Bt=null,nn(Pt)===xt&&(fe=new fe(vt,ct+"enter",ie,n,Pt),fe.target=Et,fe.relatedTarget=Le,Bt=fe),Le=Bt,kt&&ie)e:{for(fe=Hm,vt=kt,ct=ie,Et=0,Bt=vt;Bt;Bt=fe(Bt))Et++;Bt=0;for(var ce=ct;ce;ce=fe(ce))Bt++;for(;0<Et-Bt;)vt=fe(vt),Et--;for(;0<Bt-Et;)ct=fe(ct),Bt--;for(;Et--;){if(vt===ct||ct!==null&&vt===ct.alternate){fe=vt;break e}vt=fe(vt),ct=fe(ct)}fe=null}else fe=null;kt!==null&&Wd(Ht,wt,kt,fe,!1),ie!==null&&Le!==null&&Wd(Ht,Le,ie,fe,!0)}}t:{if(wt=xt?Da(xt):window,kt=wt.nodeName&&wt.nodeName.toLowerCase(),kt==="select"||kt==="input"&&wt.type==="file")var Te=du;else if(uu(wt))if(fu)Te=Jp;else{Te=Qp;var se=Wp}else kt=wt.nodeName,!kt||kt.toLowerCase()!=="input"||wt.type!=="checkbox"&&wt.type!=="radio"?xt&&el(xt.elementType)&&(Te=du):Te=Zp;if(Te&&(Te=Te(t,xt))){hu(Ht,Te,n,Pt);break t}se&&se(t,wt,xt),t==="focusout"&&xt&&wt.type==="number"&&xt.memoizedProps.value!=null&&tl(wt,"number",wt.value)}switch(se=xt?Da(xt):window,t){case"focusin":(uu(se)||se.contentEditable==="true")&&(Zi=se,ml=xt,Ua=null);break;case"focusout":Ua=ml=Zi=null;break;case"mousedown":gl=!0;break;case"contextmenu":case"mouseup":case"dragend":gl=!1,Au(Ht,n,Pt);break;case"selectionchange":if(tm)break;case"keydown":case"keyup":Au(Ht,n,Pt)}var be;if(hl)t:{switch(t){case"compositionstart":var Se="onCompositionStart";break t;case"compositionend":Se="onCompositionEnd";break t;case"compositionupdate":Se="onCompositionUpdate";break t}Se=void 0}else Qi?ou(t,n)&&(Se="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Se="onCompositionStart");Se&&(su&&n.locale!=="ko"&&(Qi||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Qi&&(be=tu()):(ii=Pt,rl="value"in ii?ii.value:ii.textContent,Qi=!0)),se=Er(xt,Se),0<se.length&&(Se=new iu(Se,t,null,n,Pt),Ht.push({event:Se,listeners:se}),be?Se.data=be:(be=cu(n),be!==null&&(Se.data=be)))),(be=Gp?Xp(t,n):Yp(t,n))&&(Se=Er(xt,"onBeforeInput"),0<Se.length&&(se=new iu("onBeforeInput","beforeinput",null,n,Pt),Ht.push({event:se,listeners:Se}),se.data=be)),zm(Ht,t,xt,n,Pt)}Vd(Ht,e)})}function us(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Er(t,e){for(var n=e+"Capture",i=[];t!==null;){var a=t,s=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||s===null||(a=Oa(t,n),a!=null&&i.unshift(us(t,a,s)),a=Oa(t,e),a!=null&&i.push(us(t,a,s))),t.tag===3)return i;t=t.return}return[]}function Hm(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wd(t,e,n,i,a){for(var s=e._reactName,u=[];n!==null&&n!==i;){var D=n,it=D.alternate,xt=D.stateNode;if(D=D.tag,it!==null&&it===i)break;D!==5&&D!==26&&D!==27||xt===null||(it=xt,a?(xt=Oa(n,s),xt!=null&&u.unshift(us(n,xt,it))):a||(xt=Oa(n,s),xt!=null&&u.push(us(n,xt,it)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var Im=/\r\n?/g,qm=/\u0000|\uFFFD/g;function Qd(t){return(typeof t=="string"?t:""+t).replace(Im,`
`).replace(qm,"")}function Zd(t,e){return e=Qd(e),Qd(t)===e}function ke(t,e,n,i,a,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Vi(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Vi(t,""+i);break;case"className":Rs(t,"class",i);break;case"tabIndex":Rs(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Rs(t,n,i);break;case"style":Zc(t,i,s);break;case"data":if(e!=="object"){Rs(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=ws(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&ke(t,e,"name",a.name,a,null),ke(t,e,"formEncType",a.formEncType,a,null),ke(t,e,"formMethod",a.formMethod,a,null),ke(t,e,"formTarget",a.formTarget,a,null)):(ke(t,e,"encType",a.encType,a,null),ke(t,e,"method",a.method,a,null),ke(t,e,"target",a.target,a,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=ws(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Un);break;case"onScroll":i!=null&&_e("scroll",t);break;case"onScrollEnd":i!=null&&_e("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(l(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=ws(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":_e("beforetoggle",t),_e("toggle",t),Cs(t,"popover",i);break;case"xlinkActuate":Pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Pn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Pn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Pn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Pn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Cs(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=yp.get(n)||n,Cs(t,n,i))}}function Io(t,e,n,i,a,s){switch(n){case"style":Zc(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(l(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Vi(t,i):(typeof i=="number"||typeof i=="bigint")&&Vi(t,""+i);break;case"onScroll":i!=null&&_e("scroll",t);break;case"onScrollEnd":i!=null&&_e("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ic.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),e=n.slice(2,a?n.length-7:void 0),s=t[ee]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,a),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,a);break t}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Cs(t,n,i)}}}function tn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",t),_e("load",t);var i=!1,a=!1,s;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(u!=null)switch(s){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,e));default:ke(t,e,s,u,n,null)}}a&&ke(t,e,"srcSet",n.srcSet,n,null),i&&ke(t,e,"src",n.src,n,null);return;case"input":_e("invalid",t);var D=s=u=a=null,it=null,xt=null;for(i in n)if(n.hasOwnProperty(i)){var Pt=n[i];if(Pt!=null)switch(i){case"name":a=Pt;break;case"type":u=Pt;break;case"checked":it=Pt;break;case"defaultChecked":xt=Pt;break;case"value":s=Pt;break;case"defaultValue":D=Pt;break;case"children":case"dangerouslySetInnerHTML":if(Pt!=null)throw Error(l(137,e));break;default:ke(t,e,i,Pt,n,null)}}Vc(t,s,D,it,xt,u,a,!1);return;case"select":_e("invalid",t),i=u=s=null;for(a in n)if(n.hasOwnProperty(a)&&(D=n[a],D!=null))switch(a){case"value":s=D;break;case"defaultValue":u=D;break;case"multiple":i=D;default:ke(t,e,a,D,n,null)}e=s,n=u,t.multiple=!!i,e!=null?Yi(t,!!i,e,!1):n!=null&&Yi(t,!!i,n,!0);return;case"textarea":_e("invalid",t),s=a=i=null;for(u in n)if(n.hasOwnProperty(u)&&(D=n[u],D!=null))switch(u){case"value":i=D;break;case"defaultValue":a=D;break;case"children":s=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(91));break;default:ke(t,e,u,D,n,null)}Wc(t,i,a,s);return;case"option":for(it in n)if(n.hasOwnProperty(it)&&(i=n[it],i!=null))switch(it){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ke(t,e,it,i,n,null)}return;case"dialog":_e("beforetoggle",t),_e("toggle",t),_e("cancel",t),_e("close",t);break;case"iframe":case"object":_e("load",t);break;case"video":case"audio":for(i=0;i<cs.length;i++)_e(cs[i],t);break;case"image":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"embed":case"source":case"link":_e("error",t),_e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xt in n)if(n.hasOwnProperty(xt)&&(i=n[xt],i!=null))switch(xt){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,e));default:ke(t,e,xt,i,n,null)}return;default:if(el(e)){for(Pt in n)n.hasOwnProperty(Pt)&&(i=n[Pt],i!==void 0&&Io(t,e,Pt,i,n,void 0));return}}for(D in n)n.hasOwnProperty(D)&&(i=n[D],i!=null&&ke(t,e,D,i,n,null))}function Gm(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,u=null,D=null,it=null,xt=null,Pt=null;for(kt in n){var Ht=n[kt];if(n.hasOwnProperty(kt)&&Ht!=null)switch(kt){case"checked":break;case"value":break;case"defaultValue":it=Ht;default:i.hasOwnProperty(kt)||ke(t,e,kt,null,i,Ht)}}for(var wt in i){var kt=i[wt];if(Ht=n[wt],i.hasOwnProperty(wt)&&(kt!=null||Ht!=null))switch(wt){case"type":s=kt;break;case"name":a=kt;break;case"checked":xt=kt;break;case"defaultChecked":Pt=kt;break;case"value":u=kt;break;case"defaultValue":D=kt;break;case"children":case"dangerouslySetInnerHTML":if(kt!=null)throw Error(l(137,e));break;default:kt!==Ht&&ke(t,e,wt,kt,i,Ht)}}$r(t,u,D,it,xt,Pt,s,a);return;case"select":kt=u=D=wt=null;for(s in n)if(it=n[s],n.hasOwnProperty(s)&&it!=null)switch(s){case"value":break;case"multiple":kt=it;default:i.hasOwnProperty(s)||ke(t,e,s,null,i,it)}for(a in i)if(s=i[a],it=n[a],i.hasOwnProperty(a)&&(s!=null||it!=null))switch(a){case"value":wt=s;break;case"defaultValue":D=s;break;case"multiple":u=s;default:s!==it&&ke(t,e,a,s,i,it)}e=D,n=u,i=kt,wt!=null?Yi(t,!!n,wt,!1):!!i!=!!n&&(e!=null?Yi(t,!!n,e,!0):Yi(t,!!n,n?[]:"",!1));return;case"textarea":kt=wt=null;for(D in n)if(a=n[D],n.hasOwnProperty(D)&&a!=null&&!i.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:ke(t,e,D,null,i,a)}for(u in i)if(a=i[u],s=n[u],i.hasOwnProperty(u)&&(a!=null||s!=null))switch(u){case"value":wt=a;break;case"defaultValue":kt=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(l(91));break;default:a!==s&&ke(t,e,u,a,i,s)}Kc(t,wt,kt);return;case"option":for(var ie in n)if(wt=n[ie],n.hasOwnProperty(ie)&&wt!=null&&!i.hasOwnProperty(ie))switch(ie){case"selected":t.selected=!1;break;default:ke(t,e,ie,null,i,wt)}for(it in i)if(wt=i[it],kt=n[it],i.hasOwnProperty(it)&&wt!==kt&&(wt!=null||kt!=null))switch(it){case"selected":t.selected=wt&&typeof wt!="function"&&typeof wt!="symbol";break;default:ke(t,e,it,wt,i,kt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in n)wt=n[fe],n.hasOwnProperty(fe)&&wt!=null&&!i.hasOwnProperty(fe)&&ke(t,e,fe,null,i,wt);for(xt in i)if(wt=i[xt],kt=n[xt],i.hasOwnProperty(xt)&&wt!==kt&&(wt!=null||kt!=null))switch(xt){case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(l(137,e));break;default:ke(t,e,xt,wt,i,kt)}return;default:if(el(e)){for(var Le in n)wt=n[Le],n.hasOwnProperty(Le)&&wt!==void 0&&!i.hasOwnProperty(Le)&&Io(t,e,Le,void 0,i,wt);for(Pt in i)wt=i[Pt],kt=n[Pt],!i.hasOwnProperty(Pt)||wt===kt||wt===void 0&&kt===void 0||Io(t,e,Pt,wt,i,kt);return}}for(var vt in n)wt=n[vt],n.hasOwnProperty(vt)&&wt!=null&&!i.hasOwnProperty(vt)&&ke(t,e,vt,null,i,wt);for(Ht in i)wt=i[Ht],kt=n[Ht],!i.hasOwnProperty(Ht)||wt===kt||wt==null&&kt==null||ke(t,e,Ht,wt,i,kt)}function Jd(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xm(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var a=n[i],s=a.transferSize,u=a.initiatorType,D=a.duration;if(s&&D&&Jd(u)){for(u=0,D=a.responseEnd,i+=1;i<n.length;i++){var it=n[i],xt=it.startTime;if(xt>D)break;var Pt=it.transferSize,Ht=it.initiatorType;Pt&&Jd(Ht)&&(it=it.responseEnd,u+=Pt*(it<D?1:(D-xt)/(it-xt)))}if(--i,e+=8*(s+u)/(a.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var qo=null,Go=null;function xr(t){return t.nodeType===9?t:t.ownerDocument}function $d(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tf(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Xo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yo=null;function Ym(){var t=window.event;return t&&t.type==="popstate"?t===Yo?!1:(Yo=t,!0):(Yo=null,!1)}var ef=typeof setTimeout=="function"?setTimeout:void 0,Vm=typeof clearTimeout=="function"?clearTimeout:void 0,nf=typeof Promise=="function"?Promise:void 0,Km=typeof queueMicrotask=="function"?queueMicrotask:typeof nf<"u"?function(t){return nf.resolve(null).then(t).catch(Wm)}:ef;function Wm(t){setTimeout(function(){throw t})}function _i(t){return t==="head"}function af(t,e){var n=e,i=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(a),xa(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")hs(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,hs(n);for(var s=n.firstChild;s;){var u=s.nextSibling,D=s.nodeName;s[en]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=u}}else n==="body"&&hs(t.ownerDocument.body);n=a}while(n);xa(e)}function sf(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Vo(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vo(n),bn(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Qm(t,e,n,i){for(;t.nodeType===1;){var a=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[en])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==a.rel||t.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||t.getAttribute("title")!==(a.title==null?null:a.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(a.src==null?null:a.src)||t.getAttribute("type")!==(a.type==null?null:a.type)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=a.name==null?null:""+a.name;if(a.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Rn(t.nextSibling),t===null)break}return null}function Zm(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Rn(t.nextSibling),t===null))return null;return t}function rf(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Rn(t.nextSibling),t===null))return null;return t}function Ko(t){return t.data==="$?"||t.data==="$~"}function Wo(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Jm(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Rn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Qo=null;function lf(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Rn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function of(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function cf(t,e,n){switch(e=xr(n),t){case"html":if(t=e.documentElement,!t)throw Error(l(452));return t;case"head":if(t=e.head,!t)throw Error(l(453));return t;case"body":if(t=e.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function hs(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);bn(t)}var Mn=new Map,uf=new Set;function Tr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ei=I.d;I.d={f:$m,r:tg,D:eg,C:ng,L:ig,m:ag,X:rg,S:sg,M:lg};function $m(){var t=ei.f(),e=gr();return t||e}function tg(t){var e=zn(t);e!==null&&e.tag===5&&e.type==="form"?Ch(e):ei.r(t)}var Aa=typeof document>"u"?null:document;function hf(t,e,n){var i=Aa;if(i&&typeof e=="string"&&e){var a=_n(e);a='link[rel="'+t+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),uf.has(a)||(uf.add(a),t={rel:t,crossOrigin:n,href:e},i.querySelector(a)===null&&(e=i.createElement("link"),tn(e,"link",t),We(e),i.head.appendChild(e)))}}function eg(t){ei.D(t),hf("dns-prefetch",t,null)}function ng(t,e){ei.C(t,e),hf("preconnect",t,e)}function ig(t,e,n){ei.L(t,e,n);var i=Aa;if(i&&t&&e){var a='link[rel="preload"][as="'+_n(e)+'"]';e==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+_n(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+_n(n.imageSizes)+'"]')):a+='[href="'+_n(t)+'"]';var s=a;switch(e){case"style":s=Sa(t);break;case"script":s=Ea(t)}Mn.has(s)||(t=H({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Mn.set(s,t),i.querySelector(a)!==null||e==="style"&&i.querySelector(ds(s))||e==="script"&&i.querySelector(fs(s))||(e=i.createElement("link"),tn(e,"link",t),We(e),i.head.appendChild(e)))}}function ag(t,e){ei.m(t,e);var n=Aa;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",a='link[rel="modulepreload"][as="'+_n(i)+'"][href="'+_n(t)+'"]',s=a;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ea(t)}if(!Mn.has(s)&&(t=H({rel:"modulepreload",href:t},e),Mn.set(s,t),n.querySelector(a)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(fs(s)))return}i=n.createElement("link"),tn(i,"link",t),We(i),n.head.appendChild(i)}}}function sg(t,e,n){ei.S(t,e,n);var i=Aa;if(i&&t){var a=Gi(i).hoistableStyles,s=Sa(t);e=e||"default";var u=a.get(s);if(!u){var D={loading:0,preload:null};if(u=i.querySelector(ds(s)))D.loading=5;else{t=H({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Mn.get(s))&&Zo(t,n);var it=u=i.createElement("link");We(it),tn(it,"link",t),it._p=new Promise(function(xt,Pt){it.onload=xt,it.onerror=Pt}),it.addEventListener("load",function(){D.loading|=1}),it.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Cr(u,e,i)}u={type:"stylesheet",instance:u,count:1,state:D},a.set(s,u)}}}function rg(t,e){ei.X(t,e);var n=Aa;if(n&&t){var i=Gi(n).hoistableScripts,a=Ea(t),s=i.get(a);s||(s=n.querySelector(fs(a)),s||(t=H({src:t,async:!0},e),(e=Mn.get(a))&&Jo(t,e),s=n.createElement("script"),We(s),tn(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(a,s))}}function lg(t,e){ei.M(t,e);var n=Aa;if(n&&t){var i=Gi(n).hoistableScripts,a=Ea(t),s=i.get(a);s||(s=n.querySelector(fs(a)),s||(t=H({src:t,async:!0,type:"module"},e),(e=Mn.get(a))&&Jo(t,e),s=n.createElement("script"),We(s),tn(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(a,s))}}function df(t,e,n,i){var a=(a=z.current)?Tr(a):null;if(!a)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Sa(n.href),n=Gi(a).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Sa(n.href);var s=Gi(a).hoistableStyles,u=s.get(t);if(u||(a=a.ownerDocument||a,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,u),(s=a.querySelector(ds(t)))&&!s._p&&(u.instance=s,u.state.loading=5),Mn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Mn.set(t,n),s||og(a,t,n,u.state))),e&&i===null)throw Error(l(528,""));return u}if(e&&i!==null)throw Error(l(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ea(n),n=Gi(a).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Sa(t){return'href="'+_n(t)+'"'}function ds(t){return'link[rel="stylesheet"]['+t+"]"}function ff(t){return H({},t,{"data-precedence":t.precedence,precedence:null})}function og(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),tn(e,"link",n),We(e),t.head.appendChild(e))}function Ea(t){return'[src="'+_n(t)+'"]'}function fs(t){return"script[async]"+t}function pf(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+_n(n.href)+'"]');if(i)return e.instance=i,We(i),i;var a=H({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),We(i),tn(i,"style",a),Cr(i,n.precedence,t),e.instance=i;case"stylesheet":a=Sa(n.href);var s=t.querySelector(ds(a));if(s)return e.state.loading|=4,e.instance=s,We(s),s;i=ff(n),(a=Mn.get(a))&&Zo(i,a),s=(t.ownerDocument||t).createElement("link"),We(s);var u=s;return u._p=new Promise(function(D,it){u.onload=D,u.onerror=it}),tn(s,"link",i),e.state.loading|=4,Cr(s,n.precedence,t),e.instance=s;case"script":return s=Ea(n.src),(a=t.querySelector(fs(s)))?(e.instance=a,We(a),a):(i=n,(a=Mn.get(s))&&(i=H({},n),Jo(i,a)),t=t.ownerDocument||t,a=t.createElement("script"),We(a),tn(a,"link",i),t.head.appendChild(a),e.instance=a);case"void":return null;default:throw Error(l(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(i=e.instance,e.state.loading|=4,Cr(i,n.precedence,t));return e.instance}function Cr(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=i.length?i[i.length-1]:null,s=a,u=0;u<i.length;u++){var D=i[u];if(D.dataset.precedence===e)s=D;else if(s!==a)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Zo(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Jo(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Rr=null;function mf(t,e,n){if(Rr===null){var i=new Map,a=Rr=new Map;a.set(n,i)}else a=Rr,i=a.get(n),i||(i=new Map,a.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),a=0;a<n.length;a++){var s=n[a];if(!(s[en]||s[Yt]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var u=s.getAttribute(e)||"";u=t+u;var D=i.get(u);D?D.push(s):i.set(u,[s])}}return i}function gf(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function cg(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function yf(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ug(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var a=Sa(i.href),s=e.querySelector(ds(a));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Mr.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,We(s);return}s=e.ownerDocument||e,i=ff(i),(a=Mn.get(a))&&Zo(i,a),s=s.createElement("link"),We(s);var u=s;u._p=new Promise(function(D,it){u.onload=D,u.onerror=it}),tn(s,"link",i),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=Mr.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var $o=0;function hg(t,e){return t.stylesheets&&t.count===0&&Dr(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Dr(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&$o===0&&($o=62500*Xm());var a=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Dr(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>$o?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(a)}}:null}function Mr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wr=null;function Dr(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wr=new Map,e.forEach(dg,t),wr=null,Mr.call(t))}function dg(t,e){if(!(e.state.loading&4)){var n=wr.get(t);if(n)var i=n.get(null);else{n=new Map,wr.set(t,n);for(var a=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var u=a[s];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(n.set(u.dataset.precedence,u),i=u)}i&&n.set(null,i)}a=e.instance,u=a.getAttribute("data-precedence"),s=n.get(u)||i,s===i&&n.set(null,a),n.set(u,a),this.count++,i=Mr.bind(this),a.addEventListener("load",i),a.addEventListener("error",i),s?s.parentNode.insertBefore(a,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(a,t.firstChild)),e.state.loading|=4}}var ps={$$typeof:U,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function fg(t,e,n,i,a,s,u,D,it){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=P(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P(0),this.hiddenUpdates=P(null),this.identifierPrefix=i,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=it,this.incompleteTransitions=new Map}function bf(t,e,n,i,a,s,u,D,it,xt,Pt,Ht){return t=new fg(t,e,n,u,it,xt,Pt,Ht,D),e=1,s===!0&&(e|=24),s=dn(3,null,null,e),t.current=s,s.stateNode=t,e=Ol(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},Fl(s),t}function vf(t){return t?(t=ta,t):ta}function _f(t,e,n,i,a,s){a=vf(a),i.context===null?i.context=a:i.pendingContext=a,i=ci(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=ui(t,i,e),n!==null&&(un(n,t,e),Ya(n,t,e))}function Af(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tc(t,e){Af(t,e),(t=t.alternate)&&Af(t,e)}function Sf(t){if(t.tag===13||t.tag===31){var e=Di(t,67108864);e!==null&&un(e,t,67108864),tc(t,67108864)}}function Ef(t){if(t.tag===13||t.tag===31){var e=yn();e=$t(e);var n=Di(t,e);n!==null&&un(n,t,e),tc(t,e)}}var Or=!0;function pg(t,e,n,i){var a=w.T;w.T=null;var s=I.p;try{I.p=2,ec(t,e,n,i)}finally{I.p=s,w.T=a}}function mg(t,e,n,i){var a=w.T;w.T=null;var s=I.p;try{I.p=8,ec(t,e,n,i)}finally{I.p=s,w.T=a}}function ec(t,e,n,i){if(Or){var a=nc(i);if(a===null)Ho(t,e,i,kr,n),Tf(t,i);else if(yg(a,t,e,n,i))i.stopPropagation();else if(Tf(t,i),e&4&&-1<gg.indexOf(t)){for(;a!==null;){var s=zn(a);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var u=qt(s.pendingLanes);if(u!==0){var D=s;for(D.pendingLanes|=2,D.entangledLanes|=2;u;){var it=1<<31-ut(u);D.entanglements[1]|=it,u&=~it}jn(s),(Re&6)===0&&(pr=Dt()+500,os(0))}}break;case 31:case 13:D=Di(s,2),D!==null&&un(D,s,2),gr(),tc(s,2)}if(s=nc(i),s===null&&Ho(t,e,i,kr,n),s===a)break;a=s}a!==null&&i.stopPropagation()}else Ho(t,e,i,null,n)}}function nc(t){return t=il(t),ic(t)}var kr=null;function ic(t){if(kr=null,t=nn(t),t!==null){var e=rt(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Q(e),t!==null)return t;t=null}else if(n===31){if(t=_t(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return kr=t,null}function xf(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ot()){case Gt:return 2;case It:return 8;case re:case ae:return 32;case pe:return 268435456;default:return 32}default:return 32}}var ac=!1,Ai=null,Si=null,Ei=null,ms=new Map,gs=new Map,xi=[],gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tf(t,e){switch(t){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":ms.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(e.pointerId)}}function ys(t,e,n,i,a,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[a]},e!==null&&(e=zn(e),e!==null&&Sf(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function yg(t,e,n,i,a){switch(e){case"focusin":return Ai=ys(Ai,t,e,n,i,a),!0;case"dragenter":return Si=ys(Si,t,e,n,i,a),!0;case"mouseover":return Ei=ys(Ei,t,e,n,i,a),!0;case"pointerover":var s=a.pointerId;return ms.set(s,ys(ms.get(s)||null,t,e,n,i,a)),!0;case"gotpointercapture":return s=a.pointerId,gs.set(s,ys(gs.get(s)||null,t,e,n,i,a)),!0}return!1}function Cf(t){var e=nn(t.target);if(e!==null){var n=rt(e);if(n!==null){if(e=n.tag,e===13){if(e=Q(n),e!==null){t.blockedOn=e,le(t.priority,function(){Ef(n)});return}}else if(e===31){if(e=_t(n),e!==null){t.blockedOn=e,le(t.priority,function(){Ef(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nc(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);nl=i,n.target.dispatchEvent(i),nl=null}else return e=zn(n),e!==null&&Sf(e),t.blockedOn=n,!1;e.shift()}return!0}function Rf(t,e,n){Lr(t)&&n.delete(e)}function bg(){ac=!1,Ai!==null&&Lr(Ai)&&(Ai=null),Si!==null&&Lr(Si)&&(Si=null),Ei!==null&&Lr(Ei)&&(Ei=null),ms.forEach(Rf),gs.forEach(Rf)}function Nr(t,e){t.blockedOn===e&&(t.blockedOn=null,ac||(ac=!0,J.unstable_scheduleCallback(J.unstable_NormalPriority,bg)))}var Fr=null;function Mf(t){Fr!==t&&(Fr=t,J.unstable_scheduleCallback(J.unstable_NormalPriority,function(){Fr===t&&(Fr=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],a=t[e+2];if(typeof i!="function"){if(ic(i||n)===null)continue;break}var s=zn(n);s!==null&&(t.splice(e,3),e-=3,eo(s,{pending:!0,data:a,method:n.method,action:i},i,a))}}))}function xa(t){function e(it){return Nr(it,t)}Ai!==null&&Nr(Ai,t),Si!==null&&Nr(Si,t),Ei!==null&&Nr(Ei,t),ms.forEach(e),gs.forEach(e);for(var n=0;n<xi.length;n++){var i=xi[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<xi.length&&(n=xi[0],n.blockedOn===null);)Cf(n),n.blockedOn===null&&xi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var a=n[i],s=n[i+1],u=a[ee]||null;if(typeof s=="function")u||Mf(n);else if(u){var D=null;if(s&&s.hasAttribute("formAction")){if(a=s,u=s[ee]||null)D=u.formAction;else if(ic(a)!==null)continue}else D=u.action;typeof D=="function"?n[i+1]=D:(n.splice(i,3),i-=3),Mf(n)}}}function wf(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(u){return a=u})},focusReset:"manual",scroll:"manual"})}function e(){a!==null&&(a(),a=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,a=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),a!==null&&(a(),a=null)}}}function sc(t){this._internalRoot=t}jr.prototype.render=sc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(l(409));var n=e.current,i=yn();_f(n,i,t,e,null,null)},jr.prototype.unmount=sc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_f(t.current,2,null,t,null,null),gr(),e[oe]=null}};function jr(t){this._internalRoot=t}jr.prototype.unstable_scheduleHydration=function(t){if(t){var e=Xt();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xi.length&&e!==0&&e<xi[n].priority;n++);xi.splice(n,0,t),n===0&&Cf(t)}};var Df=m.version;if(Df!=="19.2.0")throw Error(l(527,Df,"19.2.0"));I.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=A(e),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var vg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zr.isDisabled&&zr.supportsFiber)try{he=zr.inject(vg),de=zr}catch{}}return reactDomClient_production.createRoot=function(t,e){if(!R(t))throw Error(l(299));var n=!1,i="",a=jh,s=zh,u=Ph;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(u=e.onRecoverableError)),e=bf(t,1,!1,null,null,n,i,null,a,s,u,wf),t[oe]=e.current,Bo(t),new sc(e)},reactDomClient_production.hydrateRoot=function(t,e,n){if(!R(t))throw Error(l(299));var i=!1,a="",s=jh,u=zh,D=Ph,it=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(D=n.onRecoverableError),n.formState!==void 0&&(it=n.formState)),e=bf(t,1,!0,e,n??null,i,a,it,s,u,D,wf),e.context=vf(null),n=e.current,i=yn(),i=$t(i),a=ci(i),a.callback=null,ui(n,a,i),n=i,e.current.lanes=n,et(e,n),jn(e),t[oe]=e.current,Bo(t),new jr(e)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function J(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J)}catch(m){console.error(m)}}return J(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports),getMonthKey=J=>{if(J==null)return"Invalid Date";let m;if(typeof J=="number")m=new Date(Math.round((J-25569)*86400*1e3));else if(typeof J=="string")m=new Date(J);else if(J instanceof Date)m=J;else return"Invalid Date";if(isNaN(m.getTime()))return"Invalid Date";const at=m.getFullYear(),l=(m.getMonth()+1).toString().padStart(2,"0");return`${at}-${l}`},processExcelFile=J=>new Promise((m,at)=>{const l=new FileReader;l.onload=R=>{var rt;try{if(!((rt=R.target)!=null&&rt.result))return at(new Error("Failed to read file."));const Q=new Uint8Array(R.target.result),_t=XLSX.read(Q,{type:"array",cellDates:!0}),F=_t.SheetNames[0],A=_t.Sheets[F],x=XLSX.utils.sheet_to_json(A,{header:1,range:1}),H=new Map;x.forEach(T=>{const N=T[0],C=T[1],d=T[6];if(d&&N!==void 0&&C!==void 0){const E=d.toString().trim(),U=`${N instanceof Date?N.toISOString():N}-${C}-${E}`;H.has(U)||H.set(U,{teacher:E,date:N})}});const G={};for(const{teacher:T,date:N}of H.values()){G[T]||(G[T]={name:T,count:0,monthlyCounts:{}});const C=G[T];C.count+=1;const d=getMonthKey(N);d!=="Invalid Date"&&(C.monthlyCounts[d]=(C.monthlyCounts[d]||0)+1)}const O=Object.values(G);m(O)}catch(Q){console.error("Error processing Excel file:",Q),at(Q)}},l.onerror=R=>{at(R)},l.readAsArrayBuffer(J)});function commonjsRequire(J){throw new Error('Could not dynamically require "'+J+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports$1){(function(m,at){module.exports=m.pdfjsLib=at()})(globalThis,()=>(()=>{var __webpack_modules__=[,((J,m)=>{var de;Object.defineProperty(m,"__esModule",{value:!0}),m.VerbosityLevel=m.Util=m.UnknownErrorException=m.UnexpectedResponseException=m.TextRenderingMode=m.RenderingIntentFlag=m.PromiseCapability=m.PermissionFlag=m.PasswordResponses=m.PasswordException=m.PageActionEventType=m.OPS=m.MissingPDFException=m.MAX_IMAGE_SIZE_TO_CACHE=m.LINE_FACTOR=m.LINE_DESCENT_FACTOR=m.InvalidPDFException=m.ImageKind=m.IDENTITY_MATRIX=m.FormatError=m.FeatureTest=m.FONT_IDENTITY_MATRIX=m.DocumentActionEventType=m.CMapCompressionType=m.BaseException=m.BASELINE_FACTOR=m.AnnotationType=m.AnnotationReplyType=m.AnnotationPrefix=m.AnnotationMode=m.AnnotationFlag=m.AnnotationFieldFlag=m.AnnotationEditorType=m.AnnotationEditorPrefix=m.AnnotationEditorParamsType=m.AnnotationBorderStyleType=m.AnnotationActionEventType=m.AbortException=void 0,m.assert=j,m.bytesToString=Tt,m.createValidAbsoluteUrl=S,m.getModificationDate=It,m.getUuid=ne,m.getVerbosityLevel=$,m.info=w,m.isArrayBuffer=ot,m.isArrayEqual=Gt,m.isNodeJS=void 0,m.normalizeUnicode=Jt,m.objectFromMap=jt,m.objectSize=Nt,m.setVerbosityLevel=ht,m.shadow=g,m.string32=Lt,m.stringToBytes=Ct,m.stringToPDFString=Rt,m.stringToUTF8String=zt,m.unreachable=nt,m.utf8StringToString=Dt,m.warn=I;const at=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");m.isNodeJS=at;const l=[1,0,0,1,0,0];m.IDENTITY_MATRIX=l;const R=[.001,0,0,.001,0,0];m.FONT_IDENTITY_MATRIX=R;const rt=1e7;m.MAX_IMAGE_SIZE_TO_CACHE=rt;const Q=1.35;m.LINE_FACTOR=Q;const _t=.35;m.LINE_DESCENT_FACTOR=_t;const F=_t/Q;m.BASELINE_FACTOR=F;const A={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};m.RenderingIntentFlag=A;const x={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};m.AnnotationMode=x;const H="pdfjs_internal_editor_";m.AnnotationEditorPrefix=H;const G={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};m.AnnotationEditorType=G;const O={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};m.AnnotationEditorParamsType=O;const T={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};m.PermissionFlag=T;const N={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};m.TextRenderingMode=N;const C={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};m.ImageKind=C;const d={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};m.AnnotationType=d;const E={GROUP:"Group",REPLY:"R"};m.AnnotationReplyType=E;const U={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};m.AnnotationFlag=U;const k={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};m.AnnotationFieldFlag=k;const p={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};m.AnnotationBorderStyleType=p;const b={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};m.AnnotationActionEventType=b;const h={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};m.DocumentActionEventType=h;const y={O:"PageOpen",C:"PageClose"};m.PageActionEventType=y;const v={ERRORS:0,WARNINGS:1,INFOS:5};m.VerbosityLevel=v;const K={NONE:0,BINARY:1};m.CMapCompressionType=K;const f={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};m.OPS=f;const M={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};m.PasswordResponses=M;let Y=v.WARNINGS;function ht(Ot){Number.isInteger(Ot)&&(Y=Ot)}function $(){return Y}function w(Ot){Y>=v.INFOS&&console.log(`Info: ${Ot}`)}function I(Ot){Y>=v.WARNINGS&&console.log(`Warning: ${Ot}`)}function nt(Ot){throw new Error(Ot)}function j(Ot,ut){Ot||nt(ut)}function Z(Ot){switch(Ot==null?void 0:Ot.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function S(Ot,ut=null,bt=null){if(!Ot)return null;try{if(bt&&typeof Ot=="string"){if(bt.addDefaultProtocol&&Ot.startsWith("www.")){const me=Ot.match(/\./g);(me==null?void 0:me.length)>=2&&(Ot=`http://${Ot}`)}if(bt.tryConvertEncoding)try{Ot=zt(Ot)}catch{}}const Wt=ut?new URL(Ot,ut):new URL(Ot);if(Z(Wt))return Wt}catch{}return null}function g(Ot,ut,bt,Wt=!1){return Object.defineProperty(Ot,ut,{value:bt,enumerable:!Wt,configurable:!0,writable:!1}),bt}const o=(function(){function ut(bt,Wt){this.constructor===ut&&nt("Cannot initialize BaseException."),this.message=bt,this.name=Wt}return ut.prototype=new Error,ut.constructor=ut,ut})();m.BaseException=o;class c extends o{constructor(ut,bt){super(ut,"PasswordException"),this.code=bt}}m.PasswordException=c;class _ extends o{constructor(ut,bt){super(ut,"UnknownErrorException"),this.details=bt}}m.UnknownErrorException=_;class z extends o{constructor(ut){super(ut,"InvalidPDFException")}}m.InvalidPDFException=z;class B extends o{constructor(ut){super(ut,"MissingPDFException")}}m.MissingPDFException=B;class X extends o{constructor(ut,bt){super(ut,"UnexpectedResponseException"),this.status=bt}}m.UnexpectedResponseException=X;class tt extends o{constructor(ut){super(ut,"FormatError")}}m.FormatError=tt;class mt extends o{constructor(ut){super(ut,"AbortException")}}m.AbortException=mt;function Tt(Ot){(typeof Ot!="object"||(Ot==null?void 0:Ot.length)===void 0)&&nt("Invalid argument for bytesToString");const ut=Ot.length,bt=8192;if(ut<bt)return String.fromCharCode.apply(null,Ot);const Wt=[];for(let me=0;me<ut;me+=bt){const ue=Math.min(me+bt,ut),W=Ot.subarray(me,ue);Wt.push(String.fromCharCode.apply(null,W))}return Wt.join("")}function Ct(Ot){typeof Ot!="string"&&nt("Invalid argument for stringToBytes");const ut=Ot.length,bt=new Uint8Array(ut);for(let Wt=0;Wt<ut;++Wt)bt[Wt]=Ot.charCodeAt(Wt)&255;return bt}function Lt(Ot){return String.fromCharCode(Ot>>24&255,Ot>>16&255,Ot>>8&255,Ot&255)}function Nt(Ot){return Object.keys(Ot).length}function jt(Ot){const ut=Object.create(null);for(const[bt,Wt]of Ot)ut[bt]=Wt;return ut}function dt(){const Ot=new Uint8Array(4);return Ot[0]=1,new Uint32Array(Ot.buffer,0,1)[0]===1}function pt(){try{return new Function(""),!0}catch{return!1}}class L{static get isLittleEndian(){return g(this,"isLittleEndian",dt())}static get isEvalSupported(){return g(this,"isEvalSupported",pt())}static get isOffscreenCanvasSupported(){return g(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?g(this,"platform",{isWin:!1,isMac:!1}):g(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var ut,bt;return g(this,"isCSSRoundSupported",(bt=(ut=globalThis.CSS)==null?void 0:ut.supports)==null?void 0:bt.call(ut,"width: round(1.5px, 1px)"))}}m.FeatureTest=L;const V=[...Array(256).keys()].map(Ot=>Ot.toString(16).padStart(2,"0"));class lt{static makeHexColor(ut,bt,Wt){return`#${V[ut]}${V[bt]}${V[Wt]}`}static scaleMinMax(ut,bt){let Wt;ut[0]?(ut[0]<0&&(Wt=bt[0],bt[0]=bt[1],bt[1]=Wt),bt[0]*=ut[0],bt[1]*=ut[0],ut[3]<0&&(Wt=bt[2],bt[2]=bt[3],bt[3]=Wt),bt[2]*=ut[3],bt[3]*=ut[3]):(Wt=bt[0],bt[0]=bt[2],bt[2]=Wt,Wt=bt[1],bt[1]=bt[3],bt[3]=Wt,ut[1]<0&&(Wt=bt[2],bt[2]=bt[3],bt[3]=Wt),bt[2]*=ut[1],bt[3]*=ut[1],ut[2]<0&&(Wt=bt[0],bt[0]=bt[1],bt[1]=Wt),bt[0]*=ut[2],bt[1]*=ut[2]),bt[0]+=ut[4],bt[1]+=ut[4],bt[2]+=ut[5],bt[3]+=ut[5]}static transform(ut,bt){return[ut[0]*bt[0]+ut[2]*bt[1],ut[1]*bt[0]+ut[3]*bt[1],ut[0]*bt[2]+ut[2]*bt[3],ut[1]*bt[2]+ut[3]*bt[3],ut[0]*bt[4]+ut[2]*bt[5]+ut[4],ut[1]*bt[4]+ut[3]*bt[5]+ut[5]]}static applyTransform(ut,bt){const Wt=ut[0]*bt[0]+ut[1]*bt[2]+bt[4],me=ut[0]*bt[1]+ut[1]*bt[3]+bt[5];return[Wt,me]}static applyInverseTransform(ut,bt){const Wt=bt[0]*bt[3]-bt[1]*bt[2],me=(ut[0]*bt[3]-ut[1]*bt[2]+bt[2]*bt[5]-bt[4]*bt[3])/Wt,ue=(-ut[0]*bt[1]+ut[1]*bt[0]+bt[4]*bt[1]-bt[5]*bt[0])/Wt;return[me,ue]}static getAxialAlignedBoundingBox(ut,bt){const Wt=this.applyTransform(ut,bt),me=this.applyTransform(ut.slice(2,4),bt),ue=this.applyTransform([ut[0],ut[3]],bt),W=this.applyTransform([ut[2],ut[1]],bt);return[Math.min(Wt[0],me[0],ue[0],W[0]),Math.min(Wt[1],me[1],ue[1],W[1]),Math.max(Wt[0],me[0],ue[0],W[0]),Math.max(Wt[1],me[1],ue[1],W[1])]}static inverseTransform(ut){const bt=ut[0]*ut[3]-ut[1]*ut[2];return[ut[3]/bt,-ut[1]/bt,-ut[2]/bt,ut[0]/bt,(ut[2]*ut[5]-ut[4]*ut[3])/bt,(ut[4]*ut[1]-ut[5]*ut[0])/bt]}static singularValueDecompose2dScale(ut){const bt=[ut[0],ut[2],ut[1],ut[3]],Wt=ut[0]*bt[0]+ut[1]*bt[2],me=ut[0]*bt[1]+ut[1]*bt[3],ue=ut[2]*bt[0]+ut[3]*bt[2],W=ut[2]*bt[1]+ut[3]*bt[3],Mt=(Wt+W)/2,qt=Math.sqrt((Wt+W)**2-4*(Wt*W-ue*me))/2,Zt=Mt+qt||1,te=Mt-qt||1;return[Math.sqrt(Zt),Math.sqrt(te)]}static normalizeRect(ut){const bt=ut.slice(0);return ut[0]>ut[2]&&(bt[0]=ut[2],bt[2]=ut[0]),ut[1]>ut[3]&&(bt[1]=ut[3],bt[3]=ut[1]),bt}static intersect(ut,bt){const Wt=Math.max(Math.min(ut[0],ut[2]),Math.min(bt[0],bt[2])),me=Math.min(Math.max(ut[0],ut[2]),Math.max(bt[0],bt[2]));if(Wt>me)return null;const ue=Math.max(Math.min(ut[1],ut[3]),Math.min(bt[1],bt[3])),W=Math.min(Math.max(ut[1],ut[3]),Math.max(bt[1],bt[3]));return ue>W?null:[Wt,ue,me,W]}static bezierBoundingBox(ut,bt,Wt,me,ue,W,Mt,qt){const Zt=[],te=[[],[]];let Vt,q,P,et,At,St,Ft,Ut;for(let le=0;le<2;++le){if(le===0?(q=6*ut-12*Wt+6*ue,Vt=-3*ut+9*Wt-9*ue+3*Mt,P=3*Wt-3*ut):(q=6*bt-12*me+6*W,Vt=-3*bt+9*me-9*W+3*qt,P=3*me-3*bt),Math.abs(Vt)<1e-12){if(Math.abs(q)<1e-12)continue;et=-P/q,0<et&&et<1&&Zt.push(et);continue}Ft=q*q-4*P*Vt,Ut=Math.sqrt(Ft),!(Ft<0)&&(At=(-q+Ut)/(2*Vt),0<At&&At<1&&Zt.push(At),St=(-q-Ut)/(2*Vt),0<St&&St<1&&Zt.push(St))}let $t=Zt.length,Qt;const Xt=$t;for(;$t--;)et=Zt[$t],Qt=1-et,te[0][$t]=Qt*Qt*Qt*ut+3*Qt*Qt*et*Wt+3*Qt*et*et*ue+et*et*et*Mt,te[1][$t]=Qt*Qt*Qt*bt+3*Qt*Qt*et*me+3*Qt*et*et*W+et*et*et*qt;return te[0][Xt]=ut,te[1][Xt]=bt,te[0][Xt+1]=Mt,te[1][Xt+1]=qt,te[0].length=te[1].length=Xt+2,[Math.min(...te[0]),Math.min(...te[1]),Math.max(...te[0]),Math.max(...te[1])]}}m.Util=lt;const ft=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Rt(Ot){if(Ot[0]>=""){let bt;if(Ot[0]===""&&Ot[1]===""?bt="utf-16be":Ot[0]===""&&Ot[1]===""?bt="utf-16le":Ot[0]===""&&Ot[1]===""&&Ot[2]===""&&(bt="utf-8"),bt)try{const Wt=new TextDecoder(bt,{fatal:!0}),me=Ct(Ot);return Wt.decode(me)}catch(Wt){I(`stringToPDFString: "${Wt}".`)}}const ut=[];for(let bt=0,Wt=Ot.length;bt<Wt;bt++){const me=ft[Ot.charCodeAt(bt)];ut.push(me?String.fromCharCode(me):Ot.charAt(bt))}return ut.join("")}function zt(Ot){return decodeURIComponent(escape(Ot))}function Dt(Ot){return unescape(encodeURIComponent(Ot))}function ot(Ot){return typeof Ot=="object"&&(Ot==null?void 0:Ot.byteLength)!==void 0}function Gt(Ot,ut){if(Ot.length!==ut.length)return!1;for(let bt=0,Wt=Ot.length;bt<Wt;bt++)if(Ot[bt]!==ut[bt])return!1;return!0}function It(Ot=new Date){return[Ot.getUTCFullYear().toString(),(Ot.getUTCMonth()+1).toString().padStart(2,"0"),Ot.getUTCDate().toString().padStart(2,"0"),Ot.getUTCHours().toString().padStart(2,"0"),Ot.getUTCMinutes().toString().padStart(2,"0"),Ot.getUTCSeconds().toString().padStart(2,"0")].join("")}class re{constructor(){gt(this,de,!1);this.promise=new Promise((ut,bt)=>{this.resolve=Wt=>{yt(this,de,!0),ut(Wt)},this.reject=Wt=>{yt(this,de,!0),bt(Wt)}})}get settled(){return r(this,de)}}de=new WeakMap,m.PromiseCapability=re;let ae=null,pe=null;function Jt(Ot){return ae||(ae=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,pe=new Map([["","t"]])),Ot.replaceAll(ae,(ut,bt,Wt)=>bt?bt.normalize("NFKC"):pe.get(Wt))}function ne(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Ot=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Ot);else for(let ut=0;ut<32;ut++)Ot[ut]=Math.floor(Math.random()*255);return Tt(Ot)}const he="pdfjs_internal_id_";m.AnnotationPrefix=he}),((__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{var J,at,l,R,Ta,Pr,_t,F,A,x,H,G,O,T,N,Ur,d,E,lc,k,p;Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(h){if(typeof h=="string"||h instanceof URL?h={url:h}:(0,_util.isArrayBuffer)(h)&&(h={data:h}),typeof h!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!h.url&&!h.data&&!h.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const y=new PDFDocumentLoadingTask,{docId:v}=y,K=h.url?getUrlProp(h.url):null,f=h.data?getDataProp(h.data):null,M=h.httpHeaders||null,Y=h.withCredentials===!0,ht=h.password??null,$=h.range instanceof PDFDataRangeTransport?h.range:null,w=Number.isInteger(h.rangeChunkSize)&&h.rangeChunkSize>0?h.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let I=h.worker instanceof PDFWorker?h.worker:null;const nt=h.verbosity,j=typeof h.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(h.docBaseUrl)?h.docBaseUrl:null,Z=typeof h.cMapUrl=="string"?h.cMapUrl:null,S=h.cMapPacked!==!1,g=h.CMapReaderFactory||DefaultCMapReaderFactory,o=typeof h.standardFontDataUrl=="string"?h.standardFontDataUrl:null,c=h.StandardFontDataFactory||DefaultStandardFontDataFactory,_=h.stopAtErrors!==!0,z=Number.isInteger(h.maxImageSize)&&h.maxImageSize>-1?h.maxImageSize:-1,B=h.isEvalSupported!==!1,X=typeof h.isOffscreenCanvasSupported=="boolean"?h.isOffscreenCanvasSupported:!_util.isNodeJS,tt=Number.isInteger(h.canvasMaxAreaInBytes)?h.canvasMaxAreaInBytes:-1,mt=typeof h.disableFontFace=="boolean"?h.disableFontFace:_util.isNodeJS,Tt=h.fontExtraProperties===!0,Ct=h.enableXfa===!0,Lt=h.ownerDocument||globalThis.document,Nt=h.disableRange===!0,jt=h.disableStream===!0,dt=h.disableAutoFetch===!0,pt=h.pdfBug===!0,L=$?$.length:h.length??NaN,V=typeof h.useSystemFonts=="boolean"?h.useSystemFonts:!_util.isNodeJS&&!mt,lt=typeof h.useWorkerFetch=="boolean"?h.useWorkerFetch:g===_display_utils.DOMCMapReaderFactory&&c===_display_utils.DOMStandardFontDataFactory&&Z&&o&&(0,_display_utils.isValidFetchUrl)(Z,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(o,document.baseURI),ft=h.canvasFactory||new DefaultCanvasFactory({ownerDocument:Lt}),Rt=h.filterFactory||new DefaultFilterFactory({docId:v,ownerDocument:Lt}),zt=null;(0,_util.setVerbosityLevel)(nt);const Dt={canvasFactory:ft,filterFactory:Rt};if(lt||(Dt.cMapReaderFactory=new g({baseUrl:Z,isCompressed:S}),Dt.standardFontDataFactory=new c({baseUrl:o})),!I){const It={verbosity:nt,port:_worker_options.GlobalWorkerOptions.workerPort};I=It.port?PDFWorker.fromPort(It):new PDFWorker(It),y._worker=I}const ot={docId:v,apiVersion:"3.11.174",data:f,password:ht,disableAutoFetch:dt,rangeChunkSize:w,length:L,docBaseUrl:j,enableXfa:Ct,evaluatorOptions:{maxImageSize:z,disableFontFace:mt,ignoreErrors:_,isEvalSupported:B,isOffscreenCanvasSupported:X,canvasMaxAreaInBytes:tt,fontExtraProperties:Tt,useSystemFonts:V,cMapUrl:lt?Z:null,standardFontDataUrl:lt?o:null}},Gt={ignoreErrors:_,isEvalSupported:B,disableFontFace:mt,fontExtraProperties:Tt,enableXfa:Ct,ownerDocument:Lt,disableAutoFetch:dt,pdfBug:pt,styleElement:zt};return I.promise.then(function(){if(y.destroyed)throw new Error("Loading aborted");const It=_fetchDocument(I,ot),re=new Promise(function(ae){let pe;$?pe=new _transport_stream.PDFDataTransportStream({length:L,initialData:$.initialData,progressiveDone:$.progressiveDone,contentDispositionFilename:$.contentDispositionFilename,disableRange:Nt,disableStream:jt},$):f||(pe=(ne=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(ne):(0,_display_utils.isValidFetchUrl)(ne.url)?new _displayFetch_stream.PDFFetchStream(ne):new _displayNetwork.PDFNetworkStream(ne))({url:K,length:L,httpHeaders:M,withCredentials:Y,rangeChunkSize:w,disableRange:Nt,disableStream:jt})),ae(pe)});return Promise.all([It,re]).then(function([ae,pe]){if(y.destroyed)throw new Error("Loading aborted");const Jt=new _message_handler.MessageHandler(v,ae,I.port),ne=new WorkerTransport(Jt,y,pe,Gt,Dt);y._transport=ne,Jt.send("Ready",null)})}).catch(y._capability.reject),y}async function _fetchDocument(h,y){if(h.destroyed)throw new Error("Worker was destroyed");const v=await h.messageHandler.sendWithPromise("GetDocRequest",y,y.data?[y.data.buffer]:null);if(h.destroyed)throw new Error("Worker was destroyed");return v}function getUrlProp(h){if(h instanceof URL)return h.href;try{return new URL(h,window.location).href}catch{if(_util.isNodeJS&&typeof h=="string")return h}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(h){if(_util.isNodeJS&&typeof Buffer<"u"&&h instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(h instanceof Uint8Array&&h.byteLength===h.buffer.byteLength)return h;if(typeof h=="string")return(0,_util.stringToBytes)(h);if(typeof h=="object"&&!isNaN(h==null?void 0:h.length)||(0,_util.isArrayBuffer)(h))return new Uint8Array(h);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const m=class m{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${bs(m,J)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var y,v,K;this.destroyed=!0;try{(y=this._worker)!=null&&y.port&&(this._worker._pendingDestroy=!0),await((v=this._transport)==null?void 0:v.destroy())}catch(f){throw(K=this._worker)!=null&&K.port&&delete this._worker._pendingDestroy,f}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};J=new WeakMap,gt(m,J,0);let PDFDocumentLoadingTask=m;exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(y,v,K=!1,f=null){this.length=y,this.initialData=v,this.progressiveDone=K,this.contentDispositionFilename=f,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(y){this._rangeListeners.push(y)}addProgressListener(y){this._progressListeners.push(y)}addProgressiveReadListener(y){this._progressiveReadListeners.push(y)}addProgressiveDoneListener(y){this._progressiveDoneListeners.push(y)}onDataRange(y,v){for(const K of this._rangeListeners)K(y,v)}onDataProgress(y,v){this._readyCapability.promise.then(()=>{for(const K of this._progressListeners)K(y,v)})}onDataProgressiveRead(y){this._readyCapability.promise.then(()=>{for(const v of this._progressiveReadListeners)v(y)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const y of this._progressiveDoneListeners)y()})}transportReady(){this._readyCapability.resolve()}requestDataRange(y,v){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(y,v){this._pdfInfo=y,this._transport=v,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(K=>{if(!K)return K;const f=[];for(const M in K)f.push(...K[M]);return f}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(y){return this._transport.getPage(y)}getPageIndex(y){return this._transport.getPageIndex(y)}getDestinations(){return this._transport.getDestinations()}getDestination(y){return this._transport.getDestination(y)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(y=!1){return this._transport.startCleanup(y||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(y,v,K,f=!1){gt(this,R);gt(this,at,null);gt(this,l,!1);this._pageIndex=y,this._pageInfo=v,this._transport=K,this._stats=f?new _display_utils.StatTimer:null,this._pdfBug=f,this.commonObjs=K.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:y,rotation:v=this.rotate,offsetX:K=0,offsetY:f=0,dontFlip:M=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:y,rotation:v,offsetX:K,offsetY:f,dontFlip:M})}getAnnotations({intent:y="display"}={}){const v=this._transport.getRenderingIntent(y);return this._transport.getAnnotations(this._pageIndex,v.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var y;return((y=this._transport._htmlForXfa)==null?void 0:y.children[this._pageIndex])||null}render({canvasContext:y,viewport:v,intent:K="display",annotationMode:f=_util.AnnotationMode.ENABLE,transform:M=null,background:Y=null,optionalContentConfigPromise:ht=null,annotationCanvasMap:$=null,pageColors:w=null,printAnnotationStorage:I=null}){var c,_;(c=this._stats)==null||c.time("Overall");const nt=this._transport.getRenderingIntent(K,f,I);yt(this,l,!1),st(this,R,Pr).call(this),ht||(ht=this._transport.getOptionalContentConfig());let j=this._intentStates.get(nt.cacheKey);j||(j=Object.create(null),this._intentStates.set(nt.cacheKey,j)),j.streamReaderCancelTimeout&&(clearTimeout(j.streamReaderCancelTimeout),j.streamReaderCancelTimeout=null);const Z=!!(nt.renderingIntent&_util.RenderingIntentFlag.PRINT);j.displayReadyCapability||(j.displayReadyCapability=new _util.PromiseCapability,j.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_=this._stats)==null||_.time("Page Request"),this._pumpOperatorList(nt));const S=z=>{var B,X;j.renderTasks.delete(g),(this._maybeCleanupAfterRender||Z)&&yt(this,l,!0),st(this,R,Ta).call(this,!Z),z?(g.capability.reject(z),this._abortOperatorList({intentState:j,reason:z instanceof Error?z:new Error(z)})):g.capability.resolve(),(B=this._stats)==null||B.timeEnd("Rendering"),(X=this._stats)==null||X.timeEnd("Overall")},g=new InternalRenderTask({callback:S,params:{canvasContext:y,viewport:v,transform:M,background:Y},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:$,operatorList:j.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Z,pdfBug:this._pdfBug,pageColors:w});(j.renderTasks||(j.renderTasks=new Set)).add(g);const o=g.task;return Promise.all([j.displayReadyCapability.promise,ht]).then(([z,B])=>{var X;if(this.destroyed){S();return}(X=this._stats)==null||X.time("Rendering"),g.initializeGraphics({transparency:z,optionalContentConfig:B}),g.operatorListChanged()}).catch(S),o}getOperatorList({intent:y="display",annotationMode:v=_util.AnnotationMode.ENABLE,printAnnotationStorage:K=null}={}){var $;function f(){Y.operatorList.lastChunk&&(Y.opListReadCapability.resolve(Y.operatorList),Y.renderTasks.delete(ht))}const M=this._transport.getRenderingIntent(y,v,K,!0);let Y=this._intentStates.get(M.cacheKey);Y||(Y=Object.create(null),this._intentStates.set(M.cacheKey,Y));let ht;return Y.opListReadCapability||(ht=Object.create(null),ht.operatorListChanged=f,Y.opListReadCapability=new _util.PromiseCapability,(Y.renderTasks||(Y.renderTasks=new Set)).add(ht),Y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},($=this._stats)==null||$.time("Page Request"),this._pumpOperatorList(M)),Y.opListReadCapability.promise}streamTextContent({includeMarkedContent:y=!1,disableNormalization:v=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:y===!0,disableNormalization:v===!0},{highWaterMark:100,size(f){return f.items.length}})}getTextContent(y={}){if(this._transport._htmlForXfa)return this.getXfa().then(K=>_xfa_text.XfaText.textContent(K));const v=this.streamTextContent(y);return new Promise(function(K,f){function M(){Y.read().then(function({value:$,done:w}){if(w){K(ht);return}Object.assign(ht.styles,$.styles),ht.items.push(...$.items),M()},f)}const Y=v.getReader(),ht={items:[],styles:Object.create(null)};M()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const y=[];for(const v of this._intentStates.values())if(this._abortOperatorList({intentState:v,reason:new Error("Page was destroyed."),force:!0}),!v.opListReadCapability)for(const K of v.renderTasks)y.push(K.completed),K.cancel();return this.objs.clear(),yt(this,l,!1),st(this,R,Pr).call(this),Promise.all(y)}cleanup(y=!1){yt(this,l,!0);const v=st(this,R,Ta).call(this,!1);return y&&v&&this._stats&&(this._stats=new _display_utils.StatTimer),v}_startRenderPage(y,v){var f,M;const K=this._intentStates.get(v);K&&((f=this._stats)==null||f.timeEnd("Page Request"),(M=K.displayReadyCapability)==null||M.resolve(y))}_renderPageChunk(y,v){for(let K=0,f=y.length;K<f;K++)v.operatorList.fnArray.push(y.fnArray[K]),v.operatorList.argsArray.push(y.argsArray[K]);v.operatorList.lastChunk=y.lastChunk,v.operatorList.separateAnnots=y.separateAnnots;for(const K of v.renderTasks)K.operatorListChanged();y.lastChunk&&st(this,R,Ta).call(this,!0)}_pumpOperatorList({renderingIntent:y,cacheKey:v,annotationStorageSerializable:K}){const{map:f,transfers:M}=K,ht=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:y,cacheKey:v,annotationStorage:f},M).getReader(),$=this._intentStates.get(v);$.streamReader=ht;const w=()=>{ht.read().then(({value:I,done:nt})=>{if(nt){$.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(I,$),w())},I=>{if($.streamReader=null,!this._transport.destroyed){if($.operatorList){$.operatorList.lastChunk=!0;for(const nt of $.renderTasks)nt.operatorListChanged();st(this,R,Ta).call(this,!0)}if($.displayReadyCapability)$.displayReadyCapability.reject(I);else if($.opListReadCapability)$.opListReadCapability.reject(I);else throw I}})};w()}_abortOperatorList({intentState:y,reason:v,force:K=!1}){if(y.streamReader){if(y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null),!K){if(y.renderTasks.size>0)return;if(v instanceof _display_utils.RenderingCancelledException){let f=RENDERING_CANCELLED_TIMEOUT;v.extraDelay>0&&v.extraDelay<1e3&&(f+=v.extraDelay),y.streamReaderCancelTimeout=setTimeout(()=>{y.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:y,reason:v,force:!0})},f);return}}if(y.streamReader.cancel(new _util.AbortException(v.message)).catch(()=>{}),y.streamReader=null,!this._transport.destroyed){for(const[f,M]of this._intentStates)if(M===y){this._intentStates.delete(f);break}this.cleanup()}}}get stats(){return this._stats}}at=new WeakMap,l=new WeakMap,R=new WeakSet,Ta=function(y=!1){if(st(this,R,Pr).call(this),!r(this,l)||this.destroyed)return!1;if(y)return yt(this,at,setTimeout(()=>{yt(this,at,null),st(this,R,Ta).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:v,operatorList:K}of this._intentStates.values())if(v.size>0||!K.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),yt(this,l,!1),!0},Pr=function(){r(this,at)&&(clearTimeout(r(this,at)),yt(this,at,null))},exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){gt(this,_t,new Set);gt(this,F,Promise.resolve())}postMessage(y,v){const K={data:structuredClone(y,v?{transfer:v}:null)};r(this,F).then(()=>{for(const f of r(this,_t))f.call(this,K)})}addEventListener(y,v){r(this,_t).add(v)}removeEventListener(y,v){r(this,_t).delete(v)}terminate(){r(this,_t).clear()}}_t=new WeakMap,F=new WeakMap,exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const h=(A=document==null?void 0:document.currentScript)==null?void 0:A.src;h&&(PDFWorkerUtil.fallbackWorkerSrc=h.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(h,y){let v;try{if(v=new URL(h),!v.origin||v.origin==="null")return!1}catch{return!1}const K=new URL(y,v);return v.origin===K.origin},PDFWorkerUtil.createCDNWrapper=function(h){const y=`importScripts("${h}");`;return URL.createObjectURL(new Blob([y]))}}const _PDFWorker=class _PDFWorker{constructor({name:h=null,port:y=null,verbosity:v=(0,_util.getVerbosityLevel)()}={}){var K;if(this.name=h,this.destroyed=!1,this.verbosity=v,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,y){if((K=r(_PDFWorker,x))!=null&&K.has(y))throw new Error("Cannot use more than one PDFWorker per port.");(r(_PDFWorker,x)||yt(_PDFWorker,x,new WeakMap)).set(y,this),this._initializeFromPort(y);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(h){this._port=h,this._messageHandler=new _message_handler.MessageHandler("main","worker",h),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:h}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,h)||(h=PDFWorkerUtil.createCDNWrapper(new URL(h,window.location).href));const y=new Worker(h),v=new _message_handler.MessageHandler("main","worker",y),K=()=>{y.removeEventListener("error",f),v.destroy(),y.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},f=()=>{this._webWorker||K()};y.addEventListener("error",f),v.on("test",Y=>{if(y.removeEventListener("error",f),this.destroyed){K();return}Y?(this._messageHandler=v,this._port=y,this._webWorker=y,this._readyCapability.resolve(),v.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),v.destroy(),y.terminate())}),v.on("ready",Y=>{if(y.removeEventListener("error",f),this.destroyed){K();return}try{M()}catch{this._setupFakeWorker()}});const M=()=>{const Y=new Uint8Array;v.send("test",Y,[Y.buffer])};M();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(h=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const y=new LoopbackPort;this._port=y;const v=`fake${PDFWorkerUtil.fakeWorkerId++}`,K=new _message_handler.MessageHandler(v+"_worker",v,y);h.setup(K,y);const f=new _message_handler.MessageHandler(v,v+"_worker",y);this._messageHandler=f,this._readyCapability.resolve(),f.send("configure",{verbosity:this.verbosity})}).catch(h=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${h.message}".`))})}destroy(){var h;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(h=r(_PDFWorker,x))==null||h.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(h){var v;if(!(h!=null&&h.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const y=(v=r(this,x))==null?void 0:v.get(h.port);if(y){if(y._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return y}return new _PDFWorker(h)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var h;try{return((h=globalThis.pdfjsWorker)==null?void 0:h.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};x=new WeakMap,gt(_PDFWorker,x);let PDFWorker=_PDFWorker;exports$1.PDFWorker=PDFWorker;class WorkerTransport{constructor(y,v,K,f,M){gt(this,N);gt(this,H,new Map);gt(this,G,new Map);gt(this,O,new Map);gt(this,T,null);this.messageHandler=y,this.loadingTask=v,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:f.ownerDocument,styleElement:f.styleElement}),this._params=f,this.canvasFactory=M.canvasFactory,this.filterFactory=M.filterFactory,this.cMapReaderFactory=M.cMapReaderFactory,this.standardFontDataFactory=M.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=K,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(y,v=_util.AnnotationMode.ENABLE,K=null,f=!1){let M=_util.RenderingIntentFlag.DISPLAY,Y=_annotation_storage.SerializableEmpty;switch(y){case"any":M=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":M=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${y}`)}switch(v){case _util.AnnotationMode.DISABLE:M+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:M+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:M+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Y=(M&_util.RenderingIntentFlag.PRINT&&K instanceof _annotation_storage.PrintAnnotationStorage?K:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${v}`)}return f&&(M+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:M,cacheKey:`${M}_${Y.hash}`,annotationStorageSerializable:Y}}destroy(){var K;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(K=r(this,T))==null||K.reject(new Error("Worker was destroyed during onPassword callback"));const y=[];for(const f of r(this,G).values())y.push(f._destroy());r(this,G).clear(),r(this,O).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const v=this.messageHandler.sendWithPromise("Terminate",null);return y.push(v),Promise.all(y).then(()=>{var f;this.commonObjs.clear(),this.fontLoader.clear(),r(this,H).clear(),this.filterFactory.destroy(),(f=this._networkStream)==null||f.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:y,loadingTask:v}=this;y.on("GetReader",(K,f)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=M=>{this._lastProgress={loaded:M.loaded,total:M.total}},f.onPull=()=>{this._fullReader.read().then(function({value:M,done:Y}){if(Y){f.close();return}(0,_util.assert)(M instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),f.enqueue(new Uint8Array(M),1,[M])}).catch(M=>{f.error(M)})},f.onCancel=M=>{this._fullReader.cancel(M),f.ready.catch(Y=>{if(!this.destroyed)throw Y})}}),y.on("ReaderHeadersReady",K=>{const f=new _util.PromiseCapability,M=this._fullReader;return M.headersReady.then(()=>{var Y;(!M.isStreamingSupported||!M.isRangeSupported)&&(this._lastProgress&&((Y=v.onProgress)==null||Y.call(v,this._lastProgress)),M.onProgress=ht=>{var $;($=v.onProgress)==null||$.call(v,{loaded:ht.loaded,total:ht.total})}),f.resolve({isStreamingSupported:M.isStreamingSupported,isRangeSupported:M.isRangeSupported,contentLength:M.contentLength})},f.reject),f.promise}),y.on("GetRangeReader",(K,f)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const M=this._networkStream.getRangeReader(K.begin,K.end);if(!M){f.close();return}f.onPull=()=>{M.read().then(function({value:Y,done:ht}){if(ht){f.close();return}(0,_util.assert)(Y instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),f.enqueue(new Uint8Array(Y),1,[Y])}).catch(Y=>{f.error(Y)})},f.onCancel=Y=>{M.cancel(Y),f.ready.catch(ht=>{if(!this.destroyed)throw ht})}}),y.on("GetDoc",({pdfInfo:K})=>{this._numPages=K.numPages,this._htmlForXfa=K.htmlForXfa,delete K.htmlForXfa,v._capability.resolve(new PDFDocumentProxy(K,this))}),y.on("DocException",function(K){let f;switch(K.name){case"PasswordException":f=new _util.PasswordException(K.message,K.code);break;case"InvalidPDFException":f=new _util.InvalidPDFException(K.message);break;case"MissingPDFException":f=new _util.MissingPDFException(K.message);break;case"UnexpectedResponseException":f=new _util.UnexpectedResponseException(K.message,K.status);break;case"UnknownErrorException":f=new _util.UnknownErrorException(K.message,K.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}v._capability.reject(f)}),y.on("PasswordRequest",K=>{if(yt(this,T,new _util.PromiseCapability),v.onPassword){const f=M=>{M instanceof Error?r(this,T).reject(M):r(this,T).resolve({password:M})};try{v.onPassword(f,K.code)}catch(M){r(this,T).reject(M)}}else r(this,T).reject(new _util.PasswordException(K.message,K.code));return r(this,T).promise}),y.on("DataLoaded",K=>{var f;(f=v.onProgress)==null||f.call(v,{loaded:K.length,total:K.length}),this.downloadInfoCapability.resolve(K)}),y.on("StartRenderPage",K=>{if(this.destroyed)return;r(this,G).get(K.pageIndex)._startRenderPage(K.transparency,K.cacheKey)}),y.on("commonobj",([K,f,M])=>{var Y;if(!this.destroyed&&!this.commonObjs.has(K))switch(f){case"Font":const ht=this._params;if("error"in M){const I=M.error;(0,_util.warn)(`Error during font loading: ${I}`),this.commonObjs.resolve(K,I);break}const $=ht.pdfBug&&((Y=globalThis.FontInspector)!=null&&Y.enabled)?(I,nt)=>globalThis.FontInspector.fontAdded(I,nt):null,w=new _font_loader.FontFaceObject(M,{isEvalSupported:ht.isEvalSupported,disableFontFace:ht.disableFontFace,ignoreErrors:ht.ignoreErrors,inspectFont:$});this.fontLoader.bind(w).catch(I=>y.sendWithPromise("FontFallback",{id:K})).finally(()=>{!ht.fontExtraProperties&&w.data&&(w.data=null),this.commonObjs.resolve(K,w)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(K,M);break;default:throw new Error(`Got unknown common object type ${f}`)}}),y.on("obj",([K,f,M,Y])=>{var $;if(this.destroyed)return;const ht=r(this,G).get(f);if(!ht.objs.has(K))switch(M){case"Image":if(ht.objs.resolve(K,Y),Y){let w;if(Y.bitmap){const{width:I,height:nt}=Y;w=I*nt*4}else w=(($=Y.data)==null?void 0:$.length)||0;w>_util.MAX_IMAGE_SIZE_TO_CACHE&&(ht._maybeCleanupAfterRender=!0)}break;case"Pattern":ht.objs.resolve(K,Y);break;default:throw new Error(`Got unknown object type ${M}`)}}),y.on("DocProgress",K=>{var f;this.destroyed||(f=v.onProgress)==null||f.call(v,{loaded:K.loaded,total:K.total})}),y.on("FetchBuiltInCMap",K=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(K):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),y.on("FetchStandardFontData",K=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(K):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var K;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:y,transfers:v}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:y,filename:((K=this._fullReader)==null?void 0:K.filename)??null},v).finally(()=>{this.annotationStorage.resetModified()})}getPage(y){if(!Number.isInteger(y)||y<=0||y>this._numPages)return Promise.reject(new Error("Invalid page request."));const v=y-1,K=r(this,O).get(v);if(K)return K;const f=this.messageHandler.sendWithPromise("GetPage",{pageIndex:v}).then(M=>{if(this.destroyed)throw new Error("Transport destroyed");const Y=new PDFPageProxy(v,M,this,this._params.pdfBug);return r(this,G).set(v,Y),Y});return r(this,O).set(v,f),f}getPageIndex(y){return typeof y!="object"||y===null||!Number.isInteger(y.num)||y.num<0||!Number.isInteger(y.gen)||y.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:y.num,gen:y.gen})}getAnnotations(y,v){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:y,intent:v})}getFieldObjects(){return st(this,N,Ur).call(this,"GetFieldObjects")}hasJSActions(){return st(this,N,Ur).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(y){return typeof y!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:y})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return st(this,N,Ur).call(this,"GetDocJSActions")}getPageJSActions(y){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:y})}getStructTree(y){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:y})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(y=>new _optional_content_config.OptionalContentConfig(y))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const y="GetMetadata",v=r(this,H).get(y);if(v)return v;const K=this.messageHandler.sendWithPromise(y,null).then(f=>{var M,Y;return{info:f[0],metadata:f[1]?new _metadata.Metadata(f[1]):null,contentDispositionFilename:((M=this._fullReader)==null?void 0:M.filename)??null,contentLength:((Y=this._fullReader)==null?void 0:Y.contentLength)??null}});return r(this,H).set(y,K),K}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(y=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const v of r(this,G).values())if(!v.cleanup())throw new Error(`startCleanup: Page ${v.pageNumber} is currently rendering.`);this.commonObjs.clear(),y||this.fontLoader.clear(),r(this,H).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:y,enableXfa:v}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:y,enableXfa:v})}}H=new WeakMap,G=new WeakMap,O=new WeakMap,T=new WeakMap,N=new WeakSet,Ur=function(y,v=null){const K=r(this,H).get(y);if(K)return K;const f=this.messageHandler.sendWithPromise(y,v);return r(this,H).set(y,f),f};class PDFObjects{constructor(){gt(this,E);gt(this,d,Object.create(null))}get(y,v=null){if(v){const f=st(this,E,lc).call(this,y);return f.capability.promise.then(()=>v(f.data)),null}const K=r(this,d)[y];if(!(K!=null&&K.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${y}.`);return K.data}has(y){const v=r(this,d)[y];return(v==null?void 0:v.capability.settled)||!1}resolve(y,v=null){const K=st(this,E,lc).call(this,y);K.data=v,K.capability.resolve()}clear(){var y;for(const v in r(this,d)){const{data:K}=r(this,d)[v];(y=K==null?void 0:K.bitmap)==null||y.close()}yt(this,d,Object.create(null))}}d=new WeakMap,E=new WeakSet,lc=function(y){var v;return(v=r(this,d))[y]||(v[y]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(y){gt(this,k,null);yt(this,k,y),this.onContinue=null}get promise(){return r(this,k).capability.promise}cancel(y=0){r(this,k).cancel(null,y)}get separateAnnots(){const{separateAnnots:y}=r(this,k).operatorList;if(!y)return!1;const{annotationCanvasMap:v}=r(this,k);return y.form||y.canvas&&(v==null?void 0:v.size)>0}}k=new WeakMap,exports$1.RenderTask=RenderTask;const b=class b{constructor({callback:y,params:v,objs:K,commonObjs:f,annotationCanvasMap:M,operatorList:Y,pageIndex:ht,canvasFactory:$,filterFactory:w,useRequestAnimationFrame:I=!1,pdfBug:nt=!1,pageColors:j=null}){this.callback=y,this.params=v,this.objs=K,this.commonObjs=f,this.annotationCanvasMap=M,this.operatorListIdx=null,this.operatorList=Y,this._pageIndex=ht,this.canvasFactory=$,this.filterFactory=w,this._pdfBug=nt,this.pageColors=j,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=I===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=v.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:y=!1,optionalContentConfig:v}){var ht,$;if(this.cancelled)return;if(this._canvas){if(r(b,p).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");r(b,p).add(this._canvas)}this._pdfBug&&((ht=globalThis.StepperManager)!=null&&ht.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:K,viewport:f,transform:M,background:Y}=this.params;this.gfx=new _canvas.CanvasGraphics(K,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:v},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:M,viewport:f,transparency:y,background:Y}),this.operatorListIdx=0,this.graphicsReady=!0,($=this.graphicsReadyCallback)==null||$.call(this)}cancel(y=null,v=0){var K;this.running=!1,this.cancelled=!0,(K=this.gfx)==null||K.endDrawing(),r(b,p).delete(this._canvas),this.callback(y||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,v))}operatorListChanged(){var y;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(y=this.stepper)==null||y.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),r(b,p).delete(this._canvas),this.callback())))}};p=new WeakMap,gt(b,p,new WeakSet);let InternalRenderTask=b;const version="3.11.174";exports$1.version=version;const build="ce8716743";exports$1.build=build}),((J,m,at)=>{var A,x,H,kf,O;Object.defineProperty(m,"__esModule",{value:!0}),m.SerializableEmpty=m.PrintAnnotationStorage=m.AnnotationStorage=void 0;var l=at(1),R=at(4),rt=at(8);const Q=Object.freeze({map:null,hash:"",transfers:void 0});m.SerializableEmpty=Q;class _t{constructor(){gt(this,H);gt(this,A,!1);gt(this,x,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(N,C){const d=r(this,x).get(N);return d===void 0?C:Object.assign(C,d)}getRawValue(N){return r(this,x).get(N)}remove(N){if(r(this,x).delete(N),r(this,x).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const C of r(this,x).values())if(C instanceof R.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(N,C){const d=r(this,x).get(N);let E=!1;if(d!==void 0)for(const[U,k]of Object.entries(C))d[U]!==k&&(E=!0,d[U]=k);else E=!0,r(this,x).set(N,C);E&&st(this,H,kf).call(this),C instanceof R.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(C.constructor._type)}has(N){return r(this,x).has(N)}getAll(){return r(this,x).size>0?(0,l.objectFromMap)(r(this,x)):null}setAll(N){for(const[C,d]of Object.entries(N))this.setValue(C,d)}get size(){return r(this,x).size}resetModified(){r(this,A)&&(yt(this,A,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new F(this)}get serializable(){if(r(this,x).size===0)return Q;const N=new Map,C=new rt.MurmurHash3_64,d=[],E=Object.create(null);let U=!1;for(const[k,p]of r(this,x)){const b=p instanceof R.AnnotationEditor?p.serialize(!1,E):p;b&&(N.set(k,b),C.update(`${k}:${JSON.stringify(b)}`),U||(U=!!b.bitmap))}if(U)for(const k of N.values())k.bitmap&&d.push(k.bitmap);return N.size>0?{map:N,hash:C.hexdigest(),transfers:d}:Q}}A=new WeakMap,x=new WeakMap,H=new WeakSet,kf=function(){r(this,A)||(yt(this,A,!0),typeof this.onSetModified=="function"&&this.onSetModified())},m.AnnotationStorage=_t;class F extends _t{constructor(C){super();gt(this,O);const{map:d,hash:E,transfers:U}=C.serializable,k=structuredClone(d,U?{transfer:U}:null);yt(this,O,{map:k,hash:E,transfers:U})}get print(){(0,l.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return r(this,O)}}O=new WeakMap,m.PrintAnnotationStorage=F}),((J,m,at)=>{var F,A,x,H,G,O,T,N,C,d,E,U,k,p,b,oc,cc,v,uc,hc,Lf,Nf,Ff,dc,jf;Object.defineProperty(m,"__esModule",{value:!0}),m.AnnotationEditor=void 0;var l=at(5),R=at(1),rt=at(6);const I=class I{constructor(j){gt(this,b);gt(this,F,"");gt(this,A,!1);gt(this,x,null);gt(this,H,null);gt(this,G,null);gt(this,O,!1);gt(this,T,null);gt(this,N,this.focusin.bind(this));gt(this,C,this.focusout.bind(this));gt(this,d,!1);gt(this,E,!1);gt(this,U,!1);De(this,"_initialOptions",Object.create(null));De(this,"_uiManager",null);De(this,"_focusEventsAllowed",!0);De(this,"_l10nPromise",null);gt(this,k,!1);gt(this,p,I._zIndex++);this.constructor===I&&(0,R.unreachable)("Cannot initialize AnnotationEditor."),this.parent=j.parent,this.id=j.id,this.width=this.height=null,this.pageIndex=j.parent.pageIndex,this.name=j.name,this.div=null,this._uiManager=j.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=j.isCentered,this._structTreeParentId=null;const{rotation:Z,rawDims:{pageWidth:S,pageHeight:g,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=Z,this.pageRotation=(360+Z-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[S,g],this.pageTranslation=[o,c];const[_,z]=this.parentDimensions;this.x=j.x/_,this.y=j.y/z,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,R.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(j){const Z=new _t({id:j.parent.getNextId(),parent:j.parent,uiManager:j._uiManager});Z.annotationElementId=j.annotationElementId,Z.deleted=!0,Z._uiManager.addToAnnotationStorage(Z)}static initialize(j,Z=null){if(I._l10nPromise||(I._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(g=>[g,j.get(g)]))),Z!=null&&Z.strings)for(const g of Z.strings)I._l10nPromise.set(g,j.get(g));if(I._borderLineWidth!==-1)return;const S=getComputedStyle(document.documentElement);I._borderLineWidth=parseFloat(S.getPropertyValue("--outline-width"))||0}static updateDefaultParams(j,Z){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(j){return!1}static paste(j,Z){(0,R.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return r(this,k)}set _isDraggable(j){var Z;yt(this,k,j),(Z=this.div)==null||Z.classList.toggle("draggable",j)}center(){const[j,Z]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Z/(j*2),this.y+=this.width*j/(Z*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Z/(j*2),this.y-=this.width*j/(Z*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(j){this._uiManager.addCommands(j)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=r(this,p)}setParent(j){j!==null&&(this.pageIndex=j.pageIndex,this.pageDimensions=j.pageDimensions),this.parent=j}focusin(j){this._focusEventsAllowed&&(r(this,d)?yt(this,d,!1):this.parent.setSelected(this))}focusout(j){var S;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Z=j.relatedTarget;Z!=null&&Z.closest(`#${this.id}`)||(j.preventDefault(),(S=this.parent)!=null&&S.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(j,Z,S,g){const[o,c]=this.parentDimensions;[S,g]=this.screenToPageTranslation(S,g),this.x=(j+S)/o,this.y=(Z+g)/c,this.fixAndSetPosition()}translate(j,Z){st(this,b,oc).call(this,this.parentDimensions,j,Z)}translateInPage(j,Z){st(this,b,oc).call(this,this.pageDimensions,j,Z),this.div.scrollIntoView({block:"nearest"})}drag(j,Z){const[S,g]=this.parentDimensions;if(this.x+=j/S,this.y+=Z/g,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:B,y:X}=this.div.getBoundingClientRect();this.parent.findNewParent(this,B,X)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[_,z]=st(this,b,cc).call(this);o+=_,c+=z,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[j,Z]=this.pageDimensions;let{x:S,y:g,width:o,height:c}=this;switch(o*=j,c*=Z,S*=j,g*=Z,this.rotation){case 0:S=Math.max(0,Math.min(j-o,S)),g=Math.max(0,Math.min(Z-c,g));break;case 90:S=Math.max(0,Math.min(j-c,S)),g=Math.min(Z,Math.max(o,g));break;case 180:S=Math.min(j,Math.max(o,S)),g=Math.min(Z,Math.max(c,g));break;case 270:S=Math.min(j,Math.max(c,S)),g=Math.max(0,Math.min(Z-o,g));break}this.x=S/=j,this.y=g/=Z;const[_,z]=st(this,b,cc).call(this);S+=_,g+=z;const{style:B}=this.div;B.left=`${(100*S).toFixed(2)}%`,B.top=`${(100*g).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(j,Z){var S;return st(S=I,v,uc).call(S,j,Z,this.parentRotation)}pageTranslationToScreen(j,Z){var S;return st(S=I,v,uc).call(S,j,Z,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:j,pageDimensions:[Z,S]}=this,g=Z*j,o=S*j;return R.FeatureTest.isCSSRoundSupported?[Math.round(g),Math.round(o)]:[g,o]}setDims(j,Z){var o;const[S,g]=this.parentDimensions;this.div.style.width=`${(100*j/S).toFixed(2)}%`,r(this,O)||(this.div.style.height=`${(100*Z/g).toFixed(2)}%`),(o=r(this,x))==null||o.classList.toggle("small",j<I.SMALL_EDITOR_SIZE||Z<I.SMALL_EDITOR_SIZE)}fixDims(){const{style:j}=this.div,{height:Z,width:S}=j,g=S.endsWith("%"),o=!r(this,O)&&Z.endsWith("%");if(g&&o)return;const[c,_]=this.parentDimensions;g||(j.width=`${(100*parseFloat(S)/c).toFixed(2)}%`),!r(this,O)&&!o&&(j.height=`${(100*parseFloat(Z)/_).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(r(this,x))return;const j=yt(this,x,document.createElement("button"));j.className="altText";const Z=await I._l10nPromise.get("editor_alt_text_button_label");j.textContent=Z,j.setAttribute("aria-label",Z),j.tabIndex="0",j.addEventListener("contextmenu",rt.noContextMenu),j.addEventListener("pointerdown",S=>S.stopPropagation()),j.addEventListener("click",S=>{S.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),j.addEventListener("keydown",S=>{S.target===j&&S.key==="Enter"&&(S.preventDefault(),this._uiManager.editAltText(this))}),st(this,b,dc).call(this),this.div.append(j),I.SMALL_EDITOR_SIZE||(I.SMALL_EDITOR_SIZE=Math.min(128,Math.round(j.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:r(this,F),decorative:r(this,A)}}set altTextData({altText:j,decorative:Z}){r(this,F)===j&&r(this,A)===Z||(yt(this,F,j),yt(this,A,Z),st(this,b,dc).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",r(this,N)),this.div.addEventListener("focusout",r(this,C));const[j,Z]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Z/j).toFixed(2)}%`,this.div.style.maxHeight=`${(100*j/Z).toFixed(2)}%`);const[S,g]=this.getInitialTranslation();return this.translate(S,g),(0,l.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(j){const{isMac:Z}=R.FeatureTest.platform;if(j.button!==0||j.ctrlKey&&Z){j.preventDefault();return}yt(this,d,!0),st(this,b,jf).call(this,j)}moveInDOM(){var j;(j=this.parent)==null||j.moveEditorInDOM(this)}_setParentAndPosition(j,Z,S){j.changeParent(this),this.x=Z,this.y=S,this.fixAndSetPosition()}getRect(j,Z){const S=this.parentScale,[g,o]=this.pageDimensions,[c,_]=this.pageTranslation,z=j/S,B=Z/S,X=this.x*g,tt=this.y*o,mt=this.width*g,Tt=this.height*o;switch(this.rotation){case 0:return[X+z+c,o-tt-B-Tt+_,X+z+mt+c,o-tt-B+_];case 90:return[X+B+c,o-tt+z+_,X+B+Tt+c,o-tt+z+mt+_];case 180:return[X-z-mt+c,o-tt+B+_,X-z+c,o-tt+B+Tt+_];case 270:return[X-B-Tt+c,o-tt-z-mt+_,X-B+c,o-tt-z+_];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(j,Z){const[S,g,o,c]=j,_=o-S,z=c-g;switch(this.rotation){case 0:return[S,Z-c,_,z];case 90:return[S,Z-g,z,_];case 180:return[o,Z-g,_,z];case 270:return[o,Z-c,z,_];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){yt(this,U,!0)}disableEditMode(){yt(this,U,!1)}isInEditMode(){return r(this,U)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var j,Z;(j=this.div)==null||j.addEventListener("focusin",r(this,N)),(Z=this.div)==null||Z.addEventListener("focusout",r(this,C))}serialize(j=!1,Z=null){(0,R.unreachable)("An editor must be serializable")}static deserialize(j,Z,S){const g=new this.prototype.constructor({parent:Z,id:Z.getNextId(),uiManager:S});g.rotation=j.rotation;const[o,c]=g.pageDimensions,[_,z,B,X]=g.getRectInCurrentCoords(j.rect,c);return g.x=_/o,g.y=z/c,g.width=B/o,g.height=X/c,g}remove(){var j;this.div.removeEventListener("focusin",r(this,N)),this.div.removeEventListener("focusout",r(this,C)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(j=r(this,x))==null||j.remove(),yt(this,x,null),yt(this,H,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(st(this,b,Lf).call(this),r(this,T).classList.remove("hidden"))}select(){var j;this.makeResizable(),(j=this.div)==null||j.classList.add("selectedEditor")}unselect(){var j,Z,S;(j=r(this,T))==null||j.classList.add("hidden"),(Z=this.div)==null||Z.classList.remove("selectedEditor"),(S=this.div)!=null&&S.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(j,Z){}disableEditing(){r(this,x)&&(r(this,x).hidden=!0)}enableEditing(){r(this,x)&&(r(this,x).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return r(this,E)}set isEditing(j){yt(this,E,j),this.parent&&(j?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(j,Z){yt(this,O,!0);const S=j/Z,{style:g}=this.div;g.aspectRatio=S,g.height="auto"}static get MIN_SIZE(){return 16}};F=new WeakMap,A=new WeakMap,x=new WeakMap,H=new WeakMap,G=new WeakMap,O=new WeakMap,T=new WeakMap,N=new WeakMap,C=new WeakMap,d=new WeakMap,E=new WeakMap,U=new WeakMap,k=new WeakMap,p=new WeakMap,b=new WeakSet,oc=function([j,Z],S,g){[S,g]=this.screenToPageTranslation(S,g),this.x+=S/j,this.y+=g/Z,this.fixAndSetPosition()},cc=function(){const[j,Z]=this.parentDimensions,{_borderLineWidth:S}=I,g=S/j,o=S/Z;switch(this.rotation){case 90:return[-g,o];case 180:return[g,o];case 270:return[g,-o];default:return[-g,-o]}},v=new WeakSet,uc=function(j,Z,S){switch(S){case 90:return[Z,-j];case 180:return[-j,-Z];case 270:return[-Z,j];default:return[j,Z]}},hc=function(j){switch(j){case 90:{const[Z,S]=this.pageDimensions;return[0,-Z/S,S/Z,0]}case 180:return[-1,0,0,-1];case 270:{const[Z,S]=this.pageDimensions;return[0,Z/S,-S/Z,0]}default:return[1,0,0,1]}},Lf=function(){if(r(this,T))return;yt(this,T,document.createElement("div")),r(this,T).classList.add("resizers");const j=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||j.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Z of j){const S=document.createElement("div");r(this,T).append(S),S.classList.add("resizer",Z),S.addEventListener("pointerdown",st(this,b,Nf).bind(this,Z)),S.addEventListener("contextmenu",rt.noContextMenu)}this.div.prepend(r(this,T))},Nf=function(j,Z){Z.preventDefault();const{isMac:S}=R.FeatureTest.platform;if(Z.button!==0||Z.ctrlKey&&S)return;const g=st(this,b,Ff).bind(this,j),o=this._isDraggable;this._isDraggable=!1;const c={passive:!0,capture:!0};window.addEventListener("pointermove",g,c);const _=this.x,z=this.y,B=this.width,X=this.height,tt=this.parent.div.style.cursor,mt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Z.target).cursor;const Tt=()=>{this._isDraggable=o,window.removeEventListener("pointerup",Tt),window.removeEventListener("blur",Tt),window.removeEventListener("pointermove",g,c),this.parent.div.style.cursor=tt,this.div.style.cursor=mt;const Ct=this.x,Lt=this.y,Nt=this.width,jt=this.height;Ct===_&&Lt===z&&Nt===B&&jt===X||this.addCommands({cmd:()=>{this.width=Nt,this.height=jt,this.x=Ct,this.y=Lt;const[dt,pt]=this.parentDimensions;this.setDims(dt*Nt,pt*jt),this.fixAndSetPosition()},undo:()=>{this.width=B,this.height=X,this.x=_,this.y=z;const[dt,pt]=this.parentDimensions;this.setDims(dt*B,pt*X),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Tt),window.addEventListener("blur",Tt)},Ff=function(j,Z){const[S,g]=this.parentDimensions,o=this.x,c=this.y,_=this.width,z=this.height,B=I.MIN_SIZE/S,X=I.MIN_SIZE/g,tt=Jt=>Math.round(Jt*1e4)/1e4,mt=st(this,b,hc).call(this,this.rotation),Tt=(Jt,ne)=>[mt[0]*Jt+mt[2]*ne,mt[1]*Jt+mt[3]*ne],Ct=st(this,b,hc).call(this,360-this.rotation),Lt=(Jt,ne)=>[Ct[0]*Jt+Ct[2]*ne,Ct[1]*Jt+Ct[3]*ne];let Nt,jt,dt=!1,pt=!1;switch(j){case"topLeft":dt=!0,Nt=(Jt,ne)=>[0,0],jt=(Jt,ne)=>[Jt,ne];break;case"topMiddle":Nt=(Jt,ne)=>[Jt/2,0],jt=(Jt,ne)=>[Jt/2,ne];break;case"topRight":dt=!0,Nt=(Jt,ne)=>[Jt,0],jt=(Jt,ne)=>[0,ne];break;case"middleRight":pt=!0,Nt=(Jt,ne)=>[Jt,ne/2],jt=(Jt,ne)=>[0,ne/2];break;case"bottomRight":dt=!0,Nt=(Jt,ne)=>[Jt,ne],jt=(Jt,ne)=>[0,0];break;case"bottomMiddle":Nt=(Jt,ne)=>[Jt/2,ne],jt=(Jt,ne)=>[Jt/2,0];break;case"bottomLeft":dt=!0,Nt=(Jt,ne)=>[0,ne],jt=(Jt,ne)=>[Jt,0];break;case"middleLeft":pt=!0,Nt=(Jt,ne)=>[0,ne/2],jt=(Jt,ne)=>[Jt,ne/2];break}const L=Nt(_,z),V=jt(_,z);let lt=Tt(...V);const ft=tt(o+lt[0]),Rt=tt(c+lt[1]);let zt=1,Dt=1,[ot,Gt]=this.screenToPageTranslation(Z.movementX,Z.movementY);if([ot,Gt]=Lt(ot/S,Gt/g),dt){const Jt=Math.hypot(_,z);zt=Dt=Math.max(Math.min(Math.hypot(V[0]-L[0]-ot,V[1]-L[1]-Gt)/Jt,1/_,1/z),B/_,X/z)}else pt?zt=Math.max(B,Math.min(1,Math.abs(V[0]-L[0]-ot)))/_:Dt=Math.max(X,Math.min(1,Math.abs(V[1]-L[1]-Gt)))/z;const It=tt(_*zt),re=tt(z*Dt);lt=Tt(...jt(It,re));const ae=ft-lt[0],pe=Rt-lt[1];this.width=It,this.height=re,this.x=ae,this.y=pe,this.setDims(S*It,g*re),this.fixAndSetPosition()},dc=async function(){var S;const j=r(this,x);if(!j)return;if(!r(this,F)&&!r(this,A)){j.classList.remove("done"),(S=r(this,H))==null||S.remove();return}I._l10nPromise.get("editor_alt_text_edit_button_label").then(g=>{j.setAttribute("aria-label",g)});let Z=r(this,H);if(!Z){yt(this,H,Z=document.createElement("span")),Z.className="tooltip",Z.setAttribute("role","tooltip");const g=Z.id=`alt-text-tooltip-${this.id}`;j.setAttribute("aria-describedby",g);const o=100;j.addEventListener("mouseenter",()=>{yt(this,G,setTimeout(()=>{yt(this,G,null),r(this,H).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},o))}),j.addEventListener("mouseleave",()=>{var c;clearTimeout(r(this,G)),yt(this,G,null),(c=r(this,H))==null||c.classList.remove("show")})}j.classList.add("done"),Z.innerText=r(this,A)?await I._l10nPromise.get("editor_alt_text_decorative_tooltip"):r(this,F),Z.parentNode||j.append(Z)},jf=function(j){if(!this._isDraggable)return;const Z=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let S,g;Z&&(S={passive:!0,capture:!0},g=c=>{const[_,z]=this.screenToPageTranslation(c.movementX,c.movementY);this._uiManager.dragSelectedEditors(_,z)},window.addEventListener("pointermove",g,S));const o=()=>{if(window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),Z&&window.removeEventListener("pointermove",g,S),yt(this,d,!1),!this._uiManager.endDragSession()){const{isMac:c}=R.FeatureTest.platform;j.ctrlKey&&!c||j.shiftKey||j.metaKey&&c?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",o),window.addEventListener("blur",o)},gt(I,v),De(I,"_borderLineWidth",-1),De(I,"_colorManager",new l.ColorManager),De(I,"_zIndex",1),De(I,"SMALL_EDITOR_SIZE",0);let Q=I;m.AnnotationEditor=Q;class _t extends Q{constructor(j){super(j),this.annotationElementId=j.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((J,m,at)=>{var O,T,N,C,d,fc,k,p,b,h,y,zf,f,M,Y,ht,$,w,I,nt,j,Z,S,g,o,c,_,z,B,X,tt,mt,Tt,Ct,Lt,Nt,jt,dt,pt,L,V,lt,ft,Rt,zt,Dt,ot,Pf,pc,mc,Br,gc,yc,wn,vs,Uf,Bf,bc,_s,vc;Object.defineProperty(m,"__esModule",{value:!0}),m.KeyboardManager=m.CommandManager=m.ColorManager=m.AnnotationEditorUIManager=void 0,m.bindEvents=rt,m.opacityToHex=Q;var l=at(1),R=at(6);function rt(ue,W,Mt){for(const qt of Mt)W.addEventListener(qt,ue[qt].bind(ue))}function Q(ue){return Math.round(Math.min(255,Math.max(1,255*ue))).toString(16).padStart(2,"0")}class _t{constructor(){gt(this,O,0)}getId(){return`${l.AnnotationEditorPrefix}${bs(this,O)._++}`}}O=new WeakMap;const U=class U{constructor(){gt(this,d);gt(this,T,(0,l.getUuid)());gt(this,N,0);gt(this,C,null)}static get _isSVGFittingCanvas(){const W='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',qt=new OffscreenCanvas(1,3).getContext("2d"),Zt=new Image;Zt.src=W;const te=Zt.decode().then(()=>(qt.drawImage(Zt,0,0,1,1,0,0,1,3),new Uint32Array(qt.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,l.shadow)(this,"_isSVGFittingCanvas",te)}async getFromFile(W){const{lastModified:Mt,name:qt,size:Zt,type:te}=W;return st(this,d,fc).call(this,`${Mt}_${qt}_${Zt}_${te}`,W)}async getFromUrl(W){return st(this,d,fc).call(this,W,W)}async getFromId(W){r(this,C)||yt(this,C,new Map);const Mt=r(this,C).get(W);return Mt?Mt.bitmap?(Mt.refCounter+=1,Mt):Mt.file?this.getFromFile(Mt.file):this.getFromUrl(Mt.url):null}getSvgUrl(W){const Mt=r(this,C).get(W);return Mt!=null&&Mt.isSvg?Mt.svgUrl:null}deleteId(W){r(this,C)||yt(this,C,new Map);const Mt=r(this,C).get(W);Mt&&(Mt.refCounter-=1,Mt.refCounter===0&&(Mt.bitmap=null))}isValidId(W){return W.startsWith(`image_${r(this,T)}_`)}};T=new WeakMap,N=new WeakMap,C=new WeakMap,d=new WeakSet,fc=async function(W,Mt){r(this,C)||yt(this,C,new Map);let qt=r(this,C).get(W);if(qt===null)return null;if(qt!=null&&qt.bitmap)return qt.refCounter+=1,qt;try{qt||(qt={bitmap:null,id:`image_${r(this,T)}_${bs(this,N)._++}`,refCounter:0,isSvg:!1});let Zt;if(typeof Mt=="string"){qt.url=Mt;const te=await fetch(Mt);if(!te.ok)throw new Error(te.statusText);Zt=await te.blob()}else Zt=qt.file=Mt;if(Zt.type==="image/svg+xml"){const te=U._isSVGFittingCanvas,Vt=new FileReader,q=new Image,P=new Promise((et,At)=>{q.onload=()=>{qt.bitmap=q,qt.isSvg=!0,et()},Vt.onload=async()=>{const St=qt.svgUrl=Vt.result;q.src=await te?`${St}#svgView(preserveAspectRatio(none))`:St},q.onerror=Vt.onerror=At});Vt.readAsDataURL(Zt),await P}else qt.bitmap=await createImageBitmap(Zt);qt.refCounter=1}catch(Zt){console.error(Zt),qt=null}return r(this,C).set(W,qt),qt&&r(this,C).set(qt.id,qt),qt};let F=U;class A{constructor(W=128){gt(this,k,[]);gt(this,p,!1);gt(this,b);gt(this,h,-1);yt(this,b,W)}add({cmd:W,undo:Mt,mustExec:qt,type:Zt=NaN,overwriteIfSameType:te=!1,keepUndo:Vt=!1}){if(qt&&W(),r(this,p))return;const q={cmd:W,undo:Mt,type:Zt};if(r(this,h)===-1){r(this,k).length>0&&(r(this,k).length=0),yt(this,h,0),r(this,k).push(q);return}if(te&&r(this,k)[r(this,h)].type===Zt){Vt&&(q.undo=r(this,k)[r(this,h)].undo),r(this,k)[r(this,h)]=q;return}const P=r(this,h)+1;P===r(this,b)?r(this,k).splice(0,1):(yt(this,h,P),P<r(this,k).length&&r(this,k).splice(P)),r(this,k).push(q)}undo(){r(this,h)!==-1&&(yt(this,p,!0),r(this,k)[r(this,h)].undo(),yt(this,p,!1),yt(this,h,r(this,h)-1))}redo(){r(this,h)<r(this,k).length-1&&(yt(this,h,r(this,h)+1),yt(this,p,!0),r(this,k)[r(this,h)].cmd(),yt(this,p,!1))}hasSomethingToUndo(){return r(this,h)!==-1}hasSomethingToRedo(){return r(this,h)<r(this,k).length-1}destroy(){yt(this,k,null)}}k=new WeakMap,p=new WeakMap,b=new WeakMap,h=new WeakMap,m.CommandManager=A;class x{constructor(W){gt(this,y);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Mt}=l.FeatureTest.platform;for(const[qt,Zt,te={}]of W)for(const Vt of qt){const q=Vt.startsWith("mac+");Mt&&q?(this.callbacks.set(Vt.slice(4),{callback:Zt,options:te}),this.allKeys.add(Vt.split("+").at(-1))):!Mt&&!q&&(this.callbacks.set(Vt,{callback:Zt,options:te}),this.allKeys.add(Vt.split("+").at(-1)))}}exec(W,Mt){if(!this.allKeys.has(Mt.key))return;const qt=this.callbacks.get(st(this,y,zf).call(this,Mt));if(!qt)return;const{callback:Zt,options:{bubbles:te=!1,args:Vt=[],checker:q=null}}=qt;q&&!q(W,Mt)||(Zt.bind(W,...Vt)(),te||(Mt.stopPropagation(),Mt.preventDefault()))}}y=new WeakSet,zf=function(W){W.altKey&&this.buffer.push("alt"),W.ctrlKey&&this.buffer.push("ctrl"),W.metaKey&&this.buffer.push("meta"),W.shiftKey&&this.buffer.push("shift"),this.buffer.push(W.key);const Mt=this.buffer.join("+");return this.buffer.length=0,Mt},m.KeyboardManager=x;const K=class K{get _colors(){const W=new Map([["CanvasText",null],["Canvas",null]]);return(0,R.getColorValues)(W),(0,l.shadow)(this,"_colors",W)}convert(W){const Mt=(0,R.getRGB)(W);if(!window.matchMedia("(forced-colors: active)").matches)return Mt;for(const[qt,Zt]of this._colors)if(Zt.every((te,Vt)=>te===Mt[Vt]))return K._colorsMapping.get(qt);return Mt}getHexCode(W){const Mt=this._colors.get(W);return Mt?l.Util.makeHexColor(...Mt):W}};De(K,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let H=K;m.ColorManager=H;const me=class me{constructor(W,Mt,qt,Zt,te,Vt){gt(this,ot);gt(this,f,null);gt(this,M,new Map);gt(this,Y,new Map);gt(this,ht,null);gt(this,$,null);gt(this,w,new A);gt(this,I,0);gt(this,nt,new Set);gt(this,j,null);gt(this,Z,null);gt(this,S,new Set);gt(this,g,null);gt(this,o,new _t);gt(this,c,!1);gt(this,_,!1);gt(this,z,null);gt(this,B,l.AnnotationEditorType.NONE);gt(this,X,new Set);gt(this,tt,null);gt(this,mt,this.blur.bind(this));gt(this,Tt,this.focus.bind(this));gt(this,Ct,this.copy.bind(this));gt(this,Lt,this.cut.bind(this));gt(this,Nt,this.paste.bind(this));gt(this,jt,this.keydown.bind(this));gt(this,dt,this.onEditingAction.bind(this));gt(this,pt,this.onPageChanging.bind(this));gt(this,L,this.onScaleChanging.bind(this));gt(this,V,this.onRotationChanging.bind(this));gt(this,lt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});gt(this,ft,[0,0]);gt(this,Rt,null);gt(this,zt,null);gt(this,Dt,null);yt(this,zt,W),yt(this,Dt,Mt),yt(this,ht,qt),this._eventBus=Zt,this._eventBus._on("editingaction",r(this,dt)),this._eventBus._on("pagechanging",r(this,pt)),this._eventBus._on("scalechanging",r(this,L)),this._eventBus._on("rotationchanging",r(this,V)),yt(this,$,te.annotationStorage),yt(this,g,te.filterFactory),yt(this,tt,Vt),this.viewParameters={realScale:R.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const W=me.prototype,Mt=te=>{const{activeElement:Vt}=document;return Vt&&r(te,zt).contains(Vt)&&te.hasSomethingToControl()},qt=this.TRANSLATE_SMALL,Zt=this.TRANSLATE_BIG;return(0,l.shadow)(this,"_keyboardManager",new x([[["ctrl+a","mac+meta+a"],W.selectAll],[["ctrl+z","mac+meta+z"],W.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],W.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],W.delete],[["Escape","mac+Escape"],W.unselectAll],[["ArrowLeft","mac+ArrowLeft"],W.translateSelectedEditors,{args:[-qt,0],checker:Mt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],W.translateSelectedEditors,{args:[-Zt,0],checker:Mt}],[["ArrowRight","mac+ArrowRight"],W.translateSelectedEditors,{args:[qt,0],checker:Mt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],W.translateSelectedEditors,{args:[Zt,0],checker:Mt}],[["ArrowUp","mac+ArrowUp"],W.translateSelectedEditors,{args:[0,-qt],checker:Mt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],W.translateSelectedEditors,{args:[0,-Zt],checker:Mt}],[["ArrowDown","mac+ArrowDown"],W.translateSelectedEditors,{args:[0,qt],checker:Mt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],W.translateSelectedEditors,{args:[0,Zt],checker:Mt}]]))}destroy(){st(this,ot,Br).call(this),st(this,ot,pc).call(this),this._eventBus._off("editingaction",r(this,dt)),this._eventBus._off("pagechanging",r(this,pt)),this._eventBus._off("scalechanging",r(this,L)),this._eventBus._off("rotationchanging",r(this,V));for(const W of r(this,Y).values())W.destroy();r(this,Y).clear(),r(this,M).clear(),r(this,S).clear(),yt(this,f,null),r(this,X).clear(),r(this,w).destroy(),r(this,ht).destroy()}get hcmFilter(){return(0,l.shadow)(this,"hcmFilter",r(this,tt)?r(this,g).addHCMFilter(r(this,tt).foreground,r(this,tt).background):"none")}get direction(){return(0,l.shadow)(this,"direction",getComputedStyle(r(this,zt)).direction)}editAltText(W){var Mt;(Mt=r(this,ht))==null||Mt.editAltText(this,W)}onPageChanging({pageNumber:W}){yt(this,I,W-1)}focusMainContainer(){r(this,zt).focus()}findParent(W,Mt){for(const qt of r(this,Y).values()){const{x:Zt,y:te,width:Vt,height:q}=qt.div.getBoundingClientRect();if(W>=Zt&&W<=Zt+Vt&&Mt>=te&&Mt<=te+q)return qt}return null}disableUserSelect(W=!1){r(this,Dt).classList.toggle("noUserSelect",W)}addShouldRescale(W){r(this,S).add(W)}removeShouldRescale(W){r(this,S).delete(W)}onScaleChanging({scale:W}){this.commitOrRemove(),this.viewParameters.realScale=W*R.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Mt of r(this,S))Mt.onScaleChanging()}onRotationChanging({pagesRotation:W}){this.commitOrRemove(),this.viewParameters.rotation=W}addToAnnotationStorage(W){!W.isEmpty()&&r(this,$)&&!r(this,$).has(W.id)&&r(this,$).setValue(W.id,W)}blur(){if(!this.hasSelection)return;const{activeElement:W}=document;for(const Mt of r(this,X))if(Mt.div.contains(W)){yt(this,z,[Mt,W]),Mt._focusEventsAllowed=!1;break}}focus(){if(!r(this,z))return;const[W,Mt]=r(this,z);yt(this,z,null),Mt.addEventListener("focusin",()=>{W._focusEventsAllowed=!0},{once:!0}),Mt.focus()}addEditListeners(){st(this,ot,mc).call(this),st(this,ot,gc).call(this)}removeEditListeners(){st(this,ot,Br).call(this),st(this,ot,yc).call(this)}copy(W){var qt;if(W.preventDefault(),(qt=r(this,f))==null||qt.commitOrRemove(),!this.hasSelection)return;const Mt=[];for(const Zt of r(this,X)){const te=Zt.serialize(!0);te&&Mt.push(te)}Mt.length!==0&&W.clipboardData.setData("application/pdfjs",JSON.stringify(Mt))}cut(W){this.copy(W),this.delete()}paste(W){W.preventDefault();const{clipboardData:Mt}=W;for(const te of Mt.items)for(const Vt of r(this,Z))if(Vt.isHandlingMimeForPasting(te.type)){Vt.paste(te,this.currentLayer);return}let qt=Mt.getData("application/pdfjs");if(!qt)return;try{qt=JSON.parse(qt)}catch(te){(0,l.warn)(`paste: "${te.message}".`);return}if(!Array.isArray(qt))return;this.unselectAll();const Zt=this.currentLayer;try{const te=[];for(const P of qt){const et=Zt.deserialize(P);if(!et)return;te.push(et)}const Vt=()=>{for(const P of te)st(this,ot,bc).call(this,P);st(this,ot,vc).call(this,te)},q=()=>{for(const P of te)P.remove()};this.addCommands({cmd:Vt,undo:q,mustExec:!0})}catch(te){(0,l.warn)(`paste: "${te.message}".`)}}keydown(W){var Mt;(Mt=this.getActive())!=null&&Mt.shouldGetKeyboardEvents()||me._keyboardManager.exec(this,W)}onEditingAction(W){["undo","redo","delete","selectAll"].includes(W.name)&&this[W.name]()}setEditingState(W){W?(st(this,ot,Pf).call(this),st(this,ot,mc).call(this),st(this,ot,gc).call(this),st(this,ot,wn).call(this,{isEditing:r(this,B)!==l.AnnotationEditorType.NONE,isEmpty:st(this,ot,_s).call(this),hasSomethingToUndo:r(this,w).hasSomethingToUndo(),hasSomethingToRedo:r(this,w).hasSomethingToRedo(),hasSelectedEditor:!1})):(st(this,ot,pc).call(this),st(this,ot,Br).call(this),st(this,ot,yc).call(this),st(this,ot,wn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(W){if(!r(this,Z)){yt(this,Z,W);for(const Mt of r(this,Z))st(this,ot,vs).call(this,Mt.defaultPropertiesToUpdate)}}getId(){return r(this,o).getId()}get currentLayer(){return r(this,Y).get(r(this,I))}getLayer(W){return r(this,Y).get(W)}get currentPageIndex(){return r(this,I)}addLayer(W){r(this,Y).set(W.pageIndex,W),r(this,c)?W.enable():W.disable()}removeLayer(W){r(this,Y).delete(W.pageIndex)}updateMode(W,Mt=null){if(r(this,B)!==W){if(yt(this,B,W),W===l.AnnotationEditorType.NONE){this.setEditingState(!1),st(this,ot,Bf).call(this);return}this.setEditingState(!0),st(this,ot,Uf).call(this),this.unselectAll();for(const qt of r(this,Y).values())qt.updateMode(W);if(Mt){for(const qt of r(this,M).values())if(qt.annotationElementId===Mt){this.setSelected(qt),qt.enterInEditMode();break}}}}updateToolbar(W){W!==r(this,B)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:W})}updateParams(W,Mt){if(r(this,Z)){if(W===l.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(W);return}for(const qt of r(this,X))qt.updateParams(W,Mt);for(const qt of r(this,Z))qt.updateDefaultParams(W,Mt)}}enableWaiting(W=!1){if(r(this,_)!==W){yt(this,_,W);for(const Mt of r(this,Y).values())W?Mt.disableClick():Mt.enableClick(),Mt.div.classList.toggle("waiting",W)}}getEditors(W){const Mt=[];for(const qt of r(this,M).values())qt.pageIndex===W&&Mt.push(qt);return Mt}getEditor(W){return r(this,M).get(W)}addEditor(W){r(this,M).set(W.id,W)}removeEditor(W){var Mt;r(this,M).delete(W.id),this.unselect(W),(!W.annotationElementId||!r(this,nt).has(W.annotationElementId))&&((Mt=r(this,$))==null||Mt.remove(W.id))}addDeletedAnnotationElement(W){r(this,nt).add(W.annotationElementId),W.deleted=!0}isDeletedAnnotationElement(W){return r(this,nt).has(W)}removeDeletedAnnotationElement(W){r(this,nt).delete(W.annotationElementId),W.deleted=!1}setActiveEditor(W){r(this,f)!==W&&(yt(this,f,W),W&&st(this,ot,vs).call(this,W.propertiesToUpdate))}toggleSelected(W){if(r(this,X).has(W)){r(this,X).delete(W),W.unselect(),st(this,ot,wn).call(this,{hasSelectedEditor:this.hasSelection});return}r(this,X).add(W),W.select(),st(this,ot,vs).call(this,W.propertiesToUpdate),st(this,ot,wn).call(this,{hasSelectedEditor:!0})}setSelected(W){for(const Mt of r(this,X))Mt!==W&&Mt.unselect();r(this,X).clear(),r(this,X).add(W),W.select(),st(this,ot,vs).call(this,W.propertiesToUpdate),st(this,ot,wn).call(this,{hasSelectedEditor:!0})}isSelected(W){return r(this,X).has(W)}unselect(W){W.unselect(),r(this,X).delete(W),st(this,ot,wn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return r(this,X).size!==0}undo(){r(this,w).undo(),st(this,ot,wn).call(this,{hasSomethingToUndo:r(this,w).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:st(this,ot,_s).call(this)})}redo(){r(this,w).redo(),st(this,ot,wn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:r(this,w).hasSomethingToRedo(),isEmpty:st(this,ot,_s).call(this)})}addCommands(W){r(this,w).add(W),st(this,ot,wn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:st(this,ot,_s).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const W=[...r(this,X)],Mt=()=>{for(const Zt of W)Zt.remove()},qt=()=>{for(const Zt of W)st(this,ot,bc).call(this,Zt)};this.addCommands({cmd:Mt,undo:qt,mustExec:!0})}commitOrRemove(){var W;(W=r(this,f))==null||W.commitOrRemove()}hasSomethingToControl(){return r(this,f)||this.hasSelection}selectAll(){for(const W of r(this,X))W.commit();st(this,ot,vc).call(this,r(this,M).values())}unselectAll(){if(r(this,f)){r(this,f).commitOrRemove();return}if(this.hasSelection){for(const W of r(this,X))W.unselect();r(this,X).clear(),st(this,ot,wn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(W,Mt,qt=!1){if(qt||this.commitOrRemove(),!this.hasSelection)return;r(this,ft)[0]+=W,r(this,ft)[1]+=Mt;const[Zt,te]=r(this,ft),Vt=[...r(this,X)],q=1e3;r(this,Rt)&&clearTimeout(r(this,Rt)),yt(this,Rt,setTimeout(()=>{yt(this,Rt,null),r(this,ft)[0]=r(this,ft)[1]=0,this.addCommands({cmd:()=>{for(const P of Vt)r(this,M).has(P.id)&&P.translateInPage(Zt,te)},undo:()=>{for(const P of Vt)r(this,M).has(P.id)&&P.translateInPage(-Zt,-te)},mustExec:!1})},q));for(const P of Vt)P.translateInPage(W,Mt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),yt(this,j,new Map);for(const W of r(this,X))r(this,j).set(W,{savedX:W.x,savedY:W.y,savedPageIndex:W.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!r(this,j))return!1;this.disableUserSelect(!1);const W=r(this,j);yt(this,j,null);let Mt=!1;for(const[{x:Zt,y:te,pageIndex:Vt},q]of W)q.newX=Zt,q.newY=te,q.newPageIndex=Vt,Mt||(Mt=Zt!==q.savedX||te!==q.savedY||Vt!==q.savedPageIndex);if(!Mt)return!1;const qt=(Zt,te,Vt,q)=>{if(r(this,M).has(Zt.id)){const P=r(this,Y).get(q);P?Zt._setParentAndPosition(P,te,Vt):(Zt.pageIndex=q,Zt.x=te,Zt.y=Vt)}};return this.addCommands({cmd:()=>{for(const[Zt,{newX:te,newY:Vt,newPageIndex:q}]of W)qt(Zt,te,Vt,q)},undo:()=>{for(const[Zt,{savedX:te,savedY:Vt,savedPageIndex:q}]of W)qt(Zt,te,Vt,q)},mustExec:!0}),!0}dragSelectedEditors(W,Mt){if(r(this,j))for(const qt of r(this,j).keys())qt.drag(W,Mt)}rebuild(W){if(W.parent===null){const Mt=this.getLayer(W.pageIndex);Mt?(Mt.changeParent(W),Mt.addOrRebuild(W)):(this.addEditor(W),this.addToAnnotationStorage(W),W.rebuild())}else W.parent.addOrRebuild(W)}isActive(W){return r(this,f)===W}getActive(){return r(this,f)}getMode(){return r(this,B)}get imageManager(){return(0,l.shadow)(this,"imageManager",new F)}};f=new WeakMap,M=new WeakMap,Y=new WeakMap,ht=new WeakMap,$=new WeakMap,w=new WeakMap,I=new WeakMap,nt=new WeakMap,j=new WeakMap,Z=new WeakMap,S=new WeakMap,g=new WeakMap,o=new WeakMap,c=new WeakMap,_=new WeakMap,z=new WeakMap,B=new WeakMap,X=new WeakMap,tt=new WeakMap,mt=new WeakMap,Tt=new WeakMap,Ct=new WeakMap,Lt=new WeakMap,Nt=new WeakMap,jt=new WeakMap,dt=new WeakMap,pt=new WeakMap,L=new WeakMap,V=new WeakMap,lt=new WeakMap,ft=new WeakMap,Rt=new WeakMap,zt=new WeakMap,Dt=new WeakMap,ot=new WeakSet,Pf=function(){window.addEventListener("focus",r(this,Tt)),window.addEventListener("blur",r(this,mt))},pc=function(){window.removeEventListener("focus",r(this,Tt)),window.removeEventListener("blur",r(this,mt))},mc=function(){window.addEventListener("keydown",r(this,jt),{capture:!0})},Br=function(){window.removeEventListener("keydown",r(this,jt),{capture:!0})},gc=function(){document.addEventListener("copy",r(this,Ct)),document.addEventListener("cut",r(this,Lt)),document.addEventListener("paste",r(this,Nt))},yc=function(){document.removeEventListener("copy",r(this,Ct)),document.removeEventListener("cut",r(this,Lt)),document.removeEventListener("paste",r(this,Nt))},wn=function(W){Object.entries(W).some(([qt,Zt])=>r(this,lt)[qt]!==Zt)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(r(this,lt),W)})},vs=function(W){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:W})},Uf=function(){if(!r(this,c)){yt(this,c,!0);for(const W of r(this,Y).values())W.enable()}},Bf=function(){if(this.unselectAll(),r(this,c)){yt(this,c,!1);for(const W of r(this,Y).values())W.disable()}},bc=function(W){const Mt=r(this,Y).get(W.pageIndex);Mt?Mt.addOrRebuild(W):this.addEditor(W)},_s=function(){if(r(this,M).size===0)return!0;if(r(this,M).size===1)for(const W of r(this,M).values())return W.isEmpty();return!1},vc=function(W){r(this,X).clear();for(const Mt of W)Mt.isEmpty()||(r(this,X).add(Mt),Mt.select());st(this,ot,wn).call(this,{hasSelectedEditor:!0})},De(me,"TRANSLATE_SMALL",1),De(me,"TRANSLATE_BIG",10);let G=me;m.AnnotationEditorUIManager=G}),((J,m,at)=>{var I,nt,j,Z,S,g,o,c,_,z,B,X,Ca,Ra,_c,Hr,Ir,As,Ss;Object.defineProperty(m,"__esModule",{value:!0}),m.StatTimer=m.RenderingCancelledException=m.PixelsPerInch=m.PageViewport=m.PDFDateString=m.DOMStandardFontDataFactory=m.DOMSVGFactory=m.DOMFilterFactory=m.DOMCanvasFactory=m.DOMCMapReaderFactory=void 0,m.deprecated=h,m.getColorValues=M,m.getCurrentTransform=Y,m.getCurrentTransformInverse=ht,m.getFilenameFromUrl=d,m.getPdfFilenameFromUrl=E,m.getRGB=f,m.getXfaPageViewport=K,m.isDataScheme=N,m.isPdfFile=C,m.isValidFetchUrl=k,m.loadScript=b,m.noContextMenu=p,m.setLayerDimensions=$;var l=at(7),R=at(1);const rt="http://www.w3.org/2000/svg",w=class w{};De(w,"CSS",96),De(w,"PDF",72),De(w,"PDF_TO_CSS_UNITS",w.CSS/w.PDF);let Q=w;m.PixelsPerInch=Q;class _t extends l.BaseFilterFactory{constructor({docId:L,ownerDocument:V=globalThis.document}={}){super();gt(this,X);gt(this,I);gt(this,nt);gt(this,j);gt(this,Z);gt(this,S);gt(this,g);gt(this,o);gt(this,c);gt(this,_);gt(this,z);gt(this,B,0);yt(this,j,L),yt(this,Z,V)}addFilter(L){if(!L)return"none";let V=r(this,X,Ca).get(L);if(V)return V;let lt,ft,Rt,zt;if(L.length===1){const It=L[0],re=new Array(256);for(let ae=0;ae<256;ae++)re[ae]=It[ae]/255;zt=lt=ft=Rt=re.join(",")}else{const[It,re,ae]=L,pe=new Array(256),Jt=new Array(256),ne=new Array(256);for(let he=0;he<256;he++)pe[he]=It[he]/255,Jt[he]=re[he]/255,ne[he]=ae[he]/255;lt=pe.join(","),ft=Jt.join(","),Rt=ne.join(","),zt=`${lt}${ft}${Rt}`}if(V=r(this,X,Ca).get(zt),V)return r(this,X,Ca).set(L,V),V;const Dt=`g_${r(this,j)}_transfer_map_${bs(this,B)._++}`,ot=`url(#${Dt})`;r(this,X,Ca).set(L,ot),r(this,X,Ca).set(zt,ot);const Gt=st(this,X,Hr).call(this,Dt);return st(this,X,As).call(this,lt,ft,Rt,Gt),ot}addHCMFilter(L,V){var re;const lt=`${L}-${V}`;if(r(this,g)===lt)return r(this,o);if(yt(this,g,lt),yt(this,o,"none"),(re=r(this,S))==null||re.remove(),!L||!V)return r(this,o);const ft=st(this,X,Ss).call(this,L);L=R.Util.makeHexColor(...ft);const Rt=st(this,X,Ss).call(this,V);if(V=R.Util.makeHexColor(...Rt),r(this,X,Ra).style.color="",L==="#000000"&&V==="#ffffff"||L===V)return r(this,o);const zt=new Array(256);for(let ae=0;ae<=255;ae++){const pe=ae/255;zt[ae]=pe<=.03928?pe/12.92:((pe+.055)/1.055)**2.4}const Dt=zt.join(","),ot=`g_${r(this,j)}_hcm_filter`,Gt=yt(this,c,st(this,X,Hr).call(this,ot));st(this,X,As).call(this,Dt,Dt,Dt,Gt),st(this,X,_c).call(this,Gt);const It=(ae,pe)=>{const Jt=ft[ae]/255,ne=Rt[ae]/255,he=new Array(pe+1);for(let de=0;de<=pe;de++)he[de]=Jt+de/pe*(ne-Jt);return he.join(",")};return st(this,X,As).call(this,It(0,5),It(1,5),It(2,5),Gt),yt(this,o,`url(#${ot})`),r(this,o)}addHighlightHCMFilter(L,V,lt,ft){var ne;const Rt=`${L}-${V}-${lt}-${ft}`;if(r(this,_)===Rt)return r(this,z);if(yt(this,_,Rt),yt(this,z,"none"),(ne=r(this,c))==null||ne.remove(),!L||!V)return r(this,z);const[zt,Dt]=[L,V].map(st(this,X,Ss).bind(this));let ot=Math.round(.2126*zt[0]+.7152*zt[1]+.0722*zt[2]),Gt=Math.round(.2126*Dt[0]+.7152*Dt[1]+.0722*Dt[2]),[It,re]=[lt,ft].map(st(this,X,Ss).bind(this));Gt<ot&&([ot,Gt,It,re]=[Gt,ot,re,It]),r(this,X,Ra).style.color="";const ae=(he,de,Ot)=>{const ut=new Array(256),bt=(Gt-ot)/Ot,Wt=he/255,me=(de-he)/(255*Ot);let ue=0;for(let W=0;W<=Ot;W++){const Mt=Math.round(ot+W*bt),qt=Wt+W*me;for(let Zt=ue;Zt<=Mt;Zt++)ut[Zt]=qt;ue=Mt+1}for(let W=ue;W<256;W++)ut[W]=ut[ue-1];return ut.join(",")},pe=`g_${r(this,j)}_hcm_highlight_filter`,Jt=yt(this,c,st(this,X,Hr).call(this,pe));return st(this,X,_c).call(this,Jt),st(this,X,As).call(this,ae(It[0],re[0],5),ae(It[1],re[1],5),ae(It[2],re[2],5),Jt),yt(this,z,`url(#${pe})`),r(this,z)}destroy(L=!1){L&&(r(this,o)||r(this,z))||(r(this,nt)&&(r(this,nt).parentNode.parentNode.remove(),yt(this,nt,null)),r(this,I)&&(r(this,I).clear(),yt(this,I,null)),yt(this,B,0))}}I=new WeakMap,nt=new WeakMap,j=new WeakMap,Z=new WeakMap,S=new WeakMap,g=new WeakMap,o=new WeakMap,c=new WeakMap,_=new WeakMap,z=new WeakMap,B=new WeakMap,X=new WeakSet,Ca=function(){return r(this,I)||yt(this,I,new Map)},Ra=function(){if(!r(this,nt)){const L=r(this,Z).createElement("div"),{style:V}=L;V.visibility="hidden",V.contain="strict",V.width=V.height=0,V.position="absolute",V.top=V.left=0,V.zIndex=-1;const lt=r(this,Z).createElementNS(rt,"svg");lt.setAttribute("width",0),lt.setAttribute("height",0),yt(this,nt,r(this,Z).createElementNS(rt,"defs")),L.append(lt),lt.append(r(this,nt)),r(this,Z).body.append(L)}return r(this,nt)},_c=function(L){const V=r(this,Z).createElementNS(rt,"feColorMatrix");V.setAttribute("type","matrix"),V.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),L.append(V)},Hr=function(L){const V=r(this,Z).createElementNS(rt,"filter");return V.setAttribute("color-interpolation-filters","sRGB"),V.setAttribute("id",L),r(this,X,Ra).append(V),V},Ir=function(L,V,lt){const ft=r(this,Z).createElementNS(rt,V);ft.setAttribute("type","discrete"),ft.setAttribute("tableValues",lt),L.append(ft)},As=function(L,V,lt,ft){const Rt=r(this,Z).createElementNS(rt,"feComponentTransfer");ft.append(Rt),st(this,X,Ir).call(this,Rt,"feFuncR",L),st(this,X,Ir).call(this,Rt,"feFuncG",V),st(this,X,Ir).call(this,Rt,"feFuncB",lt)},Ss=function(L){return r(this,X,Ra).style.color=L,f(getComputedStyle(r(this,X,Ra)).getPropertyValue("color"))},m.DOMFilterFactory=_t;class F extends l.BaseCanvasFactory{constructor({ownerDocument:pt=globalThis.document}={}){super(),this._document=pt}_createCanvas(pt,L){const V=this._document.createElement("canvas");return V.width=pt,V.height=L,V}}m.DOMCanvasFactory=F;async function A(dt,pt=!1){if(k(dt,document.baseURI)){const L=await fetch(dt);if(!L.ok)throw new Error(L.statusText);return pt?new Uint8Array(await L.arrayBuffer()):(0,R.stringToBytes)(await L.text())}return new Promise((L,V)=>{const lt=new XMLHttpRequest;lt.open("GET",dt,!0),pt&&(lt.responseType="arraybuffer"),lt.onreadystatechange=()=>{if(lt.readyState===XMLHttpRequest.DONE){if(lt.status===200||lt.status===0){let ft;if(pt&&lt.response?ft=new Uint8Array(lt.response):!pt&&lt.responseText&&(ft=(0,R.stringToBytes)(lt.responseText)),ft){L(ft);return}}V(new Error(lt.statusText))}},lt.send(null)})}class x extends l.BaseCMapReaderFactory{_fetchData(pt,L){return A(pt,this.isCompressed).then(V=>({cMapData:V,compressionType:L}))}}m.DOMCMapReaderFactory=x;class H extends l.BaseStandardFontDataFactory{_fetchData(pt){return A(pt,!0)}}m.DOMStandardFontDataFactory=H;class G extends l.BaseSVGFactory{_createSVG(pt){return document.createElementNS(rt,pt)}}m.DOMSVGFactory=G;class O{constructor({viewBox:pt,scale:L,rotation:V,offsetX:lt=0,offsetY:ft=0,dontFlip:Rt=!1}){this.viewBox=pt,this.scale=L,this.rotation=V,this.offsetX=lt,this.offsetY=ft;const zt=(pt[2]+pt[0])/2,Dt=(pt[3]+pt[1])/2;let ot,Gt,It,re;switch(V%=360,V<0&&(V+=360),V){case 180:ot=-1,Gt=0,It=0,re=1;break;case 90:ot=0,Gt=1,It=1,re=0;break;case 270:ot=0,Gt=-1,It=-1,re=0;break;case 0:ot=1,Gt=0,It=0,re=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Rt&&(It=-It,re=-re);let ae,pe,Jt,ne;ot===0?(ae=Math.abs(Dt-pt[1])*L+lt,pe=Math.abs(zt-pt[0])*L+ft,Jt=(pt[3]-pt[1])*L,ne=(pt[2]-pt[0])*L):(ae=Math.abs(zt-pt[0])*L+lt,pe=Math.abs(Dt-pt[1])*L+ft,Jt=(pt[2]-pt[0])*L,ne=(pt[3]-pt[1])*L),this.transform=[ot*L,Gt*L,It*L,re*L,ae-ot*L*zt-It*L*Dt,pe-Gt*L*zt-re*L*Dt],this.width=Jt,this.height=ne}get rawDims(){const{viewBox:pt}=this;return(0,R.shadow)(this,"rawDims",{pageWidth:pt[2]-pt[0],pageHeight:pt[3]-pt[1],pageX:pt[0],pageY:pt[1]})}clone({scale:pt=this.scale,rotation:L=this.rotation,offsetX:V=this.offsetX,offsetY:lt=this.offsetY,dontFlip:ft=!1}={}){return new O({viewBox:this.viewBox.slice(),scale:pt,rotation:L,offsetX:V,offsetY:lt,dontFlip:ft})}convertToViewportPoint(pt,L){return R.Util.applyTransform([pt,L],this.transform)}convertToViewportRectangle(pt){const L=R.Util.applyTransform([pt[0],pt[1]],this.transform),V=R.Util.applyTransform([pt[2],pt[3]],this.transform);return[L[0],L[1],V[0],V[1]]}convertToPdfPoint(pt,L){return R.Util.applyInverseTransform([pt,L],this.transform)}}m.PageViewport=O;class T extends R.BaseException{constructor(pt,L=0){super(pt,"RenderingCancelledException"),this.extraDelay=L}}m.RenderingCancelledException=T;function N(dt){const pt=dt.length;let L=0;for(;L<pt&&dt[L].trim()==="";)L++;return dt.substring(L,L+5).toLowerCase()==="data:"}function C(dt){return typeof dt=="string"&&/\.pdf$/i.test(dt)}function d(dt,pt=!1){return pt||([dt]=dt.split(/[#?]/,1)),dt.substring(dt.lastIndexOf("/")+1)}function E(dt,pt="document.pdf"){if(typeof dt!="string")return pt;if(N(dt))return(0,R.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),pt;const L=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,V=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,lt=L.exec(dt);let ft=V.exec(lt[1])||V.exec(lt[2])||V.exec(lt[3]);if(ft&&(ft=ft[0],ft.includes("%")))try{ft=V.exec(decodeURIComponent(ft))[0]}catch{}return ft||pt}class U{constructor(){De(this,"started",Object.create(null));De(this,"times",[])}time(pt){pt in this.started&&(0,R.warn)(`Timer is already running for ${pt}`),this.started[pt]=Date.now()}timeEnd(pt){pt in this.started||(0,R.warn)(`Timer has not been started for ${pt}`),this.times.push({name:pt,start:this.started[pt],end:Date.now()}),delete this.started[pt]}toString(){const pt=[];let L=0;for(const{name:V}of this.times)L=Math.max(V.length,L);for(const{name:V,start:lt,end:ft}of this.times)pt.push(`${V.padEnd(L)} ${ft-lt}ms
`);return pt.join("")}}m.StatTimer=U;function k(dt,pt){try{const{protocol:L}=pt?new URL(dt,pt):new URL(dt);return L==="http:"||L==="https:"}catch{return!1}}function p(dt){dt.preventDefault()}function b(dt,pt=!1){return new Promise((L,V)=>{const lt=document.createElement("script");lt.src=dt,lt.onload=function(ft){pt&&lt.remove(),L(ft)},lt.onerror=function(){V(new Error(`Cannot load script at: ${lt.src}`))},(document.head||document.documentElement).append(lt)})}function h(dt){console.log("Deprecated API usage: "+dt)}let y;class v{static toDateObject(pt){if(!pt||typeof pt!="string")return null;y||(y=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const L=y.exec(pt);if(!L)return null;const V=parseInt(L[1],10);let lt=parseInt(L[2],10);lt=lt>=1&&lt<=12?lt-1:0;let ft=parseInt(L[3],10);ft=ft>=1&&ft<=31?ft:1;let Rt=parseInt(L[4],10);Rt=Rt>=0&&Rt<=23?Rt:0;let zt=parseInt(L[5],10);zt=zt>=0&&zt<=59?zt:0;let Dt=parseInt(L[6],10);Dt=Dt>=0&&Dt<=59?Dt:0;const ot=L[7]||"Z";let Gt=parseInt(L[8],10);Gt=Gt>=0&&Gt<=23?Gt:0;let It=parseInt(L[9],10)||0;return It=It>=0&&It<=59?It:0,ot==="-"?(Rt+=Gt,zt+=It):ot==="+"&&(Rt-=Gt,zt-=It),new Date(Date.UTC(V,lt,ft,Rt,zt,Dt))}}m.PDFDateString=v;function K(dt,{scale:pt=1,rotation:L=0}){const{width:V,height:lt}=dt.attributes.style,ft=[0,0,parseInt(V),parseInt(lt)];return new O({viewBox:ft,scale:pt,rotation:L})}function f(dt){if(dt.startsWith("#")){const pt=parseInt(dt.slice(1),16);return[(pt&16711680)>>16,(pt&65280)>>8,pt&255]}return dt.startsWith("rgb(")?dt.slice(4,-1).split(",").map(pt=>parseInt(pt)):dt.startsWith("rgba(")?dt.slice(5,-1).split(",").map(pt=>parseInt(pt)).slice(0,3):((0,R.warn)(`Not a valid color format: "${dt}"`),[0,0,0])}function M(dt){const pt=document.createElement("span");pt.style.visibility="hidden",document.body.append(pt);for(const L of dt.keys()){pt.style.color=L;const V=window.getComputedStyle(pt).color;dt.set(L,f(V))}pt.remove()}function Y(dt){const{a:pt,b:L,c:V,d:lt,e:ft,f:Rt}=dt.getTransform();return[pt,L,V,lt,ft,Rt]}function ht(dt){const{a:pt,b:L,c:V,d:lt,e:ft,f:Rt}=dt.getTransform().invertSelf();return[pt,L,V,lt,ft,Rt]}function $(dt,pt,L=!1,V=!0){if(pt instanceof O){const{pageWidth:lt,pageHeight:ft}=pt.rawDims,{style:Rt}=dt,zt=R.FeatureTest.isCSSRoundSupported,Dt=`var(--scale-factor) * ${lt}px`,ot=`var(--scale-factor) * ${ft}px`,Gt=zt?`round(${Dt}, 1px)`:`calc(${Dt})`,It=zt?`round(${ot}, 1px)`:`calc(${ot})`;!L||pt.rotation%180===0?(Rt.width=Gt,Rt.height=It):(Rt.width=It,Rt.height=Gt)}V&&dt.setAttribute("data-main-rotation",pt.rotation)}}),((J,m,at)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.BaseStandardFontDataFactory=m.BaseSVGFactory=m.BaseFilterFactory=m.BaseCanvasFactory=m.BaseCMapReaderFactory=void 0;var l=at(1);class R{constructor(){this.constructor===R&&(0,l.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(x){return"none"}addHCMFilter(x,H){return"none"}addHighlightHCMFilter(x,H,G,O){return"none"}destroy(x=!1){}}m.BaseFilterFactory=R;class rt{constructor(){this.constructor===rt&&(0,l.unreachable)("Cannot initialize BaseCanvasFactory.")}create(x,H){if(x<=0||H<=0)throw new Error("Invalid canvas size");const G=this._createCanvas(x,H);return{canvas:G,context:G.getContext("2d")}}reset(x,H,G){if(!x.canvas)throw new Error("Canvas is not specified");if(H<=0||G<=0)throw new Error("Invalid canvas size");x.canvas.width=H,x.canvas.height=G}destroy(x){if(!x.canvas)throw new Error("Canvas is not specified");x.canvas.width=0,x.canvas.height=0,x.canvas=null,x.context=null}_createCanvas(x,H){(0,l.unreachable)("Abstract method `_createCanvas` called.")}}m.BaseCanvasFactory=rt;class Q{constructor({baseUrl:x=null,isCompressed:H=!0}){this.constructor===Q&&(0,l.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=x,this.isCompressed=H}async fetch({name:x}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!x)throw new Error("CMap name must be specified.");const H=this.baseUrl+x+(this.isCompressed?".bcmap":""),G=this.isCompressed?l.CMapCompressionType.BINARY:l.CMapCompressionType.NONE;return this._fetchData(H,G).catch(O=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${H}`)})}_fetchData(x,H){(0,l.unreachable)("Abstract method `_fetchData` called.")}}m.BaseCMapReaderFactory=Q;class _t{constructor({baseUrl:x=null}){this.constructor===_t&&(0,l.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=x}async fetch({filename:x}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!x)throw new Error("Font filename must be specified.");const H=`${this.baseUrl}${x}`;return this._fetchData(H).catch(G=>{throw new Error(`Unable to load font data at: ${H}`)})}_fetchData(x){(0,l.unreachable)("Abstract method `_fetchData` called.")}}m.BaseStandardFontDataFactory=_t;class F{constructor(){this.constructor===F&&(0,l.unreachable)("Cannot initialize BaseSVGFactory.")}create(x,H,G=!1){if(x<=0||H<=0)throw new Error("Invalid SVG dimensions");const O=this._createSVG("svg:svg");return O.setAttribute("version","1.1"),G||(O.setAttribute("width",`${x}px`),O.setAttribute("height",`${H}px`)),O.setAttribute("preserveAspectRatio","none"),O.setAttribute("viewBox",`0 0 ${x} ${H}`),O}createElement(x){if(typeof x!="string")throw new Error("Invalid SVG element type");return this._createSVG(x)}_createSVG(x){(0,l.unreachable)("Abstract method `_createSVG` called.")}}m.BaseSVGFactory=F}),((J,m,at)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.MurmurHash3_64=void 0;var l=at(1);const R=3285377520,rt=4294901760,Q=65535;class _t{constructor(A){this.h1=A?A&4294967295:R,this.h2=A?A&4294967295:R}update(A){let x,H;if(typeof A=="string"){x=new Uint8Array(A.length*2),H=0;for(let h=0,y=A.length;h<y;h++){const v=A.charCodeAt(h);v<=255?x[H++]=v:(x[H++]=v>>>8,x[H++]=v&255)}}else if((0,l.isArrayBuffer)(A))x=A.slice(),H=x.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const G=H>>2,O=H-G*4,T=new Uint32Array(x.buffer,0,G);let N=0,C=0,d=this.h1,E=this.h2;const U=3432918353,k=461845907,p=U&Q,b=k&Q;for(let h=0;h<G;h++)h&1?(N=T[h],N=N*U&rt|N*p&Q,N=N<<15|N>>>17,N=N*k&rt|N*b&Q,d^=N,d=d<<13|d>>>19,d=d*5+3864292196):(C=T[h],C=C*U&rt|C*p&Q,C=C<<15|C>>>17,C=C*k&rt|C*b&Q,E^=C,E=E<<13|E>>>19,E=E*5+3864292196);switch(N=0,O){case 3:N^=x[G*4+2]<<16;case 2:N^=x[G*4+1]<<8;case 1:N^=x[G*4],N=N*U&rt|N*p&Q,N=N<<15|N>>>17,N=N*k&rt|N*b&Q,G&1?d^=N:E^=N}this.h1=d,this.h2=E}hexdigest(){let A=this.h1,x=this.h2;return A^=x>>>1,A=A*3981806797&rt|A*36045&Q,x=x*4283543511&rt|((x<<16|A>>>16)*2950163797&rt)>>>16,A^=x>>>1,A=A*444984403&rt|A*60499&Q,x=x*3301882366&rt|((x<<16|A>>>16)*3120437893&rt)>>>16,A^=x>>>1,(A>>>0).toString(16).padStart(8,"0")+(x>>>0).toString(16).padStart(8,"0")}}m.MurmurHash3_64=_t}),((J,m,at)=>{var Q;Object.defineProperty(m,"__esModule",{value:!0}),m.FontLoader=m.FontFaceObject=void 0;var l=at(1);class R{constructor({ownerDocument:F=globalThis.document,styleElement:A=null}){gt(this,Q,new Set);this._document=F,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(F){this.nativeFontFaces.add(F),this._document.fonts.add(F)}removeNativeFontFace(F){this.nativeFontFaces.delete(F),this._document.fonts.delete(F)}insertRule(F){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const A=this.styleElement.sheet;A.insertRule(F,A.cssRules.length)}clear(){for(const F of this.nativeFontFaces)this._document.fonts.delete(F);this.nativeFontFaces.clear(),r(this,Q).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(F){if(!(!F||r(this,Q).has(F.loadedName))){if((0,l.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:A,src:x,style:H}=F,G=new FontFace(A,x,H);this.addNativeFontFace(G);try{await G.load(),r(this,Q).add(A)}catch{(0,l.warn)(`Cannot load system font: ${F.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(G)}return}(0,l.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(F){if(F.attached||F.missingFile&&!F.systemFontInfo)return;if(F.attached=!0,F.systemFontInfo){await this.loadSystemFont(F.systemFontInfo);return}if(this.isFontLoadingAPISupported){const x=F.createNativeFontFace();if(x){this.addNativeFontFace(x);try{await x.loaded}catch(H){throw(0,l.warn)(`Failed to load font '${x.family}': '${H}'.`),F.disableFontFace=!0,H}}return}const A=F.createFontFaceRule();if(A){if(this.insertRule(A),this.isSyncFontLoadingSupported)return;await new Promise(x=>{const H=this._queueLoadingCallback(x);this._prepareFontLoadEvent(F,H)})}}get isFontLoadingAPISupported(){var A;const F=!!((A=this._document)!=null&&A.fonts);return(0,l.shadow)(this,"isFontLoadingAPISupported",F)}get isSyncFontLoadingSupported(){let F=!1;return(l.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(F=!0),(0,l.shadow)(this,"isSyncFontLoadingSupported",F)}_queueLoadingCallback(F){function A(){for((0,l.assert)(!H.done,"completeRequest() cannot be called twice."),H.done=!0;x.length>0&&x[0].done;){const G=x.shift();setTimeout(G.callback,0)}}const{loadingRequests:x}=this,H={done:!1,complete:A,callback:F};return x.push(H),H}get _loadTestFont(){const F=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,l.shadow)(this,"_loadTestFont",F)}_prepareFontLoadEvent(F,A){function x(f,M){return f.charCodeAt(M)<<24|f.charCodeAt(M+1)<<16|f.charCodeAt(M+2)<<8|f.charCodeAt(M+3)&255}function H(f,M,Y,ht){const $=f.substring(0,M),w=f.substring(M+Y);return $+ht+w}let G,O;const T=this._document.createElement("canvas");T.width=1,T.height=1;const N=T.getContext("2d");let C=0;function d(f,M){if(++C>30){(0,l.warn)("Load test font never loaded."),M();return}if(N.font="30px "+f,N.fillText(".",0,20),N.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(d.bind(null,f,M))}const E=`lt${Date.now()}${this.loadTestFontId++}`;let U=this._loadTestFont;U=H(U,976,E.length,E);const p=16,b=1482184792;let h=x(U,p);for(G=0,O=E.length-3;G<O;G+=4)h=h-b+x(E,G)|0;G<E.length&&(h=h-b+x(E+"XXX",G)|0),U=H(U,p,4,(0,l.string32)(h));const y=`url(data:font/opentype;base64,${btoa(U)});`,v=`@font-face {font-family:"${E}";src:${y}}`;this.insertRule(v);const K=this._document.createElement("div");K.style.visibility="hidden",K.style.width=K.style.height="10px",K.style.position="absolute",K.style.top=K.style.left="0px";for(const f of[F.loadedName,E]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=f,K.append(M)}this._document.body.append(K),d(E,()=>{K.remove(),A.complete()})}}Q=new WeakMap,m.FontLoader=R;class rt{constructor(F,{isEvalSupported:A=!0,disableFontFace:x=!1,ignoreErrors:H=!1,inspectFont:G=null}){this.compiledGlyphs=Object.create(null);for(const O in F)this[O]=F[O];this.isEvalSupported=A!==!1,this.disableFontFace=x===!0,this.ignoreErrors=H===!0,this._inspectFont=G}createNativeFontFace(){var A;if(!this.data||this.disableFontFace)return null;let F;if(!this.cssFontInfo)F=new FontFace(this.loadedName,this.data,{});else{const x={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(x.style=`oblique ${this.cssFontInfo.italicAngle}deg`),F=new FontFace(this.cssFontInfo.fontFamily,this.data,x)}return(A=this._inspectFont)==null||A.call(this,this),F}createFontFaceRule(){var H;if(!this.data||this.disableFontFace)return null;const F=(0,l.bytesToString)(this.data),A=`url(data:${this.mimetype};base64,${btoa(F)});`;let x;if(!this.cssFontInfo)x=`@font-face {font-family:"${this.loadedName}";src:${A}}`;else{let G=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(G+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),x=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${G}src:${A}}`}return(H=this._inspectFont)==null||H.call(this,this,A),x}getPathGenerator(F,A){if(this.compiledGlyphs[A]!==void 0)return this.compiledGlyphs[A];let x;try{x=F.get(this.loadedName+"_path_"+A)}catch(H){if(!this.ignoreErrors)throw H;return(0,l.warn)(`getPathGenerator - ignoring character: "${H}".`),this.compiledGlyphs[A]=function(G,O){}}if(this.isEvalSupported&&l.FeatureTest.isEvalSupported){const H=[];for(const G of x){const O=G.args!==void 0?G.args.join(","):"";H.push("c.",G.cmd,"(",O,`);
`)}return this.compiledGlyphs[A]=new Function("c","size",H.join(""))}return this.compiledGlyphs[A]=function(H,G){for(const O of x)O.cmd==="scale"&&(O.args=[G,-G]),H[O.cmd].apply(H,O.args)}}}m.FontFaceObject=rt}),((J,m,at)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.NodeStandardFontDataFactory=m.NodeFilterFactory=m.NodeCanvasFactory=m.NodeCMapReaderFactory=void 0;var l=at(7);at(1);const R=function(A){return new Promise((x,H)=>{require$$5.readFile(A,(O,T)=>{if(O||!T){H(new Error(O));return}x(new Uint8Array(T))})})};class rt extends l.BaseFilterFactory{}m.NodeFilterFactory=rt;class Q extends l.BaseCanvasFactory{_createCanvas(x,H){return require$$5.createCanvas(x,H)}}m.NodeCanvasFactory=Q;class _t extends l.BaseCMapReaderFactory{_fetchData(x,H){return R(x).then(G=>({cMapData:G,compressionType:H}))}}m.NodeCMapReaderFactory=_t;class F extends l.BaseStandardFontDataFactory{_fetchData(x){return R(x)}}m.NodeStandardFontDataFactory=F}),((J,m,at)=>{var nt,Ac,Sc;Object.defineProperty(m,"__esModule",{value:!0}),m.CanvasGraphics=void 0;var l=at(1),R=at(6),rt=at(12),Q=at(13);const _t=16,F=100,A=4096,x=15,H=10,G=1e3,O=16;function T(g,o){if(g._removeMirroring)throw new Error("Context is already forwarding operations.");g.__originalSave=g.save,g.__originalRestore=g.restore,g.__originalRotate=g.rotate,g.__originalScale=g.scale,g.__originalTranslate=g.translate,g.__originalTransform=g.transform,g.__originalSetTransform=g.setTransform,g.__originalResetTransform=g.resetTransform,g.__originalClip=g.clip,g.__originalMoveTo=g.moveTo,g.__originalLineTo=g.lineTo,g.__originalBezierCurveTo=g.bezierCurveTo,g.__originalRect=g.rect,g.__originalClosePath=g.closePath,g.__originalBeginPath=g.beginPath,g._removeMirroring=()=>{g.save=g.__originalSave,g.restore=g.__originalRestore,g.rotate=g.__originalRotate,g.scale=g.__originalScale,g.translate=g.__originalTranslate,g.transform=g.__originalTransform,g.setTransform=g.__originalSetTransform,g.resetTransform=g.__originalResetTransform,g.clip=g.__originalClip,g.moveTo=g.__originalMoveTo,g.lineTo=g.__originalLineTo,g.bezierCurveTo=g.__originalBezierCurveTo,g.rect=g.__originalRect,g.closePath=g.__originalClosePath,g.beginPath=g.__originalBeginPath,delete g._removeMirroring},g.save=function(){o.save(),this.__originalSave()},g.restore=function(){o.restore(),this.__originalRestore()},g.translate=function(_,z){o.translate(_,z),this.__originalTranslate(_,z)},g.scale=function(_,z){o.scale(_,z),this.__originalScale(_,z)},g.transform=function(_,z,B,X,tt,mt){o.transform(_,z,B,X,tt,mt),this.__originalTransform(_,z,B,X,tt,mt)},g.setTransform=function(_,z,B,X,tt,mt){o.setTransform(_,z,B,X,tt,mt),this.__originalSetTransform(_,z,B,X,tt,mt)},g.resetTransform=function(){o.resetTransform(),this.__originalResetTransform()},g.rotate=function(_){o.rotate(_),this.__originalRotate(_)},g.clip=function(_){o.clip(_),this.__originalClip(_)},g.moveTo=function(c,_){o.moveTo(c,_),this.__originalMoveTo(c,_)},g.lineTo=function(c,_){o.lineTo(c,_),this.__originalLineTo(c,_)},g.bezierCurveTo=function(c,_,z,B,X,tt){o.bezierCurveTo(c,_,z,B,X,tt),this.__originalBezierCurveTo(c,_,z,B,X,tt)},g.rect=function(c,_,z,B){o.rect(c,_,z,B),this.__originalRect(c,_,z,B)},g.closePath=function(){o.closePath(),this.__originalClosePath()},g.beginPath=function(){o.beginPath(),this.__originalBeginPath()}}class N{constructor(o){this.canvasFactory=o,this.cache=Object.create(null)}getCanvas(o,c,_){let z;return this.cache[o]!==void 0?(z=this.cache[o],this.canvasFactory.reset(z,c,_)):(z=this.canvasFactory.create(c,_),this.cache[o]=z),z}delete(o){delete this.cache[o]}clear(){for(const o in this.cache){const c=this.cache[o];this.canvasFactory.destroy(c),delete this.cache[o]}}}function C(g,o,c,_,z,B,X,tt,mt,Tt){const[Ct,Lt,Nt,jt,dt,pt]=(0,R.getCurrentTransform)(g);if(Lt===0&&Nt===0){const lt=X*Ct+dt,ft=Math.round(lt),Rt=tt*jt+pt,zt=Math.round(Rt),Dt=(X+mt)*Ct+dt,ot=Math.abs(Math.round(Dt)-ft)||1,Gt=(tt+Tt)*jt+pt,It=Math.abs(Math.round(Gt)-zt)||1;return g.setTransform(Math.sign(Ct),0,0,Math.sign(jt),ft,zt),g.drawImage(o,c,_,z,B,0,0,ot,It),g.setTransform(Ct,Lt,Nt,jt,dt,pt),[ot,It]}if(Ct===0&&jt===0){const lt=tt*Nt+dt,ft=Math.round(lt),Rt=X*Lt+pt,zt=Math.round(Rt),Dt=(tt+Tt)*Nt+dt,ot=Math.abs(Math.round(Dt)-ft)||1,Gt=(X+mt)*Lt+pt,It=Math.abs(Math.round(Gt)-zt)||1;return g.setTransform(0,Math.sign(Lt),Math.sign(Nt),0,ft,zt),g.drawImage(o,c,_,z,B,0,0,It,ot),g.setTransform(Ct,Lt,Nt,jt,dt,pt),[It,ot]}g.drawImage(o,c,_,z,B,X,tt,mt,Tt);const L=Math.hypot(Ct,Lt),V=Math.hypot(Nt,jt);return[L*mt,V*Tt]}function d(g){const{width:o,height:c}=g;if(o>G||c>G)return null;const _=1e3,z=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),B=o+1;let X=new Uint8Array(B*(c+1)),tt,mt,Tt;const Ct=o+7&-8;let Lt=new Uint8Array(Ct*c),Nt=0;for(const V of g.data){let lt=128;for(;lt>0;)Lt[Nt++]=V&lt?0:255,lt>>=1}let jt=0;for(Nt=0,Lt[Nt]!==0&&(X[0]=1,++jt),mt=1;mt<o;mt++)Lt[Nt]!==Lt[Nt+1]&&(X[mt]=Lt[Nt]?2:1,++jt),Nt++;for(Lt[Nt]!==0&&(X[mt]=2,++jt),tt=1;tt<c;tt++){Nt=tt*Ct,Tt=tt*B,Lt[Nt-Ct]!==Lt[Nt]&&(X[Tt]=Lt[Nt]?1:8,++jt);let V=(Lt[Nt]?4:0)+(Lt[Nt-Ct]?8:0);for(mt=1;mt<o;mt++)V=(V>>2)+(Lt[Nt+1]?4:0)+(Lt[Nt-Ct+1]?8:0),z[V]&&(X[Tt+mt]=z[V],++jt),Nt++;if(Lt[Nt-Ct]!==Lt[Nt]&&(X[Tt+mt]=Lt[Nt]?2:4,++jt),jt>_)return null}for(Nt=Ct*(c-1),Tt=tt*B,Lt[Nt]!==0&&(X[Tt]=8,++jt),mt=1;mt<o;mt++)Lt[Nt]!==Lt[Nt+1]&&(X[Tt+mt]=Lt[Nt]?4:8,++jt),Nt++;if(Lt[Nt]!==0&&(X[Tt+mt]=4,++jt),jt>_)return null;const dt=new Int32Array([0,B,-1,0,-B,0,0,0,1]),pt=new Path2D;for(tt=0;jt&&tt<=c;tt++){let V=tt*B;const lt=V+o;for(;V<lt&&!X[V];)V++;if(V===lt)continue;pt.moveTo(V%B,tt);const ft=V;let Rt=X[V];do{const zt=dt[Rt];do V+=zt;while(!X[V]);const Dt=X[V];Dt!==5&&Dt!==10?(Rt=Dt,X[V]=0):(Rt=Dt&51*Rt>>4,X[V]&=Rt>>2|Rt<<2),pt.lineTo(V%B,V/B|0),X[V]||--jt}while(ft!==V);--tt}return Lt=null,X=null,function(V){V.save(),V.scale(1/o,-1/c),V.translate(0,-c),V.fill(pt),V.beginPath(),V.restore()}}class E{constructor(o,c){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=l.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=l.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=l.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,o,c])}clone(){const o=Object.create(this);return o.clipBox=this.clipBox.slice(),o}setCurrentPoint(o,c){this.x=o,this.y=c}updatePathMinMax(o,c,_){[c,_]=l.Util.applyTransform([c,_],o),this.minX=Math.min(this.minX,c),this.minY=Math.min(this.minY,_),this.maxX=Math.max(this.maxX,c),this.maxY=Math.max(this.maxY,_)}updateRectMinMax(o,c){const _=l.Util.applyTransform(c,o),z=l.Util.applyTransform(c.slice(2),o);this.minX=Math.min(this.minX,_[0],z[0]),this.minY=Math.min(this.minY,_[1],z[1]),this.maxX=Math.max(this.maxX,_[0],z[0]),this.maxY=Math.max(this.maxY,_[1],z[1])}updateScalingPathMinMax(o,c){l.Util.scaleMinMax(o,c),this.minX=Math.min(this.minX,c[0]),this.maxX=Math.max(this.maxX,c[1]),this.minY=Math.min(this.minY,c[2]),this.maxY=Math.max(this.maxY,c[3])}updateCurvePathMinMax(o,c,_,z,B,X,tt,mt,Tt,Ct){const Lt=l.Util.bezierBoundingBox(c,_,z,B,X,tt,mt,Tt);if(Ct){Ct[0]=Math.min(Ct[0],Lt[0],Lt[2]),Ct[1]=Math.max(Ct[1],Lt[0],Lt[2]),Ct[2]=Math.min(Ct[2],Lt[1],Lt[3]),Ct[3]=Math.max(Ct[3],Lt[1],Lt[3]);return}this.updateRectMinMax(o,Lt)}getPathBoundingBox(o=rt.PathType.FILL,c=null){const _=[this.minX,this.minY,this.maxX,this.maxY];if(o===rt.PathType.STROKE){c||(0,l.unreachable)("Stroke bounding box must include transform.");const z=l.Util.singularValueDecompose2dScale(c),B=z[0]*this.lineWidth/2,X=z[1]*this.lineWidth/2;_[0]-=B,_[1]-=X,_[2]+=B,_[3]+=X}return _}updateClipFromPath(){const o=l.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(o||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(o){this.clipBox=o,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(o=rt.PathType.FILL,c=null){return l.Util.intersect(this.clipBox,this.getPathBoundingBox(o,c))}}function U(g,o){if(typeof ImageData<"u"&&o instanceof ImageData){g.putImageData(o,0,0);return}const c=o.height,_=o.width,z=c%O,B=(c-z)/O,X=z===0?B:B+1,tt=g.createImageData(_,O);let mt=0,Tt;const Ct=o.data,Lt=tt.data;let Nt,jt,dt,pt;if(o.kind===l.ImageKind.GRAYSCALE_1BPP){const L=Ct.byteLength,V=new Uint32Array(Lt.buffer,0,Lt.byteLength>>2),lt=V.length,ft=_+7>>3,Rt=4294967295,zt=l.FeatureTest.isLittleEndian?4278190080:255;for(Nt=0;Nt<X;Nt++){for(dt=Nt<B?O:z,Tt=0,jt=0;jt<dt;jt++){const Dt=L-mt;let ot=0;const Gt=Dt>ft?_:Dt*8-7,It=Gt&-8;let re=0,ae=0;for(;ot<It;ot+=8)ae=Ct[mt++],V[Tt++]=ae&128?Rt:zt,V[Tt++]=ae&64?Rt:zt,V[Tt++]=ae&32?Rt:zt,V[Tt++]=ae&16?Rt:zt,V[Tt++]=ae&8?Rt:zt,V[Tt++]=ae&4?Rt:zt,V[Tt++]=ae&2?Rt:zt,V[Tt++]=ae&1?Rt:zt;for(;ot<Gt;ot++)re===0&&(ae=Ct[mt++],re=128),V[Tt++]=ae&re?Rt:zt,re>>=1}for(;Tt<lt;)V[Tt++]=0;g.putImageData(tt,0,Nt*O)}}else if(o.kind===l.ImageKind.RGBA_32BPP){for(jt=0,pt=_*O*4,Nt=0;Nt<B;Nt++)Lt.set(Ct.subarray(mt,mt+pt)),mt+=pt,g.putImageData(tt,0,jt),jt+=O;Nt<X&&(pt=_*z*4,Lt.set(Ct.subarray(mt,mt+pt)),g.putImageData(tt,0,jt))}else if(o.kind===l.ImageKind.RGB_24BPP)for(dt=O,pt=_*dt,Nt=0;Nt<X;Nt++){for(Nt>=B&&(dt=z,pt=_*dt),Tt=0,jt=pt;jt--;)Lt[Tt++]=Ct[mt++],Lt[Tt++]=Ct[mt++],Lt[Tt++]=Ct[mt++],Lt[Tt++]=255;g.putImageData(tt,0,Nt*O)}else throw new Error(`bad image kind: ${o.kind}`)}function k(g,o){if(o.bitmap){g.drawImage(o.bitmap,0,0);return}const c=o.height,_=o.width,z=c%O,B=(c-z)/O,X=z===0?B:B+1,tt=g.createImageData(_,O);let mt=0;const Tt=o.data,Ct=tt.data;for(let Lt=0;Lt<X;Lt++){const Nt=Lt<B?O:z;({srcPos:mt}=(0,Q.convertBlackAndWhiteToRGBA)({src:Tt,srcPos:mt,dest:Ct,width:_,height:Nt,nonBlackColor:0})),g.putImageData(tt,0,Lt*O)}}function p(g,o){const c=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const _ of c)g[_]!==void 0&&(o[_]=g[_]);g.setLineDash!==void 0&&(o.setLineDash(g.getLineDash()),o.lineDashOffset=g.lineDashOffset)}function b(g){if(g.strokeStyle=g.fillStyle="#000000",g.fillRule="nonzero",g.globalAlpha=1,g.lineWidth=1,g.lineCap="butt",g.lineJoin="miter",g.miterLimit=10,g.globalCompositeOperation="source-over",g.font="10px sans-serif",g.setLineDash!==void 0&&(g.setLineDash([]),g.lineDashOffset=0),!l.isNodeJS){const{filter:o}=g;o!=="none"&&o!==""&&(g.filter="none")}}function h(g,o,c,_){const z=g.length;for(let B=3;B<z;B+=4){const X=g[B];if(X===0)g[B-3]=o,g[B-2]=c,g[B-1]=_;else if(X<255){const tt=255-X;g[B-3]=g[B-3]*X+o*tt>>8,g[B-2]=g[B-2]*X+c*tt>>8,g[B-1]=g[B-1]*X+_*tt>>8}}}function y(g,o,c){const _=g.length,z=1/255;for(let B=3;B<_;B+=4){const X=c?c[g[B]]:g[B];o[B]=o[B]*X*z|0}}function v(g,o,c){const _=g.length;for(let z=3;z<_;z+=4){const B=g[z-3]*77+g[z-2]*152+g[z-1]*28;o[z]=c?o[z]*c[B>>8]>>8:o[z]*B>>16}}function K(g,o,c,_,z,B,X,tt,mt,Tt,Ct){const Lt=!!B,Nt=Lt?B[0]:0,jt=Lt?B[1]:0,dt=Lt?B[2]:0,pt=z==="Luminosity"?v:y,V=Math.min(_,Math.ceil(1048576/c));for(let lt=0;lt<_;lt+=V){const ft=Math.min(V,_-lt),Rt=g.getImageData(tt-Tt,lt+(mt-Ct),c,ft),zt=o.getImageData(tt,lt+mt,c,ft);Lt&&h(Rt.data,Nt,jt,dt),pt(Rt.data,zt.data,X),o.putImageData(zt,tt,lt+mt)}}function f(g,o,c,_){const z=_[0],B=_[1],X=_[2]-z,tt=_[3]-B;X===0||tt===0||(K(o.context,c,X,tt,o.subtype,o.backdrop,o.transferMap,z,B,o.offsetX,o.offsetY),g.save(),g.globalAlpha=1,g.globalCompositeOperation="source-over",g.setTransform(1,0,0,1,0,0),g.drawImage(c.canvas,0,0),g.restore())}function M(g,o){const c=l.Util.singularValueDecompose2dScale(g);c[0]=Math.fround(c[0]),c[1]=Math.fround(c[1]);const _=Math.fround((globalThis.devicePixelRatio||1)*R.PixelsPerInch.PDF_TO_CSS_UNITS);return o!==void 0?o:c[0]<=_||c[1]<=_}const Y=["butt","round","square"],ht=["miter","round","bevel"],$={},w={},S=class S{constructor(o,c,_,z,B,{optionalContentConfig:X,markedContentStack:tt=null},mt,Tt){gt(this,nt);this.ctx=o,this.current=new E(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=c,this.objs=_,this.canvasFactory=z,this.filterFactory=B,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=tt||[],this.optionalContentConfig=X,this.cachedCanvases=new N(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=mt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Tt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(o,c=null){return typeof o=="string"?o.startsWith("g_")?this.commonObjs.get(o):this.objs.get(o):c}beginDrawing({transform:o,viewport:c,transparency:_=!1,background:z=null}){const B=this.ctx.canvas.width,X=this.ctx.canvas.height,tt=this.ctx.fillStyle;if(this.ctx.fillStyle=z||"#ffffff",this.ctx.fillRect(0,0,B,X),this.ctx.fillStyle=tt,_){const mt=this.cachedCanvases.getCanvas("transparent",B,X);this.compositeCtx=this.ctx,this.transparentCanvas=mt.canvas,this.ctx=mt.context,this.ctx.save(),this.ctx.transform(...(0,R.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),b(this.ctx),o&&(this.ctx.transform(...o),this.outputScaleX=o[0],this.outputScaleY=o[0]),this.ctx.transform(...c.transform),this.viewportScale=c.scale,this.baseTransform=(0,R.getCurrentTransform)(this.ctx)}executeOperatorList(o,c,_,z){const B=o.argsArray,X=o.fnArray;let tt=c||0;const mt=B.length;if(mt===tt)return tt;const Tt=mt-tt>H&&typeof _=="function",Ct=Tt?Date.now()+x:0;let Lt=0;const Nt=this.commonObjs,jt=this.objs;let dt;for(;;){if(z!==void 0&&tt===z.nextBreakPoint)return z.breakIt(tt,_),tt;if(dt=X[tt],dt!==l.OPS.dependency)this[dt].apply(this,B[tt]);else for(const pt of B[tt]){const L=pt.startsWith("g_")?Nt:jt;if(!L.has(pt))return L.get(pt,_),tt}if(tt++,tt===mt)return tt;if(Tt&&++Lt>H){if(Date.now()>Ct)return _(),tt;Lt=0}}}endDrawing(){st(this,nt,Ac).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const o of this._cachedBitmapsMap.values()){for(const c of o.values())typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement&&(c.width=c.height=0);o.clear()}this._cachedBitmapsMap.clear(),st(this,nt,Sc).call(this)}_scaleImage(o,c){const _=o.width,z=o.height;let B=Math.max(Math.hypot(c[0],c[1]),1),X=Math.max(Math.hypot(c[2],c[3]),1),tt=_,mt=z,Tt="prescale1",Ct,Lt;for(;B>2&&tt>1||X>2&&mt>1;){let Nt=tt,jt=mt;B>2&&tt>1&&(Nt=tt>=16384?Math.floor(tt/2)-1||1:Math.ceil(tt/2),B/=tt/Nt),X>2&&mt>1&&(jt=mt>=16384?Math.floor(mt/2)-1||1:Math.ceil(mt)/2,X/=mt/jt),Ct=this.cachedCanvases.getCanvas(Tt,Nt,jt),Lt=Ct.context,Lt.clearRect(0,0,Nt,jt),Lt.drawImage(o,0,0,tt,mt,0,0,Nt,jt),o=Ct.canvas,tt=Nt,mt=jt,Tt=Tt==="prescale1"?"prescale2":"prescale1"}return{img:o,paintWidth:tt,paintHeight:mt}}_createMaskCanvas(o){const c=this.ctx,{width:_,height:z}=o,B=this.current.fillColor,X=this.current.patternFill,tt=(0,R.getCurrentTransform)(c);let mt,Tt,Ct,Lt;if((o.bitmap||o.data)&&o.count>1){const ot=o.bitmap||o.data.buffer;Tt=JSON.stringify(X?tt:[tt.slice(0,4),B]),mt=this._cachedBitmapsMap.get(ot),mt||(mt=new Map,this._cachedBitmapsMap.set(ot,mt));const Gt=mt.get(Tt);if(Gt&&!X){const It=Math.round(Math.min(tt[0],tt[2])+tt[4]),re=Math.round(Math.min(tt[1],tt[3])+tt[5]);return{canvas:Gt,offsetX:It,offsetY:re}}Ct=Gt}Ct||(Lt=this.cachedCanvases.getCanvas("maskCanvas",_,z),k(Lt.context,o));let Nt=l.Util.transform(tt,[1/_,0,0,-1/z,0,0]);Nt=l.Util.transform(Nt,[1,0,0,1,0,-z]);const jt=l.Util.applyTransform([0,0],Nt),dt=l.Util.applyTransform([_,z],Nt),pt=l.Util.normalizeRect([jt[0],jt[1],dt[0],dt[1]]),L=Math.round(pt[2]-pt[0])||1,V=Math.round(pt[3]-pt[1])||1,lt=this.cachedCanvases.getCanvas("fillCanvas",L,V),ft=lt.context,Rt=Math.min(jt[0],dt[0]),zt=Math.min(jt[1],dt[1]);ft.translate(-Rt,-zt),ft.transform(...Nt),Ct||(Ct=this._scaleImage(Lt.canvas,(0,R.getCurrentTransformInverse)(ft)),Ct=Ct.img,mt&&X&&mt.set(Tt,Ct)),ft.imageSmoothingEnabled=M((0,R.getCurrentTransform)(ft),o.interpolate),C(ft,Ct,0,0,Ct.width,Ct.height,0,0,_,z),ft.globalCompositeOperation="source-in";const Dt=l.Util.transform((0,R.getCurrentTransformInverse)(ft),[1,0,0,1,-Rt,-zt]);return ft.fillStyle=X?B.getPattern(c,this,Dt,rt.PathType.FILL):B,ft.fillRect(0,0,_,z),mt&&!X&&(this.cachedCanvases.delete("fillCanvas"),mt.set(Tt,lt.canvas)),{canvas:lt.canvas,offsetX:Math.round(Rt),offsetY:Math.round(zt)}}setLineWidth(o){o!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=o,this.ctx.lineWidth=o}setLineCap(o){this.ctx.lineCap=Y[o]}setLineJoin(o){this.ctx.lineJoin=ht[o]}setMiterLimit(o){this.ctx.miterLimit=o}setDash(o,c){const _=this.ctx;_.setLineDash!==void 0&&(_.setLineDash(o),_.lineDashOffset=c)}setRenderingIntent(o){}setFlatness(o){}setGState(o){for(const[c,_]of o)switch(c){case"LW":this.setLineWidth(_);break;case"LC":this.setLineCap(_);break;case"LJ":this.setLineJoin(_);break;case"ML":this.setMiterLimit(_);break;case"D":this.setDash(_[0],_[1]);break;case"RI":this.setRenderingIntent(_);break;case"FL":this.setFlatness(_);break;case"Font":this.setFont(_[0],_[1]);break;case"CA":this.current.strokeAlpha=_;break;case"ca":this.current.fillAlpha=_,this.ctx.globalAlpha=_;break;case"BM":this.ctx.globalCompositeOperation=_;break;case"SMask":this.current.activeSMask=_?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(_);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const o=this.inSMaskMode;this.current.activeSMask&&!o?this.beginSMaskMode():!this.current.activeSMask&&o&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const o=this.ctx.canvas.width,c=this.ctx.canvas.height,_="smaskGroupAt"+this.groupLevel,z=this.cachedCanvases.getCanvas(_,o,c);this.suspendedCtx=this.ctx,this.ctx=z.context;const B=this.ctx;B.setTransform(...(0,R.getCurrentTransform)(this.suspendedCtx)),p(this.suspendedCtx,B),T(B,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),p(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(o){if(!this.current.activeSMask)return;o?(o[0]=Math.floor(o[0]),o[1]=Math.floor(o[1]),o[2]=Math.ceil(o[2]),o[3]=Math.ceil(o[3])):o=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const c=this.current.activeSMask,_=this.suspendedCtx;f(_,c,this.ctx,o),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(p(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const o=this.current;this.stateStack.push(o),this.current=o.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),p(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(o,c,_,z,B,X){this.ctx.transform(o,c,_,z,B,X),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(o,c,_){const z=this.ctx,B=this.current;let X=B.x,tt=B.y,mt,Tt;const Ct=(0,R.getCurrentTransform)(z),Lt=Ct[0]===0&&Ct[3]===0||Ct[1]===0&&Ct[2]===0,Nt=Lt?_.slice(0):null;for(let jt=0,dt=0,pt=o.length;jt<pt;jt++)switch(o[jt]|0){case l.OPS.rectangle:X=c[dt++],tt=c[dt++];const L=c[dt++],V=c[dt++],lt=X+L,ft=tt+V;z.moveTo(X,tt),L===0||V===0?z.lineTo(lt,ft):(z.lineTo(lt,tt),z.lineTo(lt,ft),z.lineTo(X,ft)),Lt||B.updateRectMinMax(Ct,[X,tt,lt,ft]),z.closePath();break;case l.OPS.moveTo:X=c[dt++],tt=c[dt++],z.moveTo(X,tt),Lt||B.updatePathMinMax(Ct,X,tt);break;case l.OPS.lineTo:X=c[dt++],tt=c[dt++],z.lineTo(X,tt),Lt||B.updatePathMinMax(Ct,X,tt);break;case l.OPS.curveTo:mt=X,Tt=tt,X=c[dt+4],tt=c[dt+5],z.bezierCurveTo(c[dt],c[dt+1],c[dt+2],c[dt+3],X,tt),B.updateCurvePathMinMax(Ct,mt,Tt,c[dt],c[dt+1],c[dt+2],c[dt+3],X,tt,Nt),dt+=6;break;case l.OPS.curveTo2:mt=X,Tt=tt,z.bezierCurveTo(X,tt,c[dt],c[dt+1],c[dt+2],c[dt+3]),B.updateCurvePathMinMax(Ct,mt,Tt,X,tt,c[dt],c[dt+1],c[dt+2],c[dt+3],Nt),X=c[dt+2],tt=c[dt+3],dt+=4;break;case l.OPS.curveTo3:mt=X,Tt=tt,X=c[dt+2],tt=c[dt+3],z.bezierCurveTo(c[dt],c[dt+1],X,tt,X,tt),B.updateCurvePathMinMax(Ct,mt,Tt,c[dt],c[dt+1],X,tt,X,tt,Nt),dt+=4;break;case l.OPS.closePath:z.closePath();break}Lt&&B.updateScalingPathMinMax(Ct,Nt),B.setCurrentPoint(X,tt)}closePath(){this.ctx.closePath()}stroke(o=!0){const c=this.ctx,_=this.current.strokeColor;c.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof _=="object"&&(_!=null&&_.getPattern)?(c.save(),c.strokeStyle=_.getPattern(c,this,(0,R.getCurrentTransformInverse)(c),rt.PathType.STROKE),this.rescaleAndStroke(!1),c.restore()):this.rescaleAndStroke(!0)),o&&this.consumePath(this.current.getClippedPathBoundingBox()),c.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(o=!0){const c=this.ctx,_=this.current.fillColor,z=this.current.patternFill;let B=!1;z&&(c.save(),c.fillStyle=_.getPattern(c,this,(0,R.getCurrentTransformInverse)(c),rt.PathType.FILL),B=!0);const X=this.current.getClippedPathBoundingBox();this.contentVisible&&X!==null&&(this.pendingEOFill?(c.fill("evenodd"),this.pendingEOFill=!1):c.fill()),B&&c.restore(),o&&this.consumePath(X)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=$}eoClip(){this.pendingClip=w}beginText(){this.current.textMatrix=l.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const o=this.pendingTextPaths,c=this.ctx;if(o===void 0){c.beginPath();return}c.save(),c.beginPath();for(const _ of o)c.setTransform(..._.transform),c.translate(_.x,_.y),_.addToPath(c,_.fontSize);c.restore(),c.clip(),c.beginPath(),delete this.pendingTextPaths}setCharSpacing(o){this.current.charSpacing=o}setWordSpacing(o){this.current.wordSpacing=o}setHScale(o){this.current.textHScale=o/100}setLeading(o){this.current.leading=-o}setFont(o,c){var Ct;const _=this.commonObjs.get(o),z=this.current;if(!_)throw new Error(`Can't find font for ${o}`);if(z.fontMatrix=_.fontMatrix||l.FONT_IDENTITY_MATRIX,(z.fontMatrix[0]===0||z.fontMatrix[3]===0)&&(0,l.warn)("Invalid font matrix for font "+o),c<0?(c=-c,z.fontDirection=-1):z.fontDirection=1,this.current.font=_,this.current.fontSize=c,_.isType3Font)return;const B=_.loadedName||"sans-serif",X=((Ct=_.systemFontInfo)==null?void 0:Ct.css)||`"${B}", ${_.fallbackName}`;let tt="normal";_.black?tt="900":_.bold&&(tt="bold");const mt=_.italic?"italic":"normal";let Tt=c;c<_t?Tt=_t:c>F&&(Tt=F),this.current.fontSizeScale=c/Tt,this.ctx.font=`${mt} ${tt} ${Tt}px ${X}`}setTextRenderingMode(o){this.current.textRenderingMode=o}setTextRise(o){this.current.textRise=o}moveText(o,c){this.current.x=this.current.lineX+=o,this.current.y=this.current.lineY+=c}setLeadingMoveText(o,c){this.setLeading(-c),this.moveText(o,c)}setTextMatrix(o,c,_,z,B,X){this.current.textMatrix=[o,c,_,z,B,X],this.current.textMatrixScale=Math.hypot(o,c),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(o,c,_,z){const B=this.ctx,X=this.current,tt=X.font,mt=X.textRenderingMode,Tt=X.fontSize/X.fontSizeScale,Ct=mt&l.TextRenderingMode.FILL_STROKE_MASK,Lt=!!(mt&l.TextRenderingMode.ADD_TO_PATH_FLAG),Nt=X.patternFill&&!tt.missingFile;let jt;(tt.disableFontFace||Lt||Nt)&&(jt=tt.getPathGenerator(this.commonObjs,o)),tt.disableFontFace||Nt?(B.save(),B.translate(c,_),B.beginPath(),jt(B,Tt),z&&B.setTransform(...z),(Ct===l.TextRenderingMode.FILL||Ct===l.TextRenderingMode.FILL_STROKE)&&B.fill(),(Ct===l.TextRenderingMode.STROKE||Ct===l.TextRenderingMode.FILL_STROKE)&&B.stroke(),B.restore()):((Ct===l.TextRenderingMode.FILL||Ct===l.TextRenderingMode.FILL_STROKE)&&B.fillText(o,c,_),(Ct===l.TextRenderingMode.STROKE||Ct===l.TextRenderingMode.FILL_STROKE)&&B.strokeText(o,c,_)),Lt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,R.getCurrentTransform)(B),x:c,y:_,fontSize:Tt,addToPath:jt})}get isFontSubpixelAAEnabled(){const{context:o}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);o.scale(1.5,1),o.fillText("I",0,10);const c=o.getImageData(0,0,10,10).data;let _=!1;for(let z=3;z<c.length;z+=4)if(c[z]>0&&c[z]<255){_=!0;break}return(0,l.shadow)(this,"isFontSubpixelAAEnabled",_)}showText(o){const c=this.current,_=c.font;if(_.isType3Font)return this.showType3Text(o);const z=c.fontSize;if(z===0)return;const B=this.ctx,X=c.fontSizeScale,tt=c.charSpacing,mt=c.wordSpacing,Tt=c.fontDirection,Ct=c.textHScale*Tt,Lt=o.length,Nt=_.vertical,jt=Nt?1:-1,dt=_.defaultVMetrics,pt=z*c.fontMatrix[0],L=c.textRenderingMode===l.TextRenderingMode.FILL&&!_.disableFontFace&&!c.patternFill;B.save(),B.transform(...c.textMatrix),B.translate(c.x,c.y+c.textRise),Tt>0?B.scale(Ct,-1):B.scale(Ct,1);let V;if(c.patternFill){B.save();const Dt=c.fillColor.getPattern(B,this,(0,R.getCurrentTransformInverse)(B),rt.PathType.FILL);V=(0,R.getCurrentTransform)(B),B.restore(),B.fillStyle=Dt}let lt=c.lineWidth;const ft=c.textMatrixScale;if(ft===0||lt===0){const Dt=c.textRenderingMode&l.TextRenderingMode.FILL_STROKE_MASK;(Dt===l.TextRenderingMode.STROKE||Dt===l.TextRenderingMode.FILL_STROKE)&&(lt=this.getSinglePixelWidth())}else lt/=ft;if(X!==1&&(B.scale(X,X),lt/=X),B.lineWidth=lt,_.isInvalidPDFjsFont){const Dt=[];let ot=0;for(const Gt of o)Dt.push(Gt.unicode),ot+=Gt.width;B.fillText(Dt.join(""),0,0),c.x+=ot*pt*Ct,B.restore(),this.compose();return}let Rt=0,zt;for(zt=0;zt<Lt;++zt){const Dt=o[zt];if(typeof Dt=="number"){Rt+=jt*Dt*z/1e3;continue}let ot=!1;const Gt=(Dt.isSpace?mt:0)+tt,It=Dt.fontChar,re=Dt.accent;let ae,pe,Jt=Dt.width;if(Nt){const he=Dt.vmetric||dt,de=-(Dt.vmetric?he[1]:Jt*.5)*pt,Ot=he[2]*pt;Jt=he?-he[0]:Jt,ae=de/X,pe=(Rt+Ot)/X}else ae=Rt/X,pe=0;if(_.remeasure&&Jt>0){const he=B.measureText(It).width*1e3/z*X;if(Jt<he&&this.isFontSubpixelAAEnabled){const de=Jt/he;ot=!0,B.save(),B.scale(de,1),ae/=de}else Jt!==he&&(ae+=(Jt-he)/2e3*z/X)}if(this.contentVisible&&(Dt.isInFont||_.missingFile)){if(L&&!re)B.fillText(It,ae,pe);else if(this.paintChar(It,ae,pe,V),re){const he=ae+z*re.offset.x/X,de=pe-z*re.offset.y/X;this.paintChar(re.fontChar,he,de,V)}}const ne=Nt?Jt*pt-Gt*Tt:Jt*pt+Gt*Tt;Rt+=ne,ot&&B.restore()}Nt?c.y-=Rt:c.x+=Rt*Ct,B.restore(),this.compose()}showType3Text(o){const c=this.ctx,_=this.current,z=_.font,B=_.fontSize,X=_.fontDirection,tt=z.vertical?1:-1,mt=_.charSpacing,Tt=_.wordSpacing,Ct=_.textHScale*X,Lt=_.fontMatrix||l.FONT_IDENTITY_MATRIX,Nt=o.length,jt=_.textRenderingMode===l.TextRenderingMode.INVISIBLE;let dt,pt,L,V;if(!(jt||B===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,c.save(),c.transform(..._.textMatrix),c.translate(_.x,_.y),c.scale(Ct,X),dt=0;dt<Nt;++dt){if(pt=o[dt],typeof pt=="number"){V=tt*pt*B/1e3,this.ctx.translate(V,0),_.x+=V*Ct;continue}const lt=(pt.isSpace?Tt:0)+mt,ft=z.charProcOperatorList[pt.operatorListId];if(!ft){(0,l.warn)(`Type3 character "${pt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=pt,this.save(),c.scale(B,B),c.transform(...Lt),this.executeOperatorList(ft),this.restore()),L=l.Util.applyTransform([pt.width,0],Lt)[0]*B+lt,c.translate(L,0),_.x+=L*Ct}c.restore(),this.processingType3=null}}setCharWidth(o,c){}setCharWidthAndBounds(o,c,_,z,B,X){this.ctx.rect(_,z,B-_,X-z),this.ctx.clip(),this.endPath()}getColorN_Pattern(o){let c;if(o[0]==="TilingPattern"){const _=o[1],z=this.baseTransform||(0,R.getCurrentTransform)(this.ctx),B={createCanvasGraphics:X=>new S(X,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};c=new rt.TilingPattern(o,_,this.ctx,B,z)}else c=this._getPattern(o[1],o[2]);return c}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(o,c,_){const z=l.Util.makeHexColor(o,c,_);this.ctx.strokeStyle=z,this.current.strokeColor=z}setFillRGBColor(o,c,_){const z=l.Util.makeHexColor(o,c,_);this.ctx.fillStyle=z,this.current.fillColor=z,this.current.patternFill=!1}_getPattern(o,c=null){let _;return this.cachedPatterns.has(o)?_=this.cachedPatterns.get(o):(_=(0,rt.getShadingPattern)(this.getObject(o)),this.cachedPatterns.set(o,_)),c&&(_.matrix=c),_}shadingFill(o){if(!this.contentVisible)return;const c=this.ctx;this.save();const _=this._getPattern(o);c.fillStyle=_.getPattern(c,this,(0,R.getCurrentTransformInverse)(c),rt.PathType.SHADING);const z=(0,R.getCurrentTransformInverse)(c);if(z){const{width:B,height:X}=c.canvas,[tt,mt,Tt,Ct]=l.Util.getAxialAlignedBoundingBox([0,0,B,X],z);this.ctx.fillRect(tt,mt,Tt-tt,Ct-mt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,l.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,l.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(o,c){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(o)&&o.length===6&&this.transform(...o),this.baseTransform=(0,R.getCurrentTransform)(this.ctx),c)){const _=c[2]-c[0],z=c[3]-c[1];this.ctx.rect(c[0],c[1],_,z),this.current.updateRectMinMax((0,R.getCurrentTransform)(this.ctx),c),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(o){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const c=this.ctx;o.isolated||(0,l.info)("TODO: Support non-isolated groups."),o.knockout&&(0,l.warn)("Knockout groups not supported.");const _=(0,R.getCurrentTransform)(c);if(o.matrix&&c.transform(...o.matrix),!o.bbox)throw new Error("Bounding box is required.");let z=l.Util.getAxialAlignedBoundingBox(o.bbox,(0,R.getCurrentTransform)(c));const B=[0,0,c.canvas.width,c.canvas.height];z=l.Util.intersect(z,B)||[0,0,0,0];const X=Math.floor(z[0]),tt=Math.floor(z[1]);let mt=Math.max(Math.ceil(z[2])-X,1),Tt=Math.max(Math.ceil(z[3])-tt,1),Ct=1,Lt=1;mt>A&&(Ct=mt/A,mt=A),Tt>A&&(Lt=Tt/A,Tt=A),this.current.startNewPathAndClipBox([0,0,mt,Tt]);let Nt="groupAt"+this.groupLevel;o.smask&&(Nt+="_smask_"+this.smaskCounter++%2);const jt=this.cachedCanvases.getCanvas(Nt,mt,Tt),dt=jt.context;dt.scale(1/Ct,1/Lt),dt.translate(-X,-tt),dt.transform(..._),o.smask?this.smaskStack.push({canvas:jt.canvas,context:dt,offsetX:X,offsetY:tt,scaleX:Ct,scaleY:Lt,subtype:o.smask.subtype,backdrop:o.smask.backdrop,transferMap:o.smask.transferMap||null,startTransformInverse:null}):(c.setTransform(1,0,0,1,0,0),c.translate(X,tt),c.scale(Ct,Lt),c.save()),p(c,dt),this.ctx=dt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(c),this.groupLevel++}endGroup(o){if(!this.contentVisible)return;this.groupLevel--;const c=this.ctx,_=this.groupStack.pop();if(this.ctx=_,this.ctx.imageSmoothingEnabled=!1,o.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const z=(0,R.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...z);const B=l.Util.getAxialAlignedBoundingBox([0,0,c.canvas.width,c.canvas.height],z);this.ctx.drawImage(c.canvas,0,0),this.ctx.restore(),this.compose(B)}}beginAnnotation(o,c,_,z,B){if(st(this,nt,Ac).call(this),b(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(c)&&c.length===4){const X=c[2]-c[0],tt=c[3]-c[1];if(B&&this.annotationCanvasMap){_=_.slice(),_[4]-=c[0],_[5]-=c[1],c=c.slice(),c[0]=c[1]=0,c[2]=X,c[3]=tt;const[mt,Tt]=l.Util.singularValueDecompose2dScale((0,R.getCurrentTransform)(this.ctx)),{viewportScale:Ct}=this,Lt=Math.ceil(X*this.outputScaleX*Ct),Nt=Math.ceil(tt*this.outputScaleY*Ct);this.annotationCanvas=this.canvasFactory.create(Lt,Nt);const{canvas:jt,context:dt}=this.annotationCanvas;this.annotationCanvasMap.set(o,jt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=dt,this.ctx.save(),this.ctx.setTransform(mt,0,0,-Tt,0,tt*Tt),b(this.ctx)}else b(this.ctx),this.ctx.rect(c[0],c[1],X,tt),this.ctx.clip(),this.endPath()}this.current=new E(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(..._),this.transform(...z)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),st(this,nt,Sc).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(o){if(!this.contentVisible)return;const c=o.count;o=this.getObject(o.data,o),o.count=c;const _=this.ctx,z=this.processingType3;if(z&&(z.compiled===void 0&&(z.compiled=d(o)),z.compiled)){z.compiled(_);return}const B=this._createMaskCanvas(o),X=B.canvas;_.save(),_.setTransform(1,0,0,1,0,0),_.drawImage(X,B.offsetX,B.offsetY),_.restore(),this.compose()}paintImageMaskXObjectRepeat(o,c,_=0,z=0,B,X){if(!this.contentVisible)return;o=this.getObject(o.data,o);const tt=this.ctx;tt.save();const mt=(0,R.getCurrentTransform)(tt);tt.transform(c,_,z,B,0,0);const Tt=this._createMaskCanvas(o);tt.setTransform(1,0,0,1,Tt.offsetX-mt[4],Tt.offsetY-mt[5]);for(let Ct=0,Lt=X.length;Ct<Lt;Ct+=2){const Nt=l.Util.transform(mt,[c,_,z,B,X[Ct],X[Ct+1]]),[jt,dt]=l.Util.applyTransform([0,0],Nt);tt.drawImage(Tt.canvas,jt,dt)}tt.restore(),this.compose()}paintImageMaskXObjectGroup(o){if(!this.contentVisible)return;const c=this.ctx,_=this.current.fillColor,z=this.current.patternFill;for(const B of o){const{data:X,width:tt,height:mt,transform:Tt}=B,Ct=this.cachedCanvases.getCanvas("maskCanvas",tt,mt),Lt=Ct.context;Lt.save();const Nt=this.getObject(X,B);k(Lt,Nt),Lt.globalCompositeOperation="source-in",Lt.fillStyle=z?_.getPattern(Lt,this,(0,R.getCurrentTransformInverse)(c),rt.PathType.FILL):_,Lt.fillRect(0,0,tt,mt),Lt.restore(),c.save(),c.transform(...Tt),c.scale(1,-1),C(c,Ct.canvas,0,0,tt,mt,0,-1,1,1),c.restore()}this.compose()}paintImageXObject(o){if(!this.contentVisible)return;const c=this.getObject(o);if(!c){(0,l.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(c)}paintImageXObjectRepeat(o,c,_,z){if(!this.contentVisible)return;const B=this.getObject(o);if(!B){(0,l.warn)("Dependent image isn't ready yet");return}const X=B.width,tt=B.height,mt=[];for(let Tt=0,Ct=z.length;Tt<Ct;Tt+=2)mt.push({transform:[c,0,0,_,z[Tt],z[Tt+1]],x:0,y:0,w:X,h:tt});this.paintInlineImageXObjectGroup(B,mt)}applyTransferMapsToCanvas(o){return this.current.transferMaps!=="none"&&(o.filter=this.current.transferMaps,o.drawImage(o.canvas,0,0),o.filter="none"),o.canvas}applyTransferMapsToBitmap(o){if(this.current.transferMaps==="none")return o.bitmap;const{bitmap:c,width:_,height:z}=o,B=this.cachedCanvases.getCanvas("inlineImage",_,z),X=B.context;return X.filter=this.current.transferMaps,X.drawImage(c,0,0),X.filter="none",B.canvas}paintInlineImageXObject(o){if(!this.contentVisible)return;const c=o.width,_=o.height,z=this.ctx;if(this.save(),!l.isNodeJS){const{filter:tt}=z;tt!=="none"&&tt!==""&&(z.filter="none")}z.scale(1/c,-1/_);let B;if(o.bitmap)B=this.applyTransferMapsToBitmap(o);else if(typeof HTMLElement=="function"&&o instanceof HTMLElement||!o.data)B=o;else{const mt=this.cachedCanvases.getCanvas("inlineImage",c,_).context;U(mt,o),B=this.applyTransferMapsToCanvas(mt)}const X=this._scaleImage(B,(0,R.getCurrentTransformInverse)(z));z.imageSmoothingEnabled=M((0,R.getCurrentTransform)(z),o.interpolate),C(z,X.img,0,0,X.paintWidth,X.paintHeight,0,-_,c,_),this.compose(),this.restore()}paintInlineImageXObjectGroup(o,c){if(!this.contentVisible)return;const _=this.ctx;let z;if(o.bitmap)z=o.bitmap;else{const B=o.width,X=o.height,mt=this.cachedCanvases.getCanvas("inlineImage",B,X).context;U(mt,o),z=this.applyTransferMapsToCanvas(mt)}for(const B of c)_.save(),_.transform(...B.transform),_.scale(1,-1),C(_,z,B.x,B.y,B.w,B.h,0,-1,1,1),_.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(o){}markPointProps(o,c){}beginMarkedContent(o){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(o,c){o==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(c)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(o){const c=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(o);const _=this.ctx;this.pendingClip&&(c||(this.pendingClip===w?_.clip("evenodd"):_.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),_.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const o=(0,R.getCurrentTransform)(this.ctx);if(o[1]===0&&o[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(o[0]),Math.abs(o[3]));else{const c=Math.abs(o[0]*o[3]-o[2]*o[1]),_=Math.hypot(o[0],o[2]),z=Math.hypot(o[1],o[3]);this._cachedGetSinglePixelWidth=Math.max(_,z)/c}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:o}=this.current,{a:c,b:_,c:z,d:B}=this.ctx.getTransform();let X,tt;if(_===0&&z===0){const mt=Math.abs(c),Tt=Math.abs(B);if(mt===Tt)if(o===0)X=tt=1/mt;else{const Ct=mt*o;X=tt=Ct<1?1/Ct:1}else if(o===0)X=1/mt,tt=1/Tt;else{const Ct=mt*o,Lt=Tt*o;X=Ct<1?1/Ct:1,tt=Lt<1?1/Lt:1}}else{const mt=Math.abs(c*B-_*z),Tt=Math.hypot(c,_),Ct=Math.hypot(z,B);if(o===0)X=Ct/mt,tt=Tt/mt;else{const Lt=o*mt;X=Ct>Lt?Ct/Lt:1,tt=Tt>Lt?Tt/Lt:1}}this._cachedScaleForStroking[0]=X,this._cachedScaleForStroking[1]=tt}return this._cachedScaleForStroking}rescaleAndStroke(o){const{ctx:c}=this,{lineWidth:_}=this.current,[z,B]=this.getScaleForStroking();if(c.lineWidth=_||1,z===1&&B===1){c.stroke();return}const X=c.getLineDash();if(o&&c.save(),c.scale(z,B),X.length>0){const tt=Math.max(z,B);c.setLineDash(X.map(mt=>mt/tt)),c.lineDashOffset/=tt}c.stroke(),o&&c.restore()}isContentVisible(){for(let o=this.markedContentStack.length-1;o>=0;o--)if(!this.markedContentStack[o].visible)return!1;return!0}};nt=new WeakSet,Ac=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Sc=function(){if(this.pageColors){const o=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(o!=="none"){const c=this.ctx.filter;this.ctx.filter=o,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=c}}};let I=S;m.CanvasGraphics=I;for(const g in l.OPS)I.prototype[g]!==void 0&&(I.prototype[l.OPS[g]]=I.prototype[g])}),((J,m,at)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TilingPattern=m.PathType=void 0,m.getShadingPattern=O;var l=at(1),R=at(6);const rt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};m.PathType=rt;function Q(d,E){if(!E)return;const U=E[2]-E[0],k=E[3]-E[1],p=new Path2D;p.rect(E[0],E[1],U,k),d.clip(p)}class _t{constructor(){this.constructor===_t&&(0,l.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,l.unreachable)("Abstract method `getPattern` called.")}}class F extends _t{constructor(E){super(),this._type=E[1],this._bbox=E[2],this._colorStops=E[3],this._p0=E[4],this._p1=E[5],this._r0=E[6],this._r1=E[7],this.matrix=null}_createGradient(E){let U;this._type==="axial"?U=E.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(U=E.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const k of this._colorStops)U.addColorStop(k[0],k[1]);return U}getPattern(E,U,k,p){let b;if(p===rt.STROKE||p===rt.FILL){const h=U.current.getClippedPathBoundingBox(p,(0,R.getCurrentTransform)(E))||[0,0,0,0],y=Math.ceil(h[2]-h[0])||1,v=Math.ceil(h[3]-h[1])||1,K=U.cachedCanvases.getCanvas("pattern",y,v,!0),f=K.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-h[0],-h[1]),k=l.Util.transform(k,[1,0,0,1,h[0],h[1]]),f.transform(...U.baseTransform),this.matrix&&f.transform(...this.matrix),Q(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),b=E.createPattern(K.canvas,"no-repeat");const M=new DOMMatrix(k);b.setTransform(M)}else Q(E,this._bbox),b=this._createGradient(E);return b}}function A(d,E,U,k,p,b,h,y){const v=E.coords,K=E.colors,f=d.data,M=d.width*4;let Y;v[U+1]>v[k+1]&&(Y=U,U=k,k=Y,Y=b,b=h,h=Y),v[k+1]>v[p+1]&&(Y=k,k=p,p=Y,Y=h,h=y,y=Y),v[U+1]>v[k+1]&&(Y=U,U=k,k=Y,Y=b,b=h,h=Y);const ht=(v[U]+E.offsetX)*E.scaleX,$=(v[U+1]+E.offsetY)*E.scaleY,w=(v[k]+E.offsetX)*E.scaleX,I=(v[k+1]+E.offsetY)*E.scaleY,nt=(v[p]+E.offsetX)*E.scaleX,j=(v[p+1]+E.offsetY)*E.scaleY;if($>=j)return;const Z=K[b],S=K[b+1],g=K[b+2],o=K[h],c=K[h+1],_=K[h+2],z=K[y],B=K[y+1],X=K[y+2],tt=Math.round($),mt=Math.round(j);let Tt,Ct,Lt,Nt,jt,dt,pt,L;for(let V=tt;V<=mt;V++){if(V<I){const Dt=V<$?0:($-V)/($-I);Tt=ht-(ht-w)*Dt,Ct=Z-(Z-o)*Dt,Lt=S-(S-c)*Dt,Nt=g-(g-_)*Dt}else{let Dt;V>j?Dt=1:I===j?Dt=0:Dt=(I-V)/(I-j),Tt=w-(w-nt)*Dt,Ct=o-(o-z)*Dt,Lt=c-(c-B)*Dt,Nt=_-(_-X)*Dt}let lt;V<$?lt=0:V>j?lt=1:lt=($-V)/($-j),jt=ht-(ht-nt)*lt,dt=Z-(Z-z)*lt,pt=S-(S-B)*lt,L=g-(g-X)*lt;const ft=Math.round(Math.min(Tt,jt)),Rt=Math.round(Math.max(Tt,jt));let zt=M*V+ft*4;for(let Dt=ft;Dt<=Rt;Dt++)lt=(Tt-Dt)/(Tt-jt),lt<0?lt=0:lt>1&&(lt=1),f[zt++]=Ct-(Ct-dt)*lt|0,f[zt++]=Lt-(Lt-pt)*lt|0,f[zt++]=Nt-(Nt-L)*lt|0,f[zt++]=255}}function x(d,E,U){const k=E.coords,p=E.colors;let b,h;switch(E.type){case"lattice":const y=E.verticesPerRow,v=Math.floor(k.length/y)-1,K=y-1;for(b=0;b<v;b++){let f=b*y;for(let M=0;M<K;M++,f++)A(d,U,k[f],k[f+1],k[f+y],p[f],p[f+1],p[f+y]),A(d,U,k[f+y+1],k[f+1],k[f+y],p[f+y+1],p[f+1],p[f+y])}break;case"triangles":for(b=0,h=k.length;b<h;b+=3)A(d,U,k[b],k[b+1],k[b+2],p[b],p[b+1],p[b+2]);break;default:throw new Error("illegal figure")}}class H extends _t{constructor(E){super(),this._coords=E[2],this._colors=E[3],this._figures=E[4],this._bounds=E[5],this._bbox=E[7],this._background=E[8],this.matrix=null}_createMeshCanvas(E,U,k){const y=Math.floor(this._bounds[0]),v=Math.floor(this._bounds[1]),K=Math.ceil(this._bounds[2])-y,f=Math.ceil(this._bounds[3])-v,M=Math.min(Math.ceil(Math.abs(K*E[0]*1.1)),3e3),Y=Math.min(Math.ceil(Math.abs(f*E[1]*1.1)),3e3),ht=K/M,$=f/Y,w={coords:this._coords,colors:this._colors,offsetX:-y,offsetY:-v,scaleX:1/ht,scaleY:1/$},I=M+4,nt=Y+4,j=k.getCanvas("mesh",I,nt,!1),Z=j.context,S=Z.createImageData(M,Y);if(U){const o=S.data;for(let c=0,_=o.length;c<_;c+=4)o[c]=U[0],o[c+1]=U[1],o[c+2]=U[2],o[c+3]=255}for(const o of this._figures)x(S,o,w);return Z.putImageData(S,2,2),{canvas:j.canvas,offsetX:y-2*ht,offsetY:v-2*$,scaleX:ht,scaleY:$}}getPattern(E,U,k,p){Q(E,this._bbox);let b;if(p===rt.SHADING)b=l.Util.singularValueDecompose2dScale((0,R.getCurrentTransform)(E));else if(b=l.Util.singularValueDecompose2dScale(U.baseTransform),this.matrix){const y=l.Util.singularValueDecompose2dScale(this.matrix);b=[b[0]*y[0],b[1]*y[1]]}const h=this._createMeshCanvas(b,p===rt.SHADING?null:this._background,U.cachedCanvases);return p!==rt.SHADING&&(E.setTransform(...U.baseTransform),this.matrix&&E.transform(...this.matrix)),E.translate(h.offsetX,h.offsetY),E.scale(h.scaleX,h.scaleY),E.createPattern(h.canvas,"no-repeat")}}class G extends _t{getPattern(){return"hotpink"}}function O(d){switch(d[0]){case"RadialAxial":return new F(d);case"Mesh":return new H(d);case"Dummy":return new G}throw new Error(`Unknown IR type: ${d[0]}`)}const T={COLORED:1,UNCOLORED:2},C=class C{constructor(E,U,k,p,b){this.operatorList=E[2],this.matrix=E[3]||[1,0,0,1,0,0],this.bbox=E[4],this.xstep=E[5],this.ystep=E[6],this.paintType=E[7],this.tilingType=E[8],this.color=U,this.ctx=k,this.canvasGraphicsFactory=p,this.baseTransform=b}createPatternCanvas(E){const U=this.operatorList,k=this.bbox,p=this.xstep,b=this.ystep,h=this.paintType,y=this.tilingType,v=this.color,K=this.canvasGraphicsFactory;(0,l.info)("TilingType: "+y);const f=k[0],M=k[1],Y=k[2],ht=k[3],$=l.Util.singularValueDecompose2dScale(this.matrix),w=l.Util.singularValueDecompose2dScale(this.baseTransform),I=[$[0]*w[0],$[1]*w[1]],nt=this.getSizeAndScale(p,this.ctx.canvas.width,I[0]),j=this.getSizeAndScale(b,this.ctx.canvas.height,I[1]),Z=E.cachedCanvases.getCanvas("pattern",nt.size,j.size,!0),S=Z.context,g=K.createCanvasGraphics(S);g.groupLevel=E.groupLevel,this.setFillAndStrokeStyleToContext(g,h,v);let o=f,c=M,_=Y,z=ht;return f<0&&(o=0,_+=Math.abs(f)),M<0&&(c=0,z+=Math.abs(M)),S.translate(-(nt.scale*o),-(j.scale*c)),g.transform(nt.scale,0,0,j.scale,0,0),S.save(),this.clipBbox(g,o,c,_,z),g.baseTransform=(0,R.getCurrentTransform)(g.ctx),g.executeOperatorList(U),g.endDrawing(),{canvas:Z.canvas,scaleX:nt.scale,scaleY:j.scale,offsetX:o,offsetY:c}}getSizeAndScale(E,U,k){E=Math.abs(E);const p=Math.max(C.MAX_PATTERN_SIZE,U);let b=Math.ceil(E*k);return b>=p?b=p:k=b/E,{scale:k,size:b}}clipBbox(E,U,k,p,b){const h=p-U,y=b-k;E.ctx.rect(U,k,h,y),E.current.updateRectMinMax((0,R.getCurrentTransform)(E.ctx),[U,k,p,b]),E.clip(),E.endPath()}setFillAndStrokeStyleToContext(E,U,k){const p=E.ctx,b=E.current;switch(U){case T.COLORED:const h=this.ctx;p.fillStyle=h.fillStyle,p.strokeStyle=h.strokeStyle,b.fillColor=h.fillStyle,b.strokeColor=h.strokeStyle;break;case T.UNCOLORED:const y=l.Util.makeHexColor(k[0],k[1],k[2]);p.fillStyle=y,p.strokeStyle=y,b.fillColor=y,b.strokeColor=y;break;default:throw new l.FormatError(`Unsupported paint type: ${U}`)}}getPattern(E,U,k,p){let b=k;p!==rt.SHADING&&(b=l.Util.transform(b,U.baseTransform),this.matrix&&(b=l.Util.transform(b,this.matrix)));const h=this.createPatternCanvas(U);let y=new DOMMatrix(b);y=y.translate(h.offsetX,h.offsetY),y=y.scale(1/h.scaleX,1/h.scaleY);const v=E.createPattern(h.canvas,"repeat");return v.setTransform(y),v}};De(C,"MAX_PATTERN_SIZE",3e3);let N=C;m.TilingPattern=N}),((J,m,at)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.convertBlackAndWhiteToRGBA=rt,m.convertToRGBA=R,m.grayToRGBA=_t;var l=at(1);function R(F){switch(F.kind){case l.ImageKind.GRAYSCALE_1BPP:return rt(F);case l.ImageKind.RGB_24BPP:return Q(F)}return null}function rt({src:F,srcPos:A=0,dest:x,width:H,height:G,nonBlackColor:O=4294967295,inverseDecode:T=!1}){const N=l.FeatureTest.isLittleEndian?4278190080:255,[C,d]=T?[O,N]:[N,O],E=H>>3,U=H&7,k=F.length;x=new Uint32Array(x.buffer);let p=0;for(let b=0;b<G;b++){for(const y=A+E;A<y;A++){const v=A<k?F[A]:255;x[p++]=v&128?d:C,x[p++]=v&64?d:C,x[p++]=v&32?d:C,x[p++]=v&16?d:C,x[p++]=v&8?d:C,x[p++]=v&4?d:C,x[p++]=v&2?d:C,x[p++]=v&1?d:C}if(U===0)continue;const h=A<k?F[A++]:255;for(let y=0;y<U;y++)x[p++]=h&1<<7-y?d:C}return{srcPos:A,destPos:p}}function Q({src:F,srcPos:A=0,dest:x,destPos:H=0,width:G,height:O}){let T=0;const N=F.length>>2,C=new Uint32Array(F.buffer,A,N);if(l.FeatureTest.isLittleEndian){for(;T<N-2;T+=3,H+=4){const d=C[T],E=C[T+1],U=C[T+2];x[H]=d|4278190080,x[H+1]=d>>>24|E<<8|4278190080,x[H+2]=E>>>16|U<<16|4278190080,x[H+3]=U>>>8|4278190080}for(let d=T*4,E=F.length;d<E;d+=3)x[H++]=F[d]|F[d+1]<<8|F[d+2]<<16|4278190080}else{for(;T<N-2;T+=3,H+=4){const d=C[T],E=C[T+1],U=C[T+2];x[H]=d|255,x[H+1]=d<<24|E>>>8|255,x[H+2]=E<<16|U>>>16|255,x[H+3]=U<<8|255}for(let d=T*4,E=F.length;d<E;d+=3)x[H++]=F[d]<<24|F[d+1]<<16|F[d+2]<<8|255}return{srcPos:A,destPos:H}}function _t(F,A){if(l.FeatureTest.isLittleEndian)for(let x=0,H=F.length;x<H;x++)A[x]=F[x]*65793|4278190080;else for(let x=0,H=F.length;x<H;x++)A[x]=F[x]*16843008|255}}),((J,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.GlobalWorkerOptions=void 0;const at=Object.create(null);m.GlobalWorkerOptions=at,at.workerPort=null,at.workerSrc=""}),((J,m,at)=>{var F,Hf,If,qr;Object.defineProperty(m,"__esModule",{value:!0}),m.MessageHandler=void 0;var l=at(1);const R={DATA:1,ERROR:2},rt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Q(G){switch(G instanceof Error||typeof G=="object"&&G!==null||(0,l.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),G.name){case"AbortException":return new l.AbortException(G.message);case"MissingPDFException":return new l.MissingPDFException(G.message);case"PasswordException":return new l.PasswordException(G.message,G.code);case"UnexpectedResponseException":return new l.UnexpectedResponseException(G.message,G.status);case"UnknownErrorException":return new l.UnknownErrorException(G.message,G.details);default:return new l.UnknownErrorException(G.message,G.toString())}}class _t{constructor(O,T,N){gt(this,F);this.sourceName=O,this.targetName=T,this.comObj=N,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=C=>{const d=C.data;if(d.targetName!==this.sourceName)return;if(d.stream){st(this,F,If).call(this,d);return}if(d.callback){const U=d.callbackId,k=this.callbackCapabilities[U];if(!k)throw new Error(`Cannot resolve callback ${U}`);if(delete this.callbackCapabilities[U],d.callback===R.DATA)k.resolve(d.data);else if(d.callback===R.ERROR)k.reject(Q(d.reason));else throw new Error("Unexpected callback case");return}const E=this.actionHandler[d.action];if(!E)throw new Error(`Unknown action from worker: ${d.action}`);if(d.callbackId){const U=this.sourceName,k=d.sourceName;new Promise(function(p){p(E(d.data))}).then(function(p){N.postMessage({sourceName:U,targetName:k,callback:R.DATA,callbackId:d.callbackId,data:p})},function(p){N.postMessage({sourceName:U,targetName:k,callback:R.ERROR,callbackId:d.callbackId,reason:Q(p)})});return}if(d.streamId){st(this,F,Hf).call(this,d);return}E(d.data)},N.addEventListener("message",this._onComObjOnMessage)}on(O,T){const N=this.actionHandler;if(N[O])throw new Error(`There is already an actionName called "${O}"`);N[O]=T}send(O,T,N){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:O,data:T},N)}sendWithPromise(O,T,N){const C=this.callbackId++,d=new l.PromiseCapability;this.callbackCapabilities[C]=d;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:O,callbackId:C,data:T},N)}catch(E){d.reject(E)}return d.promise}sendWithStream(O,T,N,C){const d=this.streamId++,E=this.sourceName,U=this.targetName,k=this.comObj;return new ReadableStream({start:p=>{const b=new l.PromiseCapability;return this.streamControllers[d]={controller:p,startCall:b,pullCall:null,cancelCall:null,isClosed:!1},k.postMessage({sourceName:E,targetName:U,action:O,streamId:d,data:T,desiredSize:p.desiredSize},C),b.promise},pull:p=>{const b=new l.PromiseCapability;return this.streamControllers[d].pullCall=b,k.postMessage({sourceName:E,targetName:U,stream:rt.PULL,streamId:d,desiredSize:p.desiredSize}),b.promise},cancel:p=>{(0,l.assert)(p instanceof Error,"cancel must have a valid reason");const b=new l.PromiseCapability;return this.streamControllers[d].cancelCall=b,this.streamControllers[d].isClosed=!0,k.postMessage({sourceName:E,targetName:U,stream:rt.CANCEL,streamId:d,reason:Q(p)}),b.promise}},N)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}F=new WeakSet,Hf=function(O){const T=O.streamId,N=this.sourceName,C=O.sourceName,d=this.comObj,E=this,U=this.actionHandler[O.action],k={enqueue(p,b=1,h){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=b,y>0&&this.desiredSize<=0&&(this.sinkCapability=new l.PromiseCapability,this.ready=this.sinkCapability.promise),d.postMessage({sourceName:N,targetName:C,stream:rt.ENQUEUE,streamId:T,chunk:p},h)},close(){this.isCancelled||(this.isCancelled=!0,d.postMessage({sourceName:N,targetName:C,stream:rt.CLOSE,streamId:T}),delete E.streamSinks[T])},error(p){(0,l.assert)(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,d.postMessage({sourceName:N,targetName:C,stream:rt.ERROR,streamId:T,reason:Q(p)}))},sinkCapability:new l.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:O.desiredSize,ready:null};k.sinkCapability.resolve(),k.ready=k.sinkCapability.promise,this.streamSinks[T]=k,new Promise(function(p){p(U(O.data,k))}).then(function(){d.postMessage({sourceName:N,targetName:C,stream:rt.START_COMPLETE,streamId:T,success:!0})},function(p){d.postMessage({sourceName:N,targetName:C,stream:rt.START_COMPLETE,streamId:T,reason:Q(p)})})},If=function(O){const T=O.streamId,N=this.sourceName,C=O.sourceName,d=this.comObj,E=this.streamControllers[T],U=this.streamSinks[T];switch(O.stream){case rt.START_COMPLETE:O.success?E.startCall.resolve():E.startCall.reject(Q(O.reason));break;case rt.PULL_COMPLETE:O.success?E.pullCall.resolve():E.pullCall.reject(Q(O.reason));break;case rt.PULL:if(!U){d.postMessage({sourceName:N,targetName:C,stream:rt.PULL_COMPLETE,streamId:T,success:!0});break}U.desiredSize<=0&&O.desiredSize>0&&U.sinkCapability.resolve(),U.desiredSize=O.desiredSize,new Promise(function(k){var p;k((p=U.onPull)==null?void 0:p.call(U))}).then(function(){d.postMessage({sourceName:N,targetName:C,stream:rt.PULL_COMPLETE,streamId:T,success:!0})},function(k){d.postMessage({sourceName:N,targetName:C,stream:rt.PULL_COMPLETE,streamId:T,reason:Q(k)})});break;case rt.ENQUEUE:if((0,l.assert)(E,"enqueue should have stream controller"),E.isClosed)break;E.controller.enqueue(O.chunk);break;case rt.CLOSE:if((0,l.assert)(E,"close should have stream controller"),E.isClosed)break;E.isClosed=!0,E.controller.close(),st(this,F,qr).call(this,E,T);break;case rt.ERROR:(0,l.assert)(E,"error should have stream controller"),E.controller.error(Q(O.reason)),st(this,F,qr).call(this,E,T);break;case rt.CANCEL_COMPLETE:O.success?E.cancelCall.resolve():E.cancelCall.reject(Q(O.reason)),st(this,F,qr).call(this,E,T);break;case rt.CANCEL:if(!U)break;new Promise(function(k){var p;k((p=U.onCancel)==null?void 0:p.call(U,Q(O.reason)))}).then(function(){d.postMessage({sourceName:N,targetName:C,stream:rt.CANCEL_COMPLETE,streamId:T,success:!0})},function(k){d.postMessage({sourceName:N,targetName:C,stream:rt.CANCEL_COMPLETE,streamId:T,reason:Q(k)})}),U.sinkCapability.reject(Q(O.reason)),U.isCancelled=!0,delete this.streamSinks[T];break;default:throw new Error("Unexpected stream case")}},qr=async function(O,T){var N,C,d;await Promise.allSettled([(N=O.startCall)==null?void 0:N.promise,(C=O.pullCall)==null?void 0:C.promise,(d=O.cancelCall)==null?void 0:d.promise]),delete this.streamControllers[T]},m.MessageHandler=_t}),((J,m,at)=>{var rt,Q;Object.defineProperty(m,"__esModule",{value:!0}),m.Metadata=void 0;var l=at(1);class R{constructor({parsedData:F,rawData:A}){gt(this,rt);gt(this,Q);yt(this,rt,F),yt(this,Q,A)}getRaw(){return r(this,Q)}get(F){return r(this,rt).get(F)??null}getAll(){return(0,l.objectFromMap)(r(this,rt))}has(F){return r(this,rt).has(F)}}rt=new WeakMap,Q=new WeakMap,m.Metadata=R}),((J,m,at)=>{var F,A,x,H,G,O,Ec;Object.defineProperty(m,"__esModule",{value:!0}),m.OptionalContentConfig=void 0;var l=at(1),R=at(8);const rt=Symbol("INTERNAL");class Q{constructor(C,d){gt(this,F,!0);this.name=C,this.intent=d}get visible(){return r(this,F)}_setVisible(C,d){C!==rt&&(0,l.unreachable)("Internal method `_setVisible` called."),yt(this,F,d)}}F=new WeakMap;class _t{constructor(C){gt(this,O);gt(this,A,null);gt(this,x,new Map);gt(this,H,null);gt(this,G,null);if(this.name=null,this.creator=null,C!==null){this.name=C.name,this.creator=C.creator,yt(this,G,C.order);for(const d of C.groups)r(this,x).set(d.id,new Q(d.name,d.intent));if(C.baseState==="OFF")for(const d of r(this,x).values())d._setVisible(rt,!1);for(const d of C.on)r(this,x).get(d)._setVisible(rt,!0);for(const d of C.off)r(this,x).get(d)._setVisible(rt,!1);yt(this,H,this.getHash())}}isVisible(C){if(r(this,x).size===0)return!0;if(!C)return(0,l.warn)("Optional content group not defined."),!0;if(C.type==="OCG")return r(this,x).has(C.id)?r(this,x).get(C.id).visible:((0,l.warn)(`Optional content group not found: ${C.id}`),!0);if(C.type==="OCMD"){if(C.expression)return st(this,O,Ec).call(this,C.expression);if(!C.policy||C.policy==="AnyOn"){for(const d of C.ids){if(!r(this,x).has(d))return(0,l.warn)(`Optional content group not found: ${d}`),!0;if(r(this,x).get(d).visible)return!0}return!1}else if(C.policy==="AllOn"){for(const d of C.ids){if(!r(this,x).has(d))return(0,l.warn)(`Optional content group not found: ${d}`),!0;if(!r(this,x).get(d).visible)return!1}return!0}else if(C.policy==="AnyOff"){for(const d of C.ids){if(!r(this,x).has(d))return(0,l.warn)(`Optional content group not found: ${d}`),!0;if(!r(this,x).get(d).visible)return!0}return!1}else if(C.policy==="AllOff"){for(const d of C.ids){if(!r(this,x).has(d))return(0,l.warn)(`Optional content group not found: ${d}`),!0;if(r(this,x).get(d).visible)return!1}return!0}return(0,l.warn)(`Unknown optional content policy ${C.policy}.`),!0}return(0,l.warn)(`Unknown group type ${C.type}.`),!0}setVisibility(C,d=!0){if(!r(this,x).has(C)){(0,l.warn)(`Optional content group not found: ${C}`);return}r(this,x).get(C)._setVisible(rt,!!d),yt(this,A,null)}get hasInitialVisibility(){return r(this,H)===null||this.getHash()===r(this,H)}getOrder(){return r(this,x).size?r(this,G)?r(this,G).slice():[...r(this,x).keys()]:null}getGroups(){return r(this,x).size>0?(0,l.objectFromMap)(r(this,x)):null}getGroup(C){return r(this,x).get(C)||null}getHash(){if(r(this,A)!==null)return r(this,A);const C=new R.MurmurHash3_64;for(const[d,E]of r(this,x))C.update(`${d}:${E.visible}`);return yt(this,A,C.hexdigest())}}A=new WeakMap,x=new WeakMap,H=new WeakMap,G=new WeakMap,O=new WeakSet,Ec=function(C){const d=C.length;if(d<2)return!0;const E=C[0];for(let U=1;U<d;U++){const k=C[U];let p;if(Array.isArray(k))p=st(this,O,Ec).call(this,k);else if(r(this,x).has(k))p=r(this,x).get(k).visible;else return(0,l.warn)(`Optional content group not found: ${k}`),!0;switch(E){case"And":if(!p)return!1;break;case"Or":if(p)return!0;break;case"Not":return!p;default:return!0}}return E==="And"},m.OptionalContentConfig=_t}),((J,m,at)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFDataTransportStream=void 0;var l=at(1),R=at(6);class rt{constructor({length:A,initialData:x,progressiveDone:H=!1,contentDispositionFilename:G=null,disableRange:O=!1,disableStream:T=!1},N){if((0,l.assert)(N,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=H,this._contentDispositionFilename=G,(x==null?void 0:x.length)>0){const C=x instanceof Uint8Array&&x.byteLength===x.buffer.byteLength?x.buffer:new Uint8Array(x).buffer;this._queuedChunks.push(C)}this._pdfDataRangeTransport=N,this._isStreamingSupported=!T,this._isRangeSupported=!O,this._contentLength=A,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((C,d)=>{this._onReceiveData({begin:C,chunk:d})}),this._pdfDataRangeTransport.addProgressListener((C,d)=>{this._onProgress({loaded:C,total:d})}),this._pdfDataRangeTransport.addProgressiveReadListener(C=>{this._onReceiveData({chunk:C})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:A,chunk:x}){const H=x instanceof Uint8Array&&x.byteLength===x.buffer.byteLength?x.buffer:new Uint8Array(x).buffer;if(A===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(H):this._queuedChunks.push(H);else{const G=this._rangeReaders.some(function(O){return O._begin!==A?!1:(O._enqueue(H),!0)});(0,l.assert)(G,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var A;return((A=this._fullRequestReader)==null?void 0:A._loaded)??0}_onProgress(A){var x,H,G,O;A.total===void 0?(H=(x=this._rangeReaders[0])==null?void 0:x.onProgress)==null||H.call(x,{loaded:A.loaded}):(O=(G=this._fullRequestReader)==null?void 0:G.onProgress)==null||O.call(G,{loaded:A.loaded,total:A.total})}_onProgressiveDone(){var A;(A=this._fullRequestReader)==null||A.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(A){const x=this._rangeReaders.indexOf(A);x>=0&&this._rangeReaders.splice(x,1)}getFullReader(){(0,l.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const A=this._queuedChunks;return this._queuedChunks=null,new Q(this,A,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(A,x){if(x<=this._progressiveDataLength)return null;const H=new _t(this,A,x);return this._pdfDataRangeTransport.requestDataRange(A,x),this._rangeReaders.push(H),H}cancelAllRequests(A){var x;(x=this._fullRequestReader)==null||x.cancel(A);for(const H of this._rangeReaders.slice(0))H.cancel(A);this._pdfDataRangeTransport.abort()}}m.PDFDataTransportStream=rt;class Q{constructor(A,x,H=!1,G=null){this._stream=A,this._done=H||!1,this._filename=(0,R.isPdfFile)(G)?G:null,this._queuedChunks=x||[],this._loaded=0;for(const O of this._queuedChunks)this._loaded+=O.byteLength;this._requests=[],this._headersReady=Promise.resolve(),A._fullRequestReader=this,this.onProgress=null}_enqueue(A){this._done||(this._requests.length>0?this._requests.shift().resolve({value:A,done:!1}):this._queuedChunks.push(A),this._loaded+=A.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const A=new l.PromiseCapability;return this._requests.push(A),A.promise}cancel(A){this._done=!0;for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _t{constructor(A,x,H){this._stream=A,this._begin=x,this._end=H,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(A){if(!this._done){if(this._requests.length===0)this._queuedChunk=A;else{this._requests.shift().resolve({value:A,done:!1});for(const H of this._requests)H.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const x=this._queuedChunk;return this._queuedChunk=null,{value:x,done:!1}}if(this._done)return{value:void 0,done:!0};const A=new l.PromiseCapability;return this._requests.push(A),A.promise}cancel(A){this._done=!0;for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((J,m,at)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFFetchStream=void 0;var l=at(1),R=at(20);function rt(H,G,O){return{method:"GET",headers:H,signal:O.signal,mode:"cors",credentials:G?"include":"same-origin",redirect:"follow"}}function Q(H){const G=new Headers;for(const O in H){const T=H[O];T!==void 0&&G.append(O,T)}return G}function _t(H){return H instanceof Uint8Array?H.buffer:H instanceof ArrayBuffer?H:((0,l.warn)(`getArrayBuffer - unexpected data format: ${H}`),new Uint8Array(H).buffer)}class F{constructor(G){this.source=G,this.isHttp=/^https?:/i.test(G.url),this.httpHeaders=this.isHttp&&G.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var G;return((G=this._fullRequestReader)==null?void 0:G._loaded)??0}getFullReader(){return(0,l.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new A(this),this._fullRequestReader}getRangeReader(G,O){if(O<=this._progressiveDataLength)return null;const T=new x(this,G,O);return this._rangeRequestReaders.push(T),T}cancelAllRequests(G){var O;(O=this._fullRequestReader)==null||O.cancel(G);for(const T of this._rangeRequestReaders.slice(0))T.cancel(G)}}m.PDFFetchStream=F;class A{constructor(G){this._stream=G,this._reader=null,this._loaded=0,this._filename=null;const O=G.source;this._withCredentials=O.withCredentials||!1,this._contentLength=O.length,this._headersCapability=new l.PromiseCapability,this._disableRange=O.disableRange||!1,this._rangeChunkSize=O.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!O.disableStream,this._isRangeSupported=!O.disableRange,this._headers=Q(this._stream.httpHeaders);const T=O.url;fetch(T,rt(this._headers,this._withCredentials,this._abortController)).then(N=>{if(!(0,R.validateResponseStatus)(N.status))throw(0,R.createResponseStatusError)(N.status,T);this._reader=N.body.getReader(),this._headersCapability.resolve();const C=U=>N.headers.get(U),{allowRangeRequests:d,suggestedLength:E}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:C,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=E||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(C),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new l.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var T;await this._headersCapability.promise;const{value:G,done:O}=await this._reader.read();return O?{value:G,done:O}:(this._loaded+=G.byteLength,(T=this.onProgress)==null||T.call(this,{loaded:this._loaded,total:this._contentLength}),{value:_t(G),done:!1})}cancel(G){var O;(O=this._reader)==null||O.cancel(G),this._abortController.abort()}}class x{constructor(G,O,T){this._stream=G,this._reader=null,this._loaded=0;const N=G.source;this._withCredentials=N.withCredentials||!1,this._readCapability=new l.PromiseCapability,this._isStreamingSupported=!N.disableStream,this._abortController=new AbortController,this._headers=Q(this._stream.httpHeaders),this._headers.append("Range",`bytes=${O}-${T-1}`);const C=N.url;fetch(C,rt(this._headers,this._withCredentials,this._abortController)).then(d=>{if(!(0,R.validateResponseStatus)(d.status))throw(0,R.createResponseStatusError)(d.status,C);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var T;await this._readCapability.promise;const{value:G,done:O}=await this._reader.read();return O?{value:G,done:O}:(this._loaded+=G.byteLength,(T=this.onProgress)==null||T.call(this,{loaded:this._loaded}),{value:_t(G),done:!1})}cancel(G){var O;(O=this._reader)==null||O.cancel(G),this._abortController.abort()}}}),((J,m,at)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.createResponseStatusError=F,m.extractFilenameFromHeader=_t,m.validateRangeRequestCapabilities=Q,m.validateResponseStatus=A;var l=at(1),R=at(21),rt=at(6);function Q({getResponseHeader:x,isHttp:H,rangeChunkSize:G,disableRange:O}){const T={allowRangeRequests:!1,suggestedLength:void 0},N=parseInt(x("Content-Length"),10);return!Number.isInteger(N)||(T.suggestedLength=N,N<=2*G)||O||!H||x("Accept-Ranges")!=="bytes"||(x("Content-Encoding")||"identity")!=="identity"||(T.allowRangeRequests=!0),T}function _t(x){const H=x("Content-Disposition");if(H){let G=(0,R.getFilenameFromContentDispositionHeader)(H);if(G.includes("%"))try{G=decodeURIComponent(G)}catch{}if((0,rt.isPdfFile)(G))return G}return null}function F(x,H){return x===404||x===0&&H.startsWith("file:")?new l.MissingPDFException('Missing PDF "'+H+'".'):new l.UnexpectedResponseException(`Unexpected server response (${x}) while retrieving PDF "${H}".`,x)}function A(x){return x===200||x===206}}),((J,m,at)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.getFilenameFromContentDispositionHeader=R;var l=at(1);function R(rt){let Q=!0,_t=F("filename\\*","i").exec(rt);if(_t){_t=_t[1];let N=G(_t);return N=unescape(N),N=O(N),N=T(N),x(N)}if(_t=H(rt),_t){const N=T(_t);return x(N)}if(_t=F("filename","i").exec(rt),_t){_t=_t[1];let N=G(_t);return N=T(N),x(N)}function F(N,C){return new RegExp("(?:^|;)\\s*"+N+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',C)}function A(N,C){if(N){if(!/^[\x00-\xFF]+$/.test(C))return C;try{const d=new TextDecoder(N,{fatal:!0}),E=(0,l.stringToBytes)(C);C=d.decode(E),Q=!1}catch{}}return C}function x(N){return Q&&/[\x80-\xff]/.test(N)&&(N=A("utf-8",N),Q&&(N=A("iso-8859-1",N))),N}function H(N){const C=[];let d;const E=F("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(d=E.exec(N))!==null;){let[,k,p,b]=d;if(k=parseInt(k,10),k in C){if(k===0)break;continue}C[k]=[p,b]}const U=[];for(let k=0;k<C.length&&k in C;++k){let[p,b]=C[k];b=G(b),p&&(b=unescape(b),k===0&&(b=O(b))),U.push(b)}return U.join("")}function G(N){if(N.startsWith('"')){const C=N.slice(1).split('\\"');for(let d=0;d<C.length;++d){const E=C[d].indexOf('"');E!==-1&&(C[d]=C[d].slice(0,E),C.length=d+1),C[d]=C[d].replaceAll(/\\(.)/g,"$1")}N=C.join('"')}return N}function O(N){const C=N.indexOf("'");if(C===-1)return N;const d=N.slice(0,C),U=N.slice(C+1).replace(/^[^']*'/,"");return A(d,U)}function T(N){return!N.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(N)?N:N.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(C,d,E,U){if(E==="q"||E==="Q")return U=U.replaceAll("_"," "),U=U.replaceAll(/=([0-9a-fA-F]{2})/g,function(k,p){return String.fromCharCode(parseInt(p,16))}),A(d,U);try{U=atob(U)}catch{}return A(d,U)})}return""}}),((J,m,at)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFNetworkStream=void 0;var l=at(1),R=at(20);const rt=200,Q=206;function _t(G){const O=G.response;return typeof O!="string"?O:(0,l.stringToBytes)(O).buffer}class F{constructor(O,T={}){this.url=O,this.isHttp=/^https?:/i.test(O),this.httpHeaders=this.isHttp&&T.httpHeaders||Object.create(null),this.withCredentials=T.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(O,T,N){const C={begin:O,end:T};for(const d in N)C[d]=N[d];return this.request(C)}requestFull(O){return this.request(O)}request(O){const T=new XMLHttpRequest,N=this.currXhrId++,C=this.pendingRequests[N]={xhr:T};T.open("GET",this.url),T.withCredentials=this.withCredentials;for(const d in this.httpHeaders){const E=this.httpHeaders[d];E!==void 0&&T.setRequestHeader(d,E)}return this.isHttp&&"begin"in O&&"end"in O?(T.setRequestHeader("Range",`bytes=${O.begin}-${O.end-1}`),C.expectedStatus=Q):C.expectedStatus=rt,T.responseType="arraybuffer",O.onError&&(T.onerror=function(d){O.onError(T.status)}),T.onreadystatechange=this.onStateChange.bind(this,N),T.onprogress=this.onProgress.bind(this,N),C.onHeadersReceived=O.onHeadersReceived,C.onDone=O.onDone,C.onError=O.onError,C.onProgress=O.onProgress,T.send(null),N}onProgress(O,T){var C;const N=this.pendingRequests[O];N&&((C=N.onProgress)==null||C.call(N,T))}onStateChange(O,T){var k,p,b;const N=this.pendingRequests[O];if(!N)return;const C=N.xhr;if(C.readyState>=2&&N.onHeadersReceived&&(N.onHeadersReceived(),delete N.onHeadersReceived),C.readyState!==4||!(O in this.pendingRequests))return;if(delete this.pendingRequests[O],C.status===0&&this.isHttp){(k=N.onError)==null||k.call(N,C.status);return}const d=C.status||rt;if(!(d===rt&&N.expectedStatus===Q)&&d!==N.expectedStatus){(p=N.onError)==null||p.call(N,C.status);return}const U=_t(C);if(d===Q){const h=C.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);N.onDone({begin:parseInt(y[1],10),chunk:U})}else U?N.onDone({begin:0,chunk:U}):(b=N.onError)==null||b.call(N,C.status)}getRequestXhr(O){return this.pendingRequests[O].xhr}isPendingRequest(O){return O in this.pendingRequests}abortRequest(O){const T=this.pendingRequests[O].xhr;delete this.pendingRequests[O],T.abort()}}class A{constructor(O){this._source=O,this._manager=new F(O.url,{httpHeaders:O.httpHeaders,withCredentials:O.withCredentials}),this._rangeChunkSize=O.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(O){const T=this._rangeRequestReaders.indexOf(O);T>=0&&this._rangeRequestReaders.splice(T,1)}getFullReader(){return(0,l.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new x(this._manager,this._source),this._fullRequestReader}getRangeReader(O,T){const N=new H(this._manager,O,T);return N.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(N),N}cancelAllRequests(O){var T;(T=this._fullRequestReader)==null||T.cancel(O);for(const N of this._rangeRequestReaders.slice(0))N.cancel(O)}}m.PDFNetworkStream=A;class x{constructor(O,T){this._manager=O;const N={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=T.url,this._fullRequestId=O.requestFull(N),this._headersReceivedCapability=new l.PromiseCapability,this._disableRange=T.disableRange||!1,this._contentLength=T.length,this._rangeChunkSize=T.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const O=this._fullRequestId,T=this._manager.getRequestXhr(O),N=E=>T.getResponseHeader(E),{allowRangeRequests:C,suggestedLength:d}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:N,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});C&&(this._isRangeSupported=!0),this._contentLength=d||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(N),this._isRangeSupported&&this._manager.abortRequest(O),this._headersReceivedCapability.resolve()}_onDone(O){if(O&&(this._requests.length>0?this._requests.shift().resolve({value:O.chunk,done:!1}):this._cachedChunks.push(O.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(O){this._storedError=(0,R.createResponseStatusError)(O,this._url),this._headersReceivedCapability.reject(this._storedError);for(const T of this._requests)T.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(O){var T;(T=this.onProgress)==null||T.call(this,{loaded:O.loaded,total:O.lengthComputable?O.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const O=new l.PromiseCapability;return this._requests.push(O),O.promise}cancel(O){this._done=!0,this._headersReceivedCapability.reject(O);for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class H{constructor(O,T,N){this._manager=O;const C={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=O.url,this._requestId=O.requestRange(T,N,C),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var O;(O=this.onClosed)==null||O.call(this,this)}_onDone(O){const T=O.chunk;this._requests.length>0?this._requests.shift().resolve({value:T,done:!1}):this._queuedChunk=T,this._done=!0;for(const N of this._requests)N.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(O){this._storedError=(0,R.createResponseStatusError)(O,this._url);for(const T of this._requests)T.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(O){var T;this.isStreamingSupported||(T=this.onProgress)==null||T.call(this,{loaded:O.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const T=this._queuedChunk;return this._queuedChunk=null,{value:T,done:!1}}if(this._done)return{value:void 0,done:!0};const O=new l.PromiseCapability;return this._requests.push(O),O.promise}cancel(O){this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((J,m,at)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFNodeStream=void 0;var l=at(1),R=at(20);const rt=/^file:\/\/\/[a-zA-Z]:\//;function Q(N){const C=require$$5,d=C.parse(N);return d.protocol==="file:"||d.host?d:/^[a-z]:[/\\]/i.test(N)?C.parse(`file:///${N}`):(d.host||(d.protocol="file:"),d)}class _t{constructor(C){this.source=C,this.url=Q(C.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&C.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var C;return((C=this._fullRequestReader)==null?void 0:C._loaded)??0}getFullReader(){return(0,l.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new O(this):new H(this),this._fullRequestReader}getRangeReader(C,d){if(d<=this._progressiveDataLength)return null;const E=this.isFsUrl?new T(this,C,d):new G(this,C,d);return this._rangeRequestReaders.push(E),E}cancelAllRequests(C){var d;(d=this._fullRequestReader)==null||d.cancel(C);for(const E of this._rangeRequestReaders.slice(0))E.cancel(C)}}m.PDFNodeStream=_t;class F{constructor(C){this._url=C.url,this._done=!1,this._storedError=null,this.onProgress=null;const d=C.source;this._contentLength=d.length,this._loaded=0,this._filename=null,this._disableRange=d.disableRange||!1,this._rangeChunkSize=d.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!d.disableStream,this._isRangeSupported=!d.disableRange,this._readableStream=null,this._readCapability=new l.PromiseCapability,this._headersCapability=new l.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var E;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const C=this._readableStream.read();return C===null?(this._readCapability=new l.PromiseCapability,this.read()):(this._loaded+=C.length,(E=this.onProgress)==null||E.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(C).buffer,done:!1})}cancel(C){if(!this._readableStream){this._error(C);return}this._readableStream.destroy(C)}_error(C){this._storedError=C,this._readCapability.resolve()}_setReadableStream(C){this._readableStream=C,C.on("readable",()=>{this._readCapability.resolve()}),C.on("end",()=>{C.destroy(),this._done=!0,this._readCapability.resolve()}),C.on("error",d=>{this._error(d)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new l.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class A{constructor(C){this._url=C.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new l.PromiseCapability;const d=C.source;this._isStreamingSupported=!d.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var E;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const C=this._readableStream.read();return C===null?(this._readCapability=new l.PromiseCapability,this.read()):(this._loaded+=C.length,(E=this.onProgress)==null||E.call(this,{loaded:this._loaded}),{value:new Uint8Array(C).buffer,done:!1})}cancel(C){if(!this._readableStream){this._error(C);return}this._readableStream.destroy(C)}_error(C){this._storedError=C,this._readCapability.resolve()}_setReadableStream(C){this._readableStream=C,C.on("readable",()=>{this._readCapability.resolve()}),C.on("end",()=>{C.destroy(),this._done=!0,this._readCapability.resolve()}),C.on("error",d=>{this._error(d)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function x(N,C){return{protocol:N.protocol,auth:N.auth,host:N.hostname,port:N.port,path:N.path,method:"GET",headers:C}}class H extends F{constructor(C){super(C);const d=E=>{if(E.statusCode===404){const b=new l.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=b,this._headersCapability.reject(b);return}this._headersCapability.resolve(),this._setReadableStream(E);const U=b=>this._readableStream.headers[b.toLowerCase()],{allowRangeRequests:k,suggestedLength:p}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:U,isHttp:C.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=k,this._contentLength=p||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(U)};if(this._request=null,this._url.protocol==="http:"){const E=require$$5;this._request=E.request(x(this._url,C.httpHeaders),d)}else{const E=require$$5;this._request=E.request(x(this._url,C.httpHeaders),d)}this._request.on("error",E=>{this._storedError=E,this._headersCapability.reject(E)}),this._request.end()}}class G extends A{constructor(C,d,E){super(C),this._httpHeaders={};for(const k in C.httpHeaders){const p=C.httpHeaders[k];p!==void 0&&(this._httpHeaders[k]=p)}this._httpHeaders.Range=`bytes=${d}-${E-1}`;const U=k=>{if(k.statusCode===404){const p=new l.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=p;return}this._setReadableStream(k)};if(this._request=null,this._url.protocol==="http:"){const k=require$$5;this._request=k.request(x(this._url,this._httpHeaders),U)}else{const k=require$$5;this._request=k.request(x(this._url,this._httpHeaders),U)}this._request.on("error",k=>{this._storedError=k}),this._request.end()}}class O extends F{constructor(C){super(C);let d=decodeURIComponent(this._url.path);rt.test(this._url.href)&&(d=d.replace(/^\//,""));const E=require$$5;E.lstat(d,(U,k)=>{if(U){U.code==="ENOENT"&&(U=new l.MissingPDFException(`Missing PDF "${d}".`)),this._storedError=U,this._headersCapability.reject(U);return}this._contentLength=k.size,this._setReadableStream(E.createReadStream(d)),this._headersCapability.resolve()})}}class T extends A{constructor(C,d,E){super(C);let U=decodeURIComponent(this._url.path);rt.test(this._url.href)&&(U=U.replace(/^\//,""));const k=require$$5;this._setReadableStream(k.createReadStream(U,{start:d,end:E-1}))}}}),((J,m,at)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.SVGGraphics=void 0;var l=at(6),R=at(1);const rt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Q="http://www.w3.org/XML/1998/namespace",_t="http://www.w3.org/1999/xlink",F=["butt","round","square"],A=["miter","round","bevel"],x=function(k,p="",b=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!b)return URL.createObjectURL(new Blob([k],{type:p}));const h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let y=`data:${p};base64,`;for(let v=0,K=k.length;v<K;v+=3){const f=k[v]&255,M=k[v+1]&255,Y=k[v+2]&255,ht=f>>2,$=(f&3)<<4|M>>4,w=v+1<K?(M&15)<<2|Y>>6:64,I=v+2<K?Y&63:64;y+=h[ht]+h[$]+h[w]+h[I]}return y},H=(function(){const k=new Uint8Array([137,80,78,71,13,10,26,10]),p=12,b=new Int32Array(256);for(let Y=0;Y<256;Y++){let ht=Y;for(let $=0;$<8;$++)ht=ht&1?3988292384^ht>>1&2147483647:ht>>1&2147483647;b[Y]=ht}function h(Y,ht,$){let w=-1;for(let I=ht;I<$;I++){const nt=(w^Y[I])&255,j=b[nt];w=w>>>8^j}return w^-1}function y(Y,ht,$,w){let I=w;const nt=ht.length;$[I]=nt>>24&255,$[I+1]=nt>>16&255,$[I+2]=nt>>8&255,$[I+3]=nt&255,I+=4,$[I]=Y.charCodeAt(0)&255,$[I+1]=Y.charCodeAt(1)&255,$[I+2]=Y.charCodeAt(2)&255,$[I+3]=Y.charCodeAt(3)&255,I+=4,$.set(ht,I),I+=ht.length;const j=h($,w+4,I);$[I]=j>>24&255,$[I+1]=j>>16&255,$[I+2]=j>>8&255,$[I+3]=j&255}function v(Y,ht,$){let w=1,I=0;for(let nt=ht;nt<$;++nt)w=(w+(Y[nt]&255))%65521,I=(I+w)%65521;return I<<16|w}function K(Y){if(!R.isNodeJS)return f(Y);try{const ht=parseInt(process.versions.node)>=8?Y:Buffer.from(Y),$=require$$5.deflateSync(ht,{level:9});return $ instanceof Uint8Array?$:new Uint8Array($)}catch(ht){(0,R.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ht)}return f(Y)}function f(Y){let ht=Y.length;const $=65535,w=Math.ceil(ht/$),I=new Uint8Array(2+ht+w*5+4);let nt=0;I[nt++]=120,I[nt++]=156;let j=0;for(;ht>$;)I[nt++]=0,I[nt++]=255,I[nt++]=255,I[nt++]=0,I[nt++]=0,I.set(Y.subarray(j,j+$),nt),nt+=$,j+=$,ht-=$;I[nt++]=1,I[nt++]=ht&255,I[nt++]=ht>>8&255,I[nt++]=~ht&65535&255,I[nt++]=(~ht&65535)>>8&255,I.set(Y.subarray(j),nt),nt+=Y.length-j;const Z=v(Y,0,Y.length);return I[nt++]=Z>>24&255,I[nt++]=Z>>16&255,I[nt++]=Z>>8&255,I[nt++]=Z&255,I}function M(Y,ht,$,w){const I=Y.width,nt=Y.height;let j,Z,S;const g=Y.data;switch(ht){case R.ImageKind.GRAYSCALE_1BPP:Z=0,j=1,S=I+7>>3;break;case R.ImageKind.RGB_24BPP:Z=2,j=8,S=I*3;break;case R.ImageKind.RGBA_32BPP:Z=6,j=8,S=I*4;break;default:throw new Error("invalid format")}const o=new Uint8Array((1+S)*nt);let c=0,_=0;for(let Tt=0;Tt<nt;++Tt)o[c++]=0,o.set(g.subarray(_,_+S),c),_+=S,c+=S;if(ht===R.ImageKind.GRAYSCALE_1BPP&&w){c=0;for(let Tt=0;Tt<nt;Tt++){c++;for(let Ct=0;Ct<S;Ct++)o[c++]^=255}}const z=new Uint8Array([I>>24&255,I>>16&255,I>>8&255,I&255,nt>>24&255,nt>>16&255,nt>>8&255,nt&255,j,Z,0,0,0]),B=K(o),X=k.length+p*3+z.length+B.length,tt=new Uint8Array(X);let mt=0;return tt.set(k,mt),mt+=k.length,y("IHDR",z,tt,mt),mt+=p+z.length,y("IDATA",B,tt,mt),mt+=p+B.length,y("IEND",new Uint8Array(0),tt,mt),x(tt,"image/png",$)}return function(ht,$,w){const I=ht.kind===void 0?R.ImageKind.GRAYSCALE_1BPP:ht.kind;return M(ht,I,$,w)}})();class G{constructor(){this.fontSizeScale=1,this.fontWeight=rt.fontWeight,this.fontSize=0,this.textMatrix=R.IDENTITY_MATRIX,this.fontMatrix=R.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=R.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=rt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(p,b){this.x=p,this.y=b}}function O(k){let p=[];const b=[];for(const h of k){if(h.fn==="save"){p.push({fnId:92,fn:"group",items:[]}),b.push(p),p=p.at(-1).items;continue}h.fn==="restore"?p=b.pop():p.push(h)}return p}function T(k){if(Number.isInteger(k))return k.toString();const p=k.toFixed(10);let b=p.length-1;if(p[b]!=="0")return p;do b--;while(p[b]==="0");return p.substring(0,p[b]==="."?b:b+1)}function N(k){if(k[4]===0&&k[5]===0){if(k[1]===0&&k[2]===0)return k[0]===1&&k[3]===1?"":`scale(${T(k[0])} ${T(k[3])})`;if(k[0]===k[3]&&k[1]===-k[2]){const p=Math.acos(k[0])*180/Math.PI;return`rotate(${T(p)})`}}else if(k[0]===1&&k[1]===0&&k[2]===0&&k[3]===1)return`translate(${T(k[4])} ${T(k[5])})`;return`matrix(${T(k[0])} ${T(k[1])} ${T(k[2])} ${T(k[3])} ${T(k[4])} ${T(k[5])})`}let C=0,d=0,E=0;class U{constructor(p,b,h=!1){(0,l.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new l.DOMSVGFactory,this.current=new G,this.transformMatrix=R.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=p,this.objs=b,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!h,this._operatorIdMapping=[];for(const y in R.OPS)this._operatorIdMapping[R.OPS[y]]=y}getObject(p,b=null){return typeof p=="string"?p.startsWith("g_")?this.commonObjs.get(p):this.objs.get(p):b}save(){this.transformStack.push(this.transformMatrix);const p=this.current;this.extraStack.push(p),this.current=p.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(p){this.save(),this.executeOpTree(p),this.restore()}loadDependencies(p){const b=p.fnArray,h=p.argsArray;for(let y=0,v=b.length;y<v;y++)if(b[y]===R.OPS.dependency)for(const K of h[y]){const f=K.startsWith("g_")?this.commonObjs:this.objs,M=new Promise(Y=>{f.get(K,Y)});this.current.dependencies.push(M)}return Promise.all(this.current.dependencies)}transform(p,b,h,y,v,K){const f=[p,b,h,y,v,K];this.transformMatrix=R.Util.transform(this.transformMatrix,f),this.tgrp=null}getSVG(p,b){this.viewport=b;const h=this._initialize(b);return this.loadDependencies(p).then(()=>(this.transformMatrix=R.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(p)),h))}convertOpList(p){const b=this._operatorIdMapping,h=p.argsArray,y=p.fnArray,v=[];for(let K=0,f=y.length;K<f;K++){const M=y[K];v.push({fnId:M,fn:b[M],args:h[K]})}return O(v)}executeOpTree(p){for(const b of p){const h=b.fn,y=b.fnId,v=b.args;switch(y|0){case R.OPS.beginText:this.beginText();break;case R.OPS.dependency:break;case R.OPS.setLeading:this.setLeading(v);break;case R.OPS.setLeadingMoveText:this.setLeadingMoveText(v[0],v[1]);break;case R.OPS.setFont:this.setFont(v);break;case R.OPS.showText:this.showText(v[0]);break;case R.OPS.showSpacedText:this.showText(v[0]);break;case R.OPS.endText:this.endText();break;case R.OPS.moveText:this.moveText(v[0],v[1]);break;case R.OPS.setCharSpacing:this.setCharSpacing(v[0]);break;case R.OPS.setWordSpacing:this.setWordSpacing(v[0]);break;case R.OPS.setHScale:this.setHScale(v[0]);break;case R.OPS.setTextMatrix:this.setTextMatrix(v[0],v[1],v[2],v[3],v[4],v[5]);break;case R.OPS.setTextRise:this.setTextRise(v[0]);break;case R.OPS.setTextRenderingMode:this.setTextRenderingMode(v[0]);break;case R.OPS.setLineWidth:this.setLineWidth(v[0]);break;case R.OPS.setLineJoin:this.setLineJoin(v[0]);break;case R.OPS.setLineCap:this.setLineCap(v[0]);break;case R.OPS.setMiterLimit:this.setMiterLimit(v[0]);break;case R.OPS.setFillRGBColor:this.setFillRGBColor(v[0],v[1],v[2]);break;case R.OPS.setStrokeRGBColor:this.setStrokeRGBColor(v[0],v[1],v[2]);break;case R.OPS.setStrokeColorN:this.setStrokeColorN(v);break;case R.OPS.setFillColorN:this.setFillColorN(v);break;case R.OPS.shadingFill:this.shadingFill(v[0]);break;case R.OPS.setDash:this.setDash(v[0],v[1]);break;case R.OPS.setRenderingIntent:this.setRenderingIntent(v[0]);break;case R.OPS.setFlatness:this.setFlatness(v[0]);break;case R.OPS.setGState:this.setGState(v[0]);break;case R.OPS.fill:this.fill();break;case R.OPS.eoFill:this.eoFill();break;case R.OPS.stroke:this.stroke();break;case R.OPS.fillStroke:this.fillStroke();break;case R.OPS.eoFillStroke:this.eoFillStroke();break;case R.OPS.clip:this.clip("nonzero");break;case R.OPS.eoClip:this.clip("evenodd");break;case R.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case R.OPS.paintImageXObject:this.paintImageXObject(v[0]);break;case R.OPS.paintInlineImageXObject:this.paintInlineImageXObject(v[0]);break;case R.OPS.paintImageMaskXObject:this.paintImageMaskXObject(v[0]);break;case R.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(v[0],v[1]);break;case R.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case R.OPS.closePath:this.closePath();break;case R.OPS.closeStroke:this.closeStroke();break;case R.OPS.closeFillStroke:this.closeFillStroke();break;case R.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case R.OPS.nextLine:this.nextLine();break;case R.OPS.transform:this.transform(v[0],v[1],v[2],v[3],v[4],v[5]);break;case R.OPS.constructPath:this.constructPath(v[0],v[1]);break;case R.OPS.endPath:this.endPath();break;case 92:this.group(b.items);break;default:(0,R.warn)(`Unimplemented operator ${h}`);break}}}setWordSpacing(p){this.current.wordSpacing=p}setCharSpacing(p){this.current.charSpacing=p}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(p,b,h,y,v,K){const f=this.current;f.textMatrix=f.lineMatrix=[p,b,h,y,v,K],f.textMatrixScale=Math.hypot(p,b),f.x=f.lineX=0,f.y=f.lineY=0,f.xcoords=[],f.ycoords=[],f.tspan=this.svgFactory.createElement("svg:tspan"),f.tspan.setAttributeNS(null,"font-family",f.fontFamily),f.tspan.setAttributeNS(null,"font-size",`${T(f.fontSize)}px`),f.tspan.setAttributeNS(null,"y",T(-f.y)),f.txtElement=this.svgFactory.createElement("svg:text"),f.txtElement.append(f.tspan)}beginText(){const p=this.current;p.x=p.lineX=0,p.y=p.lineY=0,p.textMatrix=R.IDENTITY_MATRIX,p.lineMatrix=R.IDENTITY_MATRIX,p.textMatrixScale=1,p.tspan=this.svgFactory.createElement("svg:tspan"),p.txtElement=this.svgFactory.createElement("svg:text"),p.txtgrp=this.svgFactory.createElement("svg:g"),p.xcoords=[],p.ycoords=[]}moveText(p,b){const h=this.current;h.x=h.lineX+=p,h.y=h.lineY+=b,h.xcoords=[],h.ycoords=[],h.tspan=this.svgFactory.createElement("svg:tspan"),h.tspan.setAttributeNS(null,"font-family",h.fontFamily),h.tspan.setAttributeNS(null,"font-size",`${T(h.fontSize)}px`),h.tspan.setAttributeNS(null,"y",T(-h.y))}showText(p){const b=this.current,h=b.font,y=b.fontSize;if(y===0)return;const v=b.fontSizeScale,K=b.charSpacing,f=b.wordSpacing,M=b.fontDirection,Y=b.textHScale*M,ht=h.vertical,$=ht?1:-1,w=h.defaultVMetrics,I=y*b.fontMatrix[0];let nt=0;for(const S of p){if(S===null){nt+=M*f;continue}else if(typeof S=="number"){nt+=$*S*y/1e3;continue}const g=(S.isSpace?f:0)+K,o=S.fontChar;let c,_,z=S.width;if(ht){let X;const tt=S.vmetric||w;X=S.vmetric?tt[1]:z*.5,X=-X*I;const mt=tt[2]*I;z=tt?-tt[0]:z,c=X/v,_=(nt+mt)/v}else c=nt/v,_=0;(S.isInFont||h.missingFile)&&(b.xcoords.push(b.x+c),ht&&b.ycoords.push(-b.y+_),b.tspan.textContent+=o);const B=ht?z*I-g*M:z*I+g*M;nt+=B}b.tspan.setAttributeNS(null,"x",b.xcoords.map(T).join(" ")),ht?b.tspan.setAttributeNS(null,"y",b.ycoords.map(T).join(" ")):b.tspan.setAttributeNS(null,"y",T(-b.y)),ht?b.y-=nt:b.x+=nt*Y,b.tspan.setAttributeNS(null,"font-family",b.fontFamily),b.tspan.setAttributeNS(null,"font-size",`${T(b.fontSize)}px`),b.fontStyle!==rt.fontStyle&&b.tspan.setAttributeNS(null,"font-style",b.fontStyle),b.fontWeight!==rt.fontWeight&&b.tspan.setAttributeNS(null,"font-weight",b.fontWeight);const j=b.textRenderingMode&R.TextRenderingMode.FILL_STROKE_MASK;if(j===R.TextRenderingMode.FILL||j===R.TextRenderingMode.FILL_STROKE?(b.fillColor!==rt.fillColor&&b.tspan.setAttributeNS(null,"fill",b.fillColor),b.fillAlpha<1&&b.tspan.setAttributeNS(null,"fill-opacity",b.fillAlpha)):b.textRenderingMode===R.TextRenderingMode.ADD_TO_PATH?b.tspan.setAttributeNS(null,"fill","transparent"):b.tspan.setAttributeNS(null,"fill","none"),j===R.TextRenderingMode.STROKE||j===R.TextRenderingMode.FILL_STROKE){const S=1/(b.textMatrixScale||1);this._setStrokeAttributes(b.tspan,S)}let Z=b.textMatrix;b.textRise!==0&&(Z=Z.slice(),Z[5]+=b.textRise),b.txtElement.setAttributeNS(null,"transform",`${N(Z)} scale(${T(Y)}, -1)`),b.txtElement.setAttributeNS(Q,"xml:space","preserve"),b.txtElement.append(b.tspan),b.txtgrp.append(b.txtElement),this._ensureTransformGroup().append(b.txtElement)}setLeadingMoveText(p,b){this.setLeading(-b),this.moveText(p,b)}addFontStyle(p){if(!p.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const b=x(p.data,p.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${p.loadedName}"; src: url(${b}); }
`}setFont(p){const b=this.current,h=this.commonObjs.get(p[0]);let y=p[1];b.font=h,this.embedFonts&&!h.missingFile&&!this.embeddedFonts[h.loadedName]&&(this.addFontStyle(h),this.embeddedFonts[h.loadedName]=h),b.fontMatrix=h.fontMatrix||R.FONT_IDENTITY_MATRIX;let v="normal";h.black?v="900":h.bold&&(v="bold");const K=h.italic?"italic":"normal";y<0?(y=-y,b.fontDirection=-1):b.fontDirection=1,b.fontSize=y,b.fontFamily=h.loadedName,b.fontWeight=v,b.fontStyle=K,b.tspan=this.svgFactory.createElement("svg:tspan"),b.tspan.setAttributeNS(null,"y",T(-b.y)),b.xcoords=[],b.ycoords=[]}endText(){var b;const p=this.current;p.textRenderingMode&R.TextRenderingMode.ADD_TO_PATH_FLAG&&((b=p.txtElement)!=null&&b.hasChildNodes())&&(p.element=p.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(p){p>0&&(this.current.lineWidth=p)}setLineCap(p){this.current.lineCap=F[p]}setLineJoin(p){this.current.lineJoin=A[p]}setMiterLimit(p){this.current.miterLimit=p}setStrokeAlpha(p){this.current.strokeAlpha=p}setStrokeRGBColor(p,b,h){this.current.strokeColor=R.Util.makeHexColor(p,b,h)}setFillAlpha(p){this.current.fillAlpha=p}setFillRGBColor(p,b,h){this.current.fillColor=R.Util.makeHexColor(p,b,h),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(p){this.current.strokeColor=this._makeColorN_Pattern(p)}setFillColorN(p){this.current.fillColor=this._makeColorN_Pattern(p)}shadingFill(p){const{width:b,height:h}=this.viewport,y=R.Util.inverseTransform(this.transformMatrix),[v,K,f,M]=R.Util.getAxialAlignedBoundingBox([0,0,b,h],y),Y=this.svgFactory.createElement("svg:rect");Y.setAttributeNS(null,"x",v),Y.setAttributeNS(null,"y",K),Y.setAttributeNS(null,"width",f-v),Y.setAttributeNS(null,"height",M-K),Y.setAttributeNS(null,"fill",this._makeShadingPattern(p)),this.current.fillAlpha<1&&Y.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Y)}_makeColorN_Pattern(p){return p[0]==="TilingPattern"?this._makeTilingPattern(p):this._makeShadingPattern(p)}_makeTilingPattern(p){const b=p[1],h=p[2],y=p[3]||R.IDENTITY_MATRIX,[v,K,f,M]=p[4],Y=p[5],ht=p[6],$=p[7],w=`shading${E++}`,[I,nt,j,Z]=R.Util.normalizeRect([...R.Util.applyTransform([v,K],y),...R.Util.applyTransform([f,M],y)]),[S,g]=R.Util.singularValueDecompose2dScale(y),o=Y*S,c=ht*g,_=this.svgFactory.createElement("svg:pattern");_.setAttributeNS(null,"id",w),_.setAttributeNS(null,"patternUnits","userSpaceOnUse"),_.setAttributeNS(null,"width",o),_.setAttributeNS(null,"height",c),_.setAttributeNS(null,"x",`${I}`),_.setAttributeNS(null,"y",`${nt}`);const z=this.svg,B=this.transformMatrix,X=this.current.fillColor,tt=this.current.strokeColor,mt=this.svgFactory.create(j-I,Z-nt);if(this.svg=mt,this.transformMatrix=y,$===2){const Tt=R.Util.makeHexColor(...b);this.current.fillColor=Tt,this.current.strokeColor=Tt}return this.executeOpTree(this.convertOpList(h)),this.svg=z,this.transformMatrix=B,this.current.fillColor=X,this.current.strokeColor=tt,_.append(mt.childNodes[0]),this.defs.append(_),`url(#${w})`}_makeShadingPattern(p){switch(typeof p=="string"&&(p=this.objs.get(p)),p[0]){case"RadialAxial":const b=`shading${E++}`,h=p[3];let y;switch(p[1]){case"axial":const v=p[4],K=p[5];y=this.svgFactory.createElement("svg:linearGradient"),y.setAttributeNS(null,"id",b),y.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),y.setAttributeNS(null,"x1",v[0]),y.setAttributeNS(null,"y1",v[1]),y.setAttributeNS(null,"x2",K[0]),y.setAttributeNS(null,"y2",K[1]);break;case"radial":const f=p[4],M=p[5],Y=p[6],ht=p[7];y=this.svgFactory.createElement("svg:radialGradient"),y.setAttributeNS(null,"id",b),y.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),y.setAttributeNS(null,"cx",M[0]),y.setAttributeNS(null,"cy",M[1]),y.setAttributeNS(null,"r",ht),y.setAttributeNS(null,"fx",f[0]),y.setAttributeNS(null,"fy",f[1]),y.setAttributeNS(null,"fr",Y);break;default:throw new Error(`Unknown RadialAxial type: ${p[1]}`)}for(const v of h){const K=this.svgFactory.createElement("svg:stop");K.setAttributeNS(null,"offset",v[0]),K.setAttributeNS(null,"stop-color",v[1]),y.append(K)}return this.defs.append(y),`url(#${b})`;case"Mesh":return(0,R.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${p[0]}`)}}setDash(p,b){this.current.dashArray=p,this.current.dashPhase=b}constructPath(p,b){const h=this.current;let y=h.x,v=h.y,K=[],f=0;for(const M of p)switch(M|0){case R.OPS.rectangle:y=b[f++],v=b[f++];const Y=b[f++],ht=b[f++],$=y+Y,w=v+ht;K.push("M",T(y),T(v),"L",T($),T(v),"L",T($),T(w),"L",T(y),T(w),"Z");break;case R.OPS.moveTo:y=b[f++],v=b[f++],K.push("M",T(y),T(v));break;case R.OPS.lineTo:y=b[f++],v=b[f++],K.push("L",T(y),T(v));break;case R.OPS.curveTo:y=b[f+4],v=b[f+5],K.push("C",T(b[f]),T(b[f+1]),T(b[f+2]),T(b[f+3]),T(y),T(v)),f+=6;break;case R.OPS.curveTo2:K.push("C",T(y),T(v),T(b[f]),T(b[f+1]),T(b[f+2]),T(b[f+3])),y=b[f+2],v=b[f+3],f+=4;break;case R.OPS.curveTo3:y=b[f+2],v=b[f+3],K.push("C",T(b[f]),T(b[f+1]),T(y),T(v),T(y),T(v)),f+=4;break;case R.OPS.closePath:K.push("Z");break}K=K.join(" "),h.path&&p.length>0&&p[0]!==R.OPS.rectangle&&p[0]!==R.OPS.moveTo?K=h.path.getAttributeNS(null,"d")+K:(h.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(h.path)),h.path.setAttributeNS(null,"d",K),h.path.setAttributeNS(null,"fill","none"),h.element=h.path,h.setCurrentPoint(y,v)}endPath(){const p=this.current;if(p.path=null,!this.pendingClip)return;if(!p.element){this.pendingClip=null;return}const b=`clippath${C++}`,h=this.svgFactory.createElement("svg:clipPath");h.setAttributeNS(null,"id",b),h.setAttributeNS(null,"transform",N(this.transformMatrix));const y=p.element.cloneNode(!0);if(this.pendingClip==="evenodd"?y.setAttributeNS(null,"clip-rule","evenodd"):y.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,h.append(y),this.defs.append(h),p.activeClipUrl){p.clipGroup=null;for(const v of this.extraStack)v.clipGroup=null;h.setAttributeNS(null,"clip-path",p.activeClipUrl)}p.activeClipUrl=`url(#${b})`,this.tgrp=null}clip(p){this.pendingClip=p}closePath(){const p=this.current;if(p.path){const b=`${p.path.getAttributeNS(null,"d")}Z`;p.path.setAttributeNS(null,"d",b)}}setLeading(p){this.current.leading=-p}setTextRise(p){this.current.textRise=p}setTextRenderingMode(p){this.current.textRenderingMode=p}setHScale(p){this.current.textHScale=p/100}setRenderingIntent(p){}setFlatness(p){}setGState(p){for(const[b,h]of p)switch(b){case"LW":this.setLineWidth(h);break;case"LC":this.setLineCap(h);break;case"LJ":this.setLineJoin(h);break;case"ML":this.setMiterLimit(h);break;case"D":this.setDash(h[0],h[1]);break;case"RI":this.setRenderingIntent(h);break;case"FL":this.setFlatness(h);break;case"Font":this.setFont(h);break;case"CA":this.setStrokeAlpha(h);break;case"ca":this.setFillAlpha(h);break;default:(0,R.warn)(`Unimplemented graphic state operator ${b}`);break}}fill(){const p=this.current;p.element&&(p.element.setAttributeNS(null,"fill",p.fillColor),p.element.setAttributeNS(null,"fill-opacity",p.fillAlpha),this.endPath())}stroke(){const p=this.current;p.element&&(this._setStrokeAttributes(p.element),p.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(p,b=1){const h=this.current;let y=h.dashArray;b!==1&&y.length>0&&(y=y.map(function(v){return b*v})),p.setAttributeNS(null,"stroke",h.strokeColor),p.setAttributeNS(null,"stroke-opacity",h.strokeAlpha),p.setAttributeNS(null,"stroke-miterlimit",T(h.miterLimit)),p.setAttributeNS(null,"stroke-linecap",h.lineCap),p.setAttributeNS(null,"stroke-linejoin",h.lineJoin),p.setAttributeNS(null,"stroke-width",T(b*h.lineWidth)+"px"),p.setAttributeNS(null,"stroke-dasharray",y.map(T).join(" ")),p.setAttributeNS(null,"stroke-dashoffset",T(b*h.dashPhase)+"px")}eoFill(){var p;(p=this.current.element)==null||p.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var p;(p=this.current.element)==null||p.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y","0"),p.setAttributeNS(null,"width","1px"),p.setAttributeNS(null,"height","1px"),p.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(p)}paintImageXObject(p){const b=this.getObject(p);if(!b){(0,R.warn)(`Dependent image with object ID ${p} is not ready yet`);return}this.paintInlineImageXObject(b)}paintInlineImageXObject(p,b){const h=p.width,y=p.height,v=H(p,this.forceDataSchema,!!b),K=this.svgFactory.createElement("svg:rect");K.setAttributeNS(null,"x","0"),K.setAttributeNS(null,"y","0"),K.setAttributeNS(null,"width",T(h)),K.setAttributeNS(null,"height",T(y)),this.current.element=K,this.clip("nonzero");const f=this.svgFactory.createElement("svg:image");f.setAttributeNS(_t,"xlink:href",v),f.setAttributeNS(null,"x","0"),f.setAttributeNS(null,"y",T(-y)),f.setAttributeNS(null,"width",T(h)+"px"),f.setAttributeNS(null,"height",T(y)+"px"),f.setAttributeNS(null,"transform",`scale(${T(1/h)} ${T(-1/y)})`),b?b.append(f):this._ensureTransformGroup().append(f)}paintImageMaskXObject(p){const b=this.getObject(p.data,p);if(b.bitmap){(0,R.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const h=this.current,y=b.width,v=b.height,K=h.fillColor;h.maskId=`mask${d++}`;const f=this.svgFactory.createElement("svg:mask");f.setAttributeNS(null,"id",h.maskId);const M=this.svgFactory.createElement("svg:rect");M.setAttributeNS(null,"x","0"),M.setAttributeNS(null,"y","0"),M.setAttributeNS(null,"width",T(y)),M.setAttributeNS(null,"height",T(v)),M.setAttributeNS(null,"fill",K),M.setAttributeNS(null,"mask",`url(#${h.maskId})`),this.defs.append(f),this._ensureTransformGroup().append(M),this.paintInlineImageXObject(b,f)}paintFormXObjectBegin(p,b){if(Array.isArray(p)&&p.length===6&&this.transform(p[0],p[1],p[2],p[3],p[4],p[5]),b){const h=b[2]-b[0],y=b[3]-b[1],v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x",b[0]),v.setAttributeNS(null,"y",b[1]),v.setAttributeNS(null,"width",T(h)),v.setAttributeNS(null,"height",T(y)),this.current.element=v,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(p){const b=this.svgFactory.create(p.width,p.height),h=this.svgFactory.createElement("svg:defs");b.append(h),this.defs=h;const y=this.svgFactory.createElement("svg:g");return y.setAttributeNS(null,"transform",N(p.transform)),b.append(y),this.svg=y,b}_ensureClipGroup(){if(!this.current.clipGroup){const p=this.svgFactory.createElement("svg:g");p.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(p),this.current.clipGroup=p}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",N(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}m.SVGGraphics=U}),((J,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XfaText=void 0;class at{static textContent(R){const rt=[],Q={items:rt,styles:Object.create(null)};function _t(F){var H;if(!F)return;let A=null;const x=F.name;if(x==="#text")A=F.value;else if(at.shouldBuildText(x))(H=F==null?void 0:F.attributes)!=null&&H.textContent?A=F.attributes.textContent:F.value&&(A=F.value);else return;if(A!==null&&rt.push({str:A}),!!F.children)for(const G of F.children)_t(G)}return _t(R),Q}static shouldBuildText(R){return!(R==="textarea"||R==="input"||R==="option"||R==="select")}}m.XfaText=at}),((J,m,at)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TextLayerRenderTask=void 0,m.renderTextLayer=N,m.updateTextLayer=C;var l=at(1),R=at(6);const rt=1e5,Q=30,_t=.8,F=new Map;function A(d,E){let U;if(E&&l.FeatureTest.isOffscreenCanvasSupported)U=new OffscreenCanvas(d,d).getContext("2d",{alpha:!1});else{const k=document.createElement("canvas");k.width=k.height=d,U=k.getContext("2d",{alpha:!1})}return U}function x(d,E){const U=F.get(d);if(U)return U;const k=A(Q,E);k.font=`${Q}px ${d}`;const p=k.measureText("");let b=p.fontBoundingBoxAscent,h=Math.abs(p.fontBoundingBoxDescent);if(b){const v=b/(b+h);return F.set(d,v),k.canvas.width=k.canvas.height=0,v}k.strokeStyle="red",k.clearRect(0,0,Q,Q),k.strokeText("g",0,0);let y=k.getImageData(0,0,Q,Q).data;h=0;for(let v=y.length-1-3;v>=0;v-=4)if(y[v]>0){h=Math.ceil(v/4/Q);break}k.clearRect(0,0,Q,Q),k.strokeText("A",0,Q),y=k.getImageData(0,0,Q,Q).data,b=0;for(let v=0,K=y.length;v<K;v+=4)if(y[v]>0){b=Q-Math.floor(v/4/Q);break}if(k.canvas.width=k.canvas.height=0,b){const v=b/(b+h);return F.set(d,v),v}return F.set(d,_t),_t}function H(d,E,U){const k=document.createElement("span"),p={angle:0,canvasWidth:0,hasText:E.str!=="",hasEOL:E.hasEOL,fontSize:0};d._textDivs.push(k);const b=l.Util.transform(d._transform,E.transform);let h=Math.atan2(b[1],b[0]);const y=U[E.fontName];y.vertical&&(h+=Math.PI/2);const v=Math.hypot(b[2],b[3]),K=v*x(y.fontFamily,d._isOffscreenCanvasSupported);let f,M;h===0?(f=b[4],M=b[5]-K):(f=b[4]+K*Math.sin(h),M=b[5]-K*Math.cos(h));const Y="calc(var(--scale-factor)*",ht=k.style;d._container===d._rootContainer?(ht.left=`${(100*f/d._pageWidth).toFixed(2)}%`,ht.top=`${(100*M/d._pageHeight).toFixed(2)}%`):(ht.left=`${Y}${f.toFixed(2)}px)`,ht.top=`${Y}${M.toFixed(2)}px)`),ht.fontSize=`${Y}${v.toFixed(2)}px)`,ht.fontFamily=y.fontFamily,p.fontSize=v,k.setAttribute("role","presentation"),k.textContent=E.str,k.dir=E.dir,d._fontInspectorEnabled&&(k.dataset.fontName=E.fontName),h!==0&&(p.angle=h*(180/Math.PI));let $=!1;if(E.str.length>1)$=!0;else if(E.str!==" "&&E.transform[0]!==E.transform[3]){const w=Math.abs(E.transform[0]),I=Math.abs(E.transform[3]);w!==I&&Math.max(w,I)/Math.min(w,I)>1.5&&($=!0)}$&&(p.canvasWidth=y.vertical?E.height:E.width),d._textDivProperties.set(k,p),d._isReadableStream&&d._layoutText(k)}function G(d){const{div:E,scale:U,properties:k,ctx:p,prevFontSize:b,prevFontFamily:h}=d,{style:y}=E;let v="";if(k.canvasWidth!==0&&k.hasText){const{fontFamily:K}=y,{canvasWidth:f,fontSize:M}=k;(b!==M||h!==K)&&(p.font=`${M*U}px ${K}`,d.prevFontSize=M,d.prevFontFamily=K);const{width:Y}=p.measureText(E.textContent);Y>0&&(v=`scaleX(${f*U/Y})`)}k.angle!==0&&(v=`rotate(${k.angle}deg) ${v}`),v.length>0&&(y.transform=v)}function O(d){if(d._canceled)return;const E=d._textDivs,U=d._capability;if(E.length>rt){U.resolve();return}if(!d._isReadableStream)for(const p of E)d._layoutText(p);U.resolve()}class T{constructor({textContentSource:E,container:U,viewport:k,textDivs:p,textDivProperties:b,textContentItemsStr:h,isOffscreenCanvasSupported:y}){var Y;this._textContentSource=E,this._isReadableStream=E instanceof ReadableStream,this._container=this._rootContainer=U,this._textDivs=p||[],this._textContentItemsStr=h||[],this._isOffscreenCanvasSupported=y,this._fontInspectorEnabled=!!((Y=globalThis.FontInspector)!=null&&Y.enabled),this._reader=null,this._textDivProperties=b||new WeakMap,this._canceled=!1,this._capability=new l.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:k.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:A(0,y)};const{pageWidth:v,pageHeight:K,pageX:f,pageY:M}=k.rawDims;this._transform=[1,0,0,-1,-f,M+K],this._pageWidth=v,this._pageHeight=K,(0,R.setLayerDimensions)(U,k),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new l.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new l.AbortException("TextLayer task cancelled."))}_processItems(E,U){for(const k of E){if(k.str===void 0){if(k.type==="beginMarkedContentProps"||k.type==="beginMarkedContent"){const p=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),k.id!==null&&this._container.setAttribute("id",`${k.id}`),p.append(this._container)}else k.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(k.str),H(this,k,U)}}_layoutText(E){const U=this._layoutTextParams.properties=this._textDivProperties.get(E);if(this._layoutTextParams.div=E,G(this._layoutTextParams),U.hasText&&this._container.append(E),U.hasEOL){const k=document.createElement("br");k.setAttribute("role","presentation"),this._container.append(k)}}_render(){const E=new l.PromiseCapability;let U=Object.create(null);if(this._isReadableStream){const k=()=>{this._reader.read().then(({value:p,done:b})=>{if(b){E.resolve();return}Object.assign(U,p.styles),this._processItems(p.items,U),k()},E.reject)};this._reader=this._textContentSource.getReader(),k()}else if(this._textContentSource){const{items:k,styles:p}=this._textContentSource;this._processItems(k,p),E.resolve()}else throw new Error('No "textContentSource" parameter specified.');E.promise.then(()=>{U=null,O(this)},this._capability.reject)}}m.TextLayerRenderTask=T;function N(d){!d.textContentSource&&(d.textContent||d.textContentStream)&&((0,R.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),d.textContentSource=d.textContent||d.textContentStream);const{container:E,viewport:U}=d,k=getComputedStyle(E),p=k.getPropertyValue("visibility"),b=parseFloat(k.getPropertyValue("--scale-factor"));p==="visible"&&(!b||Math.abs(b-U.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const h=new T(d);return h._render(),h}function C({container:d,viewport:E,textDivs:U,textDivProperties:k,isOffscreenCanvasSupported:p,mustRotate:b=!0,mustRescale:h=!0}){if(b&&(0,R.setLayerDimensions)(d,{rotation:E.rotation}),h){const y=A(0,p),K={prevFontSize:null,prevFontFamily:null,div:null,scale:E.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:y};for(const f of U)K.properties=k.get(f),K.div=f,G(K)}}}),((J,m,at)=>{var x,H,G,O,T,N,C,d,E,U,k,xc,Gr,Tc,Cc;Object.defineProperty(m,"__esModule",{value:!0}),m.AnnotationEditorLayer=void 0;var l=at(1),R=at(4),rt=at(28),Q=at(33),_t=at(6),F=at(34);const v=class v{constructor({uiManager:f,pageIndex:M,div:Y,accessibilityManager:ht,annotationLayer:$,viewport:w,l10n:I}){gt(this,k);gt(this,x);gt(this,H,!1);gt(this,G,null);gt(this,O,this.pointerup.bind(this));gt(this,T,this.pointerdown.bind(this));gt(this,N,new Map);gt(this,C,!1);gt(this,d,!1);gt(this,E,!1);gt(this,U);const nt=[rt.FreeTextEditor,Q.InkEditor,F.StampEditor];if(!v._initialized){v._initialized=!0;for(const j of nt)j.initialize(I)}f.registerEditorTypes(nt),yt(this,U,f),this.pageIndex=M,this.div=Y,yt(this,x,ht),yt(this,G,$),this.viewport=w,r(this,U).addLayer(this)}get isEmpty(){return r(this,N).size===0}updateToolbar(f){r(this,U).updateToolbar(f)}updateMode(f=r(this,U).getMode()){st(this,k,Cc).call(this),f===l.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),f!==l.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",f===l.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",f===l.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",f===l.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(f){if(!f&&r(this,U).getMode()!==l.AnnotationEditorType.INK)return;if(!f){for(const Y of r(this,N).values())if(Y.isEmpty()){Y.setInBackground();return}}st(this,k,Gr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(f){r(this,U).setEditingState(f)}addCommands(f){r(this,U).addCommands(f)}enable(){this.div.style.pointerEvents="auto";const f=new Set;for(const Y of r(this,N).values())Y.enableEditing(),Y.annotationElementId&&f.add(Y.annotationElementId);if(!r(this,G))return;const M=r(this,G).getEditableAnnotations();for(const Y of M){if(Y.hide(),r(this,U).isDeletedAnnotationElement(Y.data.id)||f.has(Y.data.id))continue;const ht=this.deserialize(Y);ht&&(this.addOrRebuild(ht),ht.enableEditing())}}disable(){var M;yt(this,E,!0),this.div.style.pointerEvents="none";const f=new Set;for(const Y of r(this,N).values()){if(Y.disableEditing(),!Y.annotationElementId||Y.serialize()!==null){f.add(Y.annotationElementId);continue}(M=this.getEditableAnnotation(Y.annotationElementId))==null||M.show(),Y.remove()}if(r(this,G)){const Y=r(this,G).getEditableAnnotations();for(const ht of Y){const{id:$}=ht.data;f.has($)||r(this,U).isDeletedAnnotationElement($)||ht.show()}}st(this,k,Cc).call(this),this.isEmpty&&(this.div.hidden=!0),yt(this,E,!1)}getEditableAnnotation(f){var M;return((M=r(this,G))==null?void 0:M.getEditableAnnotation(f))||null}setActiveEditor(f){r(this,U).getActive()!==f&&r(this,U).setActiveEditor(f)}enableClick(){this.div.addEventListener("pointerdown",r(this,T)),this.div.addEventListener("pointerup",r(this,O))}disableClick(){this.div.removeEventListener("pointerdown",r(this,T)),this.div.removeEventListener("pointerup",r(this,O))}attach(f){r(this,N).set(f.id,f);const{annotationElementId:M}=f;M&&r(this,U).isDeletedAnnotationElement(M)&&r(this,U).removeDeletedAnnotationElement(f)}detach(f){var M;r(this,N).delete(f.id),(M=r(this,x))==null||M.removePointerInTextLayer(f.contentDiv),!r(this,E)&&f.annotationElementId&&r(this,U).addDeletedAnnotationElement(f)}remove(f){this.detach(f),r(this,U).removeEditor(f),f.div.contains(document.activeElement)&&setTimeout(()=>{r(this,U).focusMainContainer()},0),f.div.remove(),f.isAttachedToDOM=!1,r(this,d)||this.addInkEditorIfNeeded(!1)}changeParent(f){var M;f.parent!==this&&(f.annotationElementId&&(r(this,U).addDeletedAnnotationElement(f.annotationElementId),R.AnnotationEditor.deleteAnnotationElement(f),f.annotationElementId=null),this.attach(f),(M=f.parent)==null||M.detach(f),f.setParent(this),f.div&&f.isAttachedToDOM&&(f.div.remove(),this.div.append(f.div)))}add(f){if(this.changeParent(f),r(this,U).addEditor(f),this.attach(f),!f.isAttachedToDOM){const M=f.render();this.div.append(M),f.isAttachedToDOM=!0}f.fixAndSetPosition(),f.onceAdded(),r(this,U).addToAnnotationStorage(f)}moveEditorInDOM(f){var Y;if(!f.isAttachedToDOM)return;const{activeElement:M}=document;f.div.contains(M)&&(f._focusEventsAllowed=!1,setTimeout(()=>{f.div.contains(document.activeElement)?f._focusEventsAllowed=!0:(f.div.addEventListener("focusin",()=>{f._focusEventsAllowed=!0},{once:!0}),M.focus())},0)),f._structTreeParentId=(Y=r(this,x))==null?void 0:Y.moveElementInDOM(this.div,f.div,f.contentDiv,!0)}addOrRebuild(f){f.needsToBeRebuilt()?f.rebuild():this.add(f)}addUndoableEditor(f){const M=()=>f._uiManager.rebuild(f),Y=()=>{f.remove()};this.addCommands({cmd:M,undo:Y,mustExec:!1})}getNextId(){return r(this,U).getId()}pasteEditor(f,M){r(this,U).updateToolbar(f),r(this,U).updateMode(f);const{offsetX:Y,offsetY:ht}=st(this,k,Tc).call(this),$=this.getNextId(),w=st(this,k,xc).call(this,{parent:this,id:$,x:Y,y:ht,uiManager:r(this,U),isCentered:!0,...M});w&&this.add(w)}deserialize(f){switch(f.annotationType??f.annotationEditorType){case l.AnnotationEditorType.FREETEXT:return rt.FreeTextEditor.deserialize(f,this,r(this,U));case l.AnnotationEditorType.INK:return Q.InkEditor.deserialize(f,this,r(this,U));case l.AnnotationEditorType.STAMP:return F.StampEditor.deserialize(f,this,r(this,U))}return null}addNewEditor(){st(this,k,Gr).call(this,st(this,k,Tc).call(this),!0)}setSelected(f){r(this,U).setSelected(f)}toggleSelected(f){r(this,U).toggleSelected(f)}isSelected(f){return r(this,U).isSelected(f)}unselect(f){r(this,U).unselect(f)}pointerup(f){const{isMac:M}=l.FeatureTest.platform;if(!(f.button!==0||f.ctrlKey&&M)&&f.target===this.div&&r(this,C)){if(yt(this,C,!1),!r(this,H)){yt(this,H,!0);return}if(r(this,U).getMode()===l.AnnotationEditorType.STAMP){r(this,U).unselectAll();return}st(this,k,Gr).call(this,f,!1)}}pointerdown(f){if(r(this,C)){yt(this,C,!1);return}const{isMac:M}=l.FeatureTest.platform;if(f.button!==0||f.ctrlKey&&M||f.target!==this.div)return;yt(this,C,!0);const Y=r(this,U).getActive();yt(this,H,!Y||Y.isEmpty())}findNewParent(f,M,Y){const ht=r(this,U).findParent(M,Y);return ht===null||ht===this?!1:(ht.changeParent(f),!0)}destroy(){var f,M;((f=r(this,U).getActive())==null?void 0:f.parent)===this&&(r(this,U).commitOrRemove(),r(this,U).setActiveEditor(null));for(const Y of r(this,N).values())(M=r(this,x))==null||M.removePointerInTextLayer(Y.contentDiv),Y.setParent(null),Y.isAttachedToDOM=!1,Y.div.remove();this.div=null,r(this,N).clear(),r(this,U).removeLayer(this)}render({viewport:f}){this.viewport=f,(0,_t.setLayerDimensions)(this.div,f);for(const M of r(this,U).getEditors(this.pageIndex))this.add(M);this.updateMode()}update({viewport:f}){r(this,U).commitOrRemove(),this.viewport=f,(0,_t.setLayerDimensions)(this.div,{rotation:f.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:f,pageHeight:M}=this.viewport.rawDims;return[f,M]}};x=new WeakMap,H=new WeakMap,G=new WeakMap,O=new WeakMap,T=new WeakMap,N=new WeakMap,C=new WeakMap,d=new WeakMap,E=new WeakMap,U=new WeakMap,k=new WeakSet,xc=function(f){switch(r(this,U).getMode()){case l.AnnotationEditorType.FREETEXT:return new rt.FreeTextEditor(f);case l.AnnotationEditorType.INK:return new Q.InkEditor(f);case l.AnnotationEditorType.STAMP:return new F.StampEditor(f)}return null},Gr=function(f,M){const Y=this.getNextId(),ht=st(this,k,xc).call(this,{parent:this,id:Y,x:f.offsetX,y:f.offsetY,uiManager:r(this,U),isCentered:M});return ht&&this.add(ht),ht},Tc=function(){const{x:f,y:M,width:Y,height:ht}=this.div.getBoundingClientRect(),$=Math.max(0,f),w=Math.max(0,M),I=Math.min(window.innerWidth,f+Y),nt=Math.min(window.innerHeight,M+ht),j=($+I)/2-f,Z=(w+nt)/2-M,[S,g]=this.viewport.rotation%180===0?[j,Z]:[Z,j];return{offsetX:S,offsetY:g}},Cc=function(){yt(this,d,!0);for(const f of r(this,N).values())f.isEmpty()&&f.remove();yt(this,d,!1)},De(v,"_initialized",!1);let A=v;m.AnnotationEditorLayer=A}),((J,m,at)=>{var F,A,x,H,G,O,T,N,C,d,qf,Gf,Xf,Es,Rc,Yf,Mc;Object.defineProperty(m,"__esModule",{value:!0}),m.FreeTextEditor=void 0;var l=at(1),R=at(5),rt=at(4),Q=at(29);const v=class v extends rt.AnnotationEditor{constructor(M){super({...M,name:"freeTextEditor"});gt(this,d);gt(this,F,this.editorDivBlur.bind(this));gt(this,A,this.editorDivFocus.bind(this));gt(this,x,this.editorDivInput.bind(this));gt(this,H,this.editorDivKeydown.bind(this));gt(this,G);gt(this,O,"");gt(this,T,`${this.id}-editor`);gt(this,N);gt(this,C,null);yt(this,G,M.color||v._defaultColor||rt.AnnotationEditor._defaultLineColor),yt(this,N,M.fontSize||v._defaultFontSize)}static get _keyboardManager(){const M=v.prototype,Y=w=>w.isEmpty(),ht=R.AnnotationEditorUIManager.TRANSLATE_SMALL,$=R.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,l.shadow)(this,"_keyboardManager",new R.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],M.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],M.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],M._translateEmpty,{args:[-ht,0],checker:Y}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],M._translateEmpty,{args:[-$,0],checker:Y}],[["ArrowRight","mac+ArrowRight"],M._translateEmpty,{args:[ht,0],checker:Y}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],M._translateEmpty,{args:[$,0],checker:Y}],[["ArrowUp","mac+ArrowUp"],M._translateEmpty,{args:[0,-ht],checker:Y}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],M._translateEmpty,{args:[0,-$],checker:Y}],[["ArrowDown","mac+ArrowDown"],M._translateEmpty,{args:[0,ht],checker:Y}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],M._translateEmpty,{args:[0,$],checker:Y}]]))}static initialize(M){rt.AnnotationEditor.initialize(M,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Y=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Y.getPropertyValue("--freetext-padding"))}static updateDefaultParams(M,Y){switch(M){case l.AnnotationEditorParamsType.FREETEXT_SIZE:v._defaultFontSize=Y;break;case l.AnnotationEditorParamsType.FREETEXT_COLOR:v._defaultColor=Y;break}}updateParams(M,Y){switch(M){case l.AnnotationEditorParamsType.FREETEXT_SIZE:st(this,d,qf).call(this,Y);break;case l.AnnotationEditorParamsType.FREETEXT_COLOR:st(this,d,Gf).call(this,Y);break}}static get defaultPropertiesToUpdate(){return[[l.AnnotationEditorParamsType.FREETEXT_SIZE,v._defaultFontSize],[l.AnnotationEditorParamsType.FREETEXT_COLOR,v._defaultColor||rt.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[l.AnnotationEditorParamsType.FREETEXT_SIZE,r(this,N)],[l.AnnotationEditorParamsType.FREETEXT_COLOR,r(this,G)]]}_translateEmpty(M,Y){this._uiManager.translateSelectedEditors(M,Y,!0)}getInitialTranslation(){const M=this.parentScale;return[-v._internalPadding*M,-(v._internalPadding+r(this,N))*M]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(l.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",r(this,H)),this.editorDiv.addEventListener("focus",r(this,A)),this.editorDiv.addEventListener("blur",r(this,F)),this.editorDiv.addEventListener("input",r(this,x)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",r(this,T)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",r(this,H)),this.editorDiv.removeEventListener("focus",r(this,A)),this.editorDiv.removeEventListener("blur",r(this,F)),this.editorDiv.removeEventListener("input",r(this,x)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(M){this._focusEventsAllowed&&(super.focusin(M),M.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var M;if(this.width){st(this,d,Mc).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(M=this._initialOptions)!=null&&M.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const M=r(this,O),Y=yt(this,O,st(this,d,Xf).call(this).trimEnd());if(M===Y)return;const ht=$=>{if(yt(this,O,$),!$){this.remove();return}st(this,d,Rc).call(this),this._uiManager.rebuild(this),st(this,d,Es).call(this)};this.addCommands({cmd:()=>{ht(Y)},undo:()=>{ht(M)},mustExec:!1}),st(this,d,Es).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(M){this.enterInEditMode()}keydown(M){M.target===this.div&&M.key==="Enter"&&(this.enterInEditMode(),M.preventDefault())}editorDivKeydown(M){v._keyboardManager.exec(this,M)}editorDivFocus(M){this.isEditing=!0}editorDivBlur(M){this.isEditing=!1}editorDivInput(M){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let M,Y;this.width&&(M=this.x,Y=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",r(this,T)),this.enableEditing(),rt.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then($=>{var w;return(w=this.editorDiv)==null?void 0:w.setAttribute("aria-label",$)}),rt.AnnotationEditor._l10nPromise.get("free_text2_default_content").then($=>{var w;return(w=this.editorDiv)==null?void 0:w.setAttribute("default-content",$)}),this.editorDiv.contentEditable=!0;const{style:ht}=this.editorDiv;if(ht.fontSize=`calc(${r(this,N)}px * var(--scale-factor))`,ht.color=r(this,G),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,R.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[$,w]=this.parentDimensions;if(this.annotationElementId){const{position:I}=r(this,C);let[nt,j]=this.getInitialTranslation();[nt,j]=this.pageTranslationToScreen(nt,j);const[Z,S]=this.pageDimensions,[g,o]=this.pageTranslation;let c,_;switch(this.rotation){case 0:c=M+(I[0]-g)/Z,_=Y+this.height-(I[1]-o)/S;break;case 90:c=M+(I[0]-g)/Z,_=Y-(I[1]-o)/S,[nt,j]=[j,-nt];break;case 180:c=M-this.width+(I[0]-g)/Z,_=Y-(I[1]-o)/S,[nt,j]=[-nt,-j];break;case 270:c=M+(I[0]-g-this.height*S)/Z,_=Y+(I[1]-o-this.width*Z)/S,[nt,j]=[-j,nt];break}this.setAt(c*$,_*w,nt,j)}else this.setAt(M*$,Y*w,this.width*$,this.height*w);st(this,d,Rc).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(M,Y,ht){let $=null;if(M instanceof Q.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:I,fontColor:nt},rect:j,rotation:Z,id:S},textContent:g,textPosition:o,parent:{page:{pageNumber:c}}}=M;if(!g||g.length===0)return null;$=M={annotationType:l.AnnotationEditorType.FREETEXT,color:Array.from(nt),fontSize:I,value:g.join(`
`),position:o,pageIndex:c-1,rect:j,rotation:Z,id:S,deleted:!1}}const w=super.deserialize(M,Y,ht);return yt(w,N,M.fontSize),yt(w,G,l.Util.makeHexColor(...M.color)),yt(w,O,M.value),w.annotationElementId=M.id||null,yt(w,C,$),w}serialize(M=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Y=v._internalPadding*this.parentScale,ht=this.getRect(Y,Y),$=rt.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:r(this,G)),w={annotationType:l.AnnotationEditorType.FREETEXT,color:$,fontSize:r(this,N),value:r(this,O),pageIndex:this.pageIndex,rect:ht,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return M?w:this.annotationElementId&&!st(this,d,Yf).call(this,w)?null:(w.id=this.annotationElementId,w)}};F=new WeakMap,A=new WeakMap,x=new WeakMap,H=new WeakMap,G=new WeakMap,O=new WeakMap,T=new WeakMap,N=new WeakMap,C=new WeakMap,d=new WeakSet,qf=function(M){const Y=$=>{this.editorDiv.style.fontSize=`calc(${$}px * var(--scale-factor))`,this.translate(0,-($-r(this,N))*this.parentScale),yt(this,N,$),st(this,d,Es).call(this)},ht=r(this,N);this.addCommands({cmd:()=>{Y(M)},undo:()=>{Y(ht)},mustExec:!0,type:l.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Gf=function(M){const Y=r(this,G);this.addCommands({cmd:()=>{yt(this,G,this.editorDiv.style.color=M)},undo:()=>{yt(this,G,this.editorDiv.style.color=Y)},mustExec:!0,type:l.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Xf=function(){const M=this.editorDiv.getElementsByTagName("div");if(M.length===0)return this.editorDiv.innerText;const Y=[];for(const ht of M)Y.push(ht.innerText.replace(/\r\n?|\n/,""));return Y.join(`
`)},Es=function(){const[M,Y]=this.parentDimensions;let ht;if(this.isAttachedToDOM)ht=this.div.getBoundingClientRect();else{const{currentLayer:$,div:w}=this,I=w.style.display;w.style.display="hidden",$.div.append(this.div),ht=w.getBoundingClientRect(),w.remove(),w.style.display=I}this.rotation%180===this.parentRotation%180?(this.width=ht.width/M,this.height=ht.height/Y):(this.width=ht.height/M,this.height=ht.width/Y),this.fixAndSetPosition()},Rc=function(){if(this.editorDiv.replaceChildren(),!!r(this,O))for(const M of r(this,O).split(`
`)){const Y=document.createElement("div");Y.append(M?document.createTextNode(M):document.createElement("br")),this.editorDiv.append(Y)}},Yf=function(M){const{value:Y,fontSize:ht,color:$,rect:w,pageIndex:I}=r(this,C);return M.value!==Y||M.fontSize!==ht||M.rect.some((nt,j)=>Math.abs(nt-w[j])>=1)||M.color.some((nt,j)=>nt!==$[j])||M.pageIndex!==I},Mc=function(M=!1){if(!this.annotationElementId)return;if(st(this,d,Es).call(this),!M&&(this.width===0||this.height===0)){setTimeout(()=>st(this,d,Mc).call(this,!0),0);return}const Y=v._internalPadding*this.parentScale;r(this,C).rect=this.getRect(Y,Y)},De(v,"_freeTextDefaultContent",""),De(v,"_internalPadding",0),De(v,"_defaultColor",null),De(v,"_defaultFontSize",10),De(v,"_type","freetext");let _t=v;m.FreeTextEditor=_t}),((J,m,at)=>{var _,B,qi,Vf,mt,Tt,Ct,Lt,Nt,jt,dt,pt,L,V,lt,ft,Rt,zt,Dt,ot,Gt,It,Kf,Xr,wc,Dc,ne,he,de,Ot,ut,bt,Wt,Oc,ue,W,Mt,qt,Wf,kc;Object.defineProperty(m,"__esModule",{value:!0}),m.StampAnnotationElement=m.InkAnnotationElement=m.FreeTextAnnotationElement=m.AnnotationLayer=void 0;var l=at(1),R=at(6),rt=at(3),Q=at(30),_t=at(31),F=at(32);const A=1e3,x=9,H=new WeakSet;function G(Vt){return{width:Vt[2]-Vt[0],height:Vt[3]-Vt[1]}}class O{static create(q){switch(q.data.annotationType){case l.AnnotationType.LINK:return new N(q);case l.AnnotationType.TEXT:return new C(q);case l.AnnotationType.WIDGET:switch(q.data.fieldType){case"Tx":return new E(q);case"Btn":return q.data.radioButton?new p(q):q.data.checkBox?new k(q):new b(q);case"Ch":return new h(q);case"Sig":return new U(q)}return new d(q);case l.AnnotationType.POPUP:return new y(q);case l.AnnotationType.FREETEXT:return new K(q);case l.AnnotationType.LINE:return new f(q);case l.AnnotationType.SQUARE:return new M(q);case l.AnnotationType.CIRCLE:return new Y(q);case l.AnnotationType.POLYLINE:return new ht(q);case l.AnnotationType.CARET:return new w(q);case l.AnnotationType.INK:return new I(q);case l.AnnotationType.POLYGON:return new $(q);case l.AnnotationType.HIGHLIGHT:return new nt(q);case l.AnnotationType.UNDERLINE:return new j(q);case l.AnnotationType.SQUIGGLY:return new Z(q);case l.AnnotationType.STRIKEOUT:return new S(q);case l.AnnotationType.STAMP:return new g(q);case l.AnnotationType.FILEATTACHMENT:return new o(q);default:return new T(q)}}}const z=class z{constructor(q,{isRenderable:P=!1,ignoreBorder:et=!1,createQuadrilaterals:At=!1}={}){gt(this,_,!1);this.isRenderable=P,this.data=q.data,this.layer=q.layer,this.linkService=q.linkService,this.downloadManager=q.downloadManager,this.imageResourcesPath=q.imageResourcesPath,this.renderForms=q.renderForms,this.svgFactory=q.svgFactory,this.annotationStorage=q.annotationStorage,this.enableScripting=q.enableScripting,this.hasJSActions=q.hasJSActions,this._fieldObjects=q.fieldObjects,this.parent=q.parent,P&&(this.container=this._createContainer(et)),At&&this._createQuadrilaterals()}static _hasPopupData({titleObj:q,contentsObj:P,richText:et}){return!!(q!=null&&q.str||P!=null&&P.str||et!=null&&et.str)}get hasPopupData(){return z._hasPopupData(this.data)}_createContainer(q){const{data:P,parent:{page:et,viewport:At}}=this,St=document.createElement("section");St.setAttribute("data-annotation-id",P.id),this instanceof d||(St.tabIndex=A),St.style.zIndex=this.parent.zIndex++,this.data.popupRef&&St.setAttribute("aria-haspopup","dialog"),P.noRotate&&St.classList.add("norotate");const{pageWidth:Ft,pageHeight:Ut,pageX:$t,pageY:Qt}=At.rawDims;if(!P.rect||this instanceof y){const{rotation:ee}=P;return!P.hasOwnCanvas&&ee!==0&&this.setRotation(ee,St),St}const{width:Xt,height:le}=G(P.rect),Kt=l.Util.normalizeRect([P.rect[0],et.view[3]-P.rect[1]+et.view[1],P.rect[2],et.view[3]-P.rect[3]+et.view[1]]);if(!q&&P.borderStyle.width>0){St.style.borderWidth=`${P.borderStyle.width}px`;const ee=P.borderStyle.horizontalCornerRadius,oe=P.borderStyle.verticalCornerRadius;if(ee>0||oe>0){const xe=`calc(${ee}px * var(--scale-factor)) / calc(${oe}px * var(--scale-factor))`;St.style.borderRadius=xe}else if(this instanceof p){const xe=`calc(${Xt}px * var(--scale-factor)) / calc(${le}px * var(--scale-factor))`;St.style.borderRadius=xe}switch(P.borderStyle.style){case l.AnnotationBorderStyleType.SOLID:St.style.borderStyle="solid";break;case l.AnnotationBorderStyleType.DASHED:St.style.borderStyle="dashed";break;case l.AnnotationBorderStyleType.BEVELED:(0,l.warn)("Unimplemented border style: beveled");break;case l.AnnotationBorderStyleType.INSET:(0,l.warn)("Unimplemented border style: inset");break;case l.AnnotationBorderStyleType.UNDERLINE:St.style.borderBottomStyle="solid";break}const ge=P.borderColor||null;ge?(yt(this,_,!0),St.style.borderColor=l.Util.makeHexColor(ge[0]|0,ge[1]|0,ge[2]|0)):St.style.borderWidth=0}St.style.left=`${100*(Kt[0]-$t)/Ft}%`,St.style.top=`${100*(Kt[1]-Qt)/Ut}%`;const{rotation:Yt}=P;return P.hasOwnCanvas||Yt===0?(St.style.width=`${100*Xt/Ft}%`,St.style.height=`${100*le/Ut}%`):this.setRotation(Yt,St),St}setRotation(q,P=this.container){if(!this.data.rect)return;const{pageWidth:et,pageHeight:At}=this.parent.viewport.rawDims,{width:St,height:Ft}=G(this.data.rect);let Ut,$t;q%180===0?(Ut=100*St/et,$t=100*Ft/At):(Ut=100*Ft/et,$t=100*St/At),P.style.width=`${Ut}%`,P.style.height=`${$t}%`,P.setAttribute("data-main-rotation",(360-q)%360)}get _commonActions(){const q=(P,et,At)=>{const St=At.detail[P],Ft=St[0],Ut=St.slice(1);At.target.style[et]=Q.ColorConverters[`${Ft}_HTML`](Ut),this.annotationStorage.setValue(this.data.id,{[et]:Q.ColorConverters[`${Ft}_rgb`](Ut)})};return(0,l.shadow)(this,"_commonActions",{display:P=>{const{display:et}=P.detail,At=et%2===1;this.container.style.visibility=At?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:At,noPrint:et===1||et===2})},print:P=>{this.annotationStorage.setValue(this.data.id,{noPrint:!P.detail.print})},hidden:P=>{const{hidden:et}=P.detail;this.container.style.visibility=et?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:et,noView:et})},focus:P=>{setTimeout(()=>P.target.focus({preventScroll:!1}),0)},userName:P=>{P.target.title=P.detail.userName},readonly:P=>{P.target.disabled=P.detail.readonly},required:P=>{this._setRequired(P.target,P.detail.required)},bgColor:P=>{q("bgColor","backgroundColor",P)},fillColor:P=>{q("fillColor","backgroundColor",P)},fgColor:P=>{q("fgColor","color",P)},textColor:P=>{q("textColor","color",P)},borderColor:P=>{q("borderColor","borderColor",P)},strokeColor:P=>{q("strokeColor","borderColor",P)},rotation:P=>{const et=P.detail.rotation;this.setRotation(et),this.annotationStorage.setValue(this.data.id,{rotation:et})}})}_dispatchEventFromSandbox(q,P){const et=this._commonActions;for(const At of Object.keys(P.detail)){const St=q[At]||et[At];St==null||St(P)}}_setDefaultPropertiesFromJS(q){if(!this.enableScripting)return;const P=this.annotationStorage.getRawValue(this.data.id);if(!P)return;const et=this._commonActions;for(const[At,St]of Object.entries(P)){const Ft=et[At];if(Ft){const Ut={detail:{[At]:St},target:q};Ft(Ut),delete P[At]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:q}=this.data;if(!q)return;const[P,et,At,St]=this.data.rect;if(q.length===1){const[,{x:oe,y:ge},{x:xe,y:qe}]=q[0];if(At===oe&&St===ge&&P===xe&&et===qe)return}const{style:Ft}=this.container;let Ut;if(r(this,_)){const{borderColor:oe,borderWidth:ge}=Ft;Ft.borderWidth=0,Ut=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${oe}" stroke-width="${ge}">`],this.container.classList.add("hasBorder")}const $t=At-P,Qt=St-et,{svgFactory:Xt}=this,le=Xt.createElement("svg");le.classList.add("quadrilateralsContainer"),le.setAttribute("width",0),le.setAttribute("height",0);const Kt=Xt.createElement("defs");le.append(Kt);const Yt=Xt.createElement("clipPath"),ee=`clippath_${this.data.id}`;Yt.setAttribute("id",ee),Yt.setAttribute("clipPathUnits","objectBoundingBox"),Kt.append(Yt);for(const[,{x:oe,y:ge},{x:xe,y:qe}]of q){const Fe=Xt.createElement("rect"),en=(xe-P)/$t,bn=(St-ge)/Qt,nn=(oe-xe)/$t,zn=(ge-qe)/Qt;Fe.setAttribute("x",en),Fe.setAttribute("y",bn),Fe.setAttribute("width",nn),Fe.setAttribute("height",zn),Yt.append(Fe),Ut==null||Ut.push(`<rect vector-effect="non-scaling-stroke" x="${en}" y="${bn}" width="${nn}" height="${zn}"/>`)}r(this,_)&&(Ut.push("</g></svg>')"),Ft.backgroundImage=Ut.join("")),this.container.append(le),this.container.style.clipPath=`url(#${ee})`}_createPopup(){const{container:q,data:P}=this;q.setAttribute("aria-haspopup","dialog");const et=new y({data:{color:P.color,titleObj:P.titleObj,modificationDate:P.modificationDate,contentsObj:P.contentsObj,richText:P.richText,parentRect:P.rect,borderStyle:0,id:`popup_${P.id}`,rotation:P.rotation},parent:this.parent,elements:[this]});this.parent.div.append(et.render())}render(){(0,l.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(q,P=null){const et=[];if(this._fieldObjects){const At=this._fieldObjects[q];if(At)for(const{page:St,id:Ft,exportValues:Ut}of At){if(St===-1||Ft===P)continue;const $t=typeof Ut=="string"?Ut:null,Qt=document.querySelector(`[data-element-id="${Ft}"]`);if(Qt&&!H.has(Qt)){(0,l.warn)(`_getElementsByName - element not allowed: ${Ft}`);continue}et.push({id:Ft,exportValue:$t,domElement:Qt})}return et}for(const At of document.getElementsByName(q)){const{exportValue:St}=At,Ft=At.getAttribute("data-element-id");Ft!==P&&H.has(At)&&et.push({id:Ft,exportValue:St,domElement:At})}return et}show(){var q;this.container&&(this.container.hidden=!1),(q=this.popup)==null||q.maybeShow()}hide(){var q;this.container&&(this.container.hidden=!0),(q=this.popup)==null||q.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const q=this.getElementsToTriggerPopup();if(Array.isArray(q))for(const P of q)P.classList.add("highlightArea");else q.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:q,data:{id:P}}=this;this.container.addEventListener("dblclick",()=>{var et;(et=this.linkService.eventBus)==null||et.dispatch("switchannotationeditormode",{source:this,mode:q,editId:P})})}};_=new WeakMap;let T=z;class N extends T{constructor(P,et=null){super(P,{isRenderable:!0,ignoreBorder:!!(et!=null&&et.ignoreBorder),createQuadrilaterals:!0});gt(this,B);this.isTooltipOnly=P.data.isTooltipOnly}render(){const{data:P,linkService:et}=this,At=document.createElement("a");At.setAttribute("data-element-id",P.id);let St=!1;return P.url?(et.addLinkAttributes(At,P.url,P.newWindow),St=!0):P.action?(this._bindNamedAction(At,P.action),St=!0):P.attachment?(this._bindAttachment(At,P.attachment),St=!0):P.setOCGState?(st(this,B,Vf).call(this,At,P.setOCGState),St=!0):P.dest?(this._bindLink(At,P.dest),St=!0):(P.actions&&(P.actions.Action||P.actions["Mouse Up"]||P.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(At,P),St=!0),P.resetForm?(this._bindResetFormAction(At,P.resetForm),St=!0):this.isTooltipOnly&&!St&&(this._bindLink(At,""),St=!0)),this.container.classList.add("linkAnnotation"),St&&this.container.append(At),this.container}_bindLink(P,et){P.href=this.linkService.getDestinationHash(et),P.onclick=()=>(et&&this.linkService.goToDestination(et),!1),(et||et==="")&&st(this,B,qi).call(this)}_bindNamedAction(P,et){P.href=this.linkService.getAnchorUrl(""),P.onclick=()=>(this.linkService.executeNamedAction(et),!1),st(this,B,qi).call(this)}_bindAttachment(P,et){P.href=this.linkService.getAnchorUrl(""),P.onclick=()=>{var At;return(At=this.downloadManager)==null||At.openOrDownloadData(this.container,et.content,et.filename),!1},st(this,B,qi).call(this)}_bindJSAction(P,et){P.href=this.linkService.getAnchorUrl("");const At=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const St of Object.keys(et.actions)){const Ft=At.get(St);Ft&&(P[Ft]=()=>{var Ut;return(Ut=this.linkService.eventBus)==null||Ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:et.id,name:St}}),!1})}P.onclick||(P.onclick=()=>!1),st(this,B,qi).call(this)}_bindResetFormAction(P,et){const At=P.onclick;if(At||(P.href=this.linkService.getAnchorUrl("")),st(this,B,qi).call(this),!this._fieldObjects){(0,l.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),At||(P.onclick=()=>!1);return}P.onclick=()=>{var le;At==null||At();const{fields:St,refs:Ft,include:Ut}=et,$t=[];if(St.length!==0||Ft.length!==0){const Kt=new Set(Ft);for(const Yt of St){const ee=this._fieldObjects[Yt]||[];for(const{id:oe}of ee)Kt.add(oe)}for(const Yt of Object.values(this._fieldObjects))for(const ee of Yt)Kt.has(ee.id)===Ut&&$t.push(ee)}else for(const Kt of Object.values(this._fieldObjects))$t.push(...Kt);const Qt=this.annotationStorage,Xt=[];for(const Kt of $t){const{id:Yt}=Kt;switch(Xt.push(Yt),Kt.type){case"text":{const oe=Kt.defaultValue||"";Qt.setValue(Yt,{value:oe});break}case"checkbox":case"radiobutton":{const oe=Kt.defaultValue===Kt.exportValues;Qt.setValue(Yt,{value:oe});break}case"combobox":case"listbox":{const oe=Kt.defaultValue||"";Qt.setValue(Yt,{value:oe});break}default:continue}const ee=document.querySelector(`[data-element-id="${Yt}"]`);if(ee){if(!H.has(ee)){(0,l.warn)(`_bindResetFormAction - element not allowed: ${Yt}`);continue}}else continue;ee.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((le=this.linkService.eventBus)==null||le.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Xt,name:"ResetForm"}})),!1}}}B=new WeakSet,qi=function(){this.container.setAttribute("data-internal-link","")},Vf=function(P,et){P.href=this.linkService.getAnchorUrl(""),P.onclick=()=>(this.linkService.executeSetOCGState(et),!1),st(this,B,qi).call(this)};class C extends T{constructor(q){super(q,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const q=document.createElement("img");return q.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",q.alt="[{{type}} Annotation]",q.dataset.l10nId="text_annotation_type",q.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(q),this.container}}class d extends T{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(q){var P;this.data.hasOwnCanvas&&(((P=q.previousSibling)==null?void 0:P.nodeName)==="CANVAS"&&(q.previousSibling.hidden=!0),q.hidden=!1)}_getKeyModifier(q){const{isWin:P,isMac:et}=l.FeatureTest.platform;return P&&q.ctrlKey||et&&q.metaKey}_setEventListener(q,P,et,At,St){et.includes("mouse")?q.addEventListener(et,Ft=>{var Ut;(Ut=this.linkService.eventBus)==null||Ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:At,value:St(Ft),shift:Ft.shiftKey,modifier:this._getKeyModifier(Ft)}})}):q.addEventListener(et,Ft=>{var Ut;if(et==="blur"){if(!P.focused||!Ft.relatedTarget)return;P.focused=!1}else if(et==="focus"){if(P.focused)return;P.focused=!0}St&&((Ut=this.linkService.eventBus)==null||Ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:At,value:St(Ft)}}))})}_setEventListeners(q,P,et,At){var St,Ft,Ut;for(const[$t,Qt]of et)(Qt==="Action"||(St=this.data.actions)!=null&&St[Qt])&&((Qt==="Focus"||Qt==="Blur")&&(P||(P={focused:!1})),this._setEventListener(q,P,$t,Qt,At),Qt==="Focus"&&!((Ft=this.data.actions)!=null&&Ft.Blur)?this._setEventListener(q,P,"blur","Blur",null):Qt==="Blur"&&!((Ut=this.data.actions)!=null&&Ut.Focus)&&this._setEventListener(q,P,"focus","Focus",null))}_setBackgroundColor(q){const P=this.data.backgroundColor||null;q.style.backgroundColor=P===null?"transparent":l.Util.makeHexColor(P[0],P[1],P[2])}_setTextStyle(q){const P=["left","center","right"],{fontColor:et}=this.data.defaultAppearanceData,At=this.data.defaultAppearanceData.fontSize||x,St=q.style;let Ft;const Ut=2,$t=Qt=>Math.round(10*Qt)/10;if(this.data.multiLine){const Qt=Math.abs(this.data.rect[3]-this.data.rect[1]-Ut),Xt=Math.round(Qt/(l.LINE_FACTOR*At))||1,le=Qt/Xt;Ft=Math.min(At,$t(le/l.LINE_FACTOR))}else{const Qt=Math.abs(this.data.rect[3]-this.data.rect[1]-Ut);Ft=Math.min(At,$t(Qt/l.LINE_FACTOR))}St.fontSize=`calc(${Ft}px * var(--scale-factor))`,St.color=l.Util.makeHexColor(et[0],et[1],et[2]),this.data.textAlignment!==null&&(St.textAlign=P[this.data.textAlignment])}_setRequired(q,P){P?q.setAttribute("required",!0):q.removeAttribute("required"),q.setAttribute("aria-required",P)}}class E extends d{constructor(q){const P=q.renderForms||!q.data.hasAppearance&&!!q.data.fieldValue;super(q,{isRenderable:P})}setPropertyOnSiblings(q,P,et,At){const St=this.annotationStorage;for(const Ft of this._getElementsByName(q.name,q.id))Ft.domElement&&(Ft.domElement[P]=et),St.setValue(Ft.id,{[At]:et})}render(){var At,St;const q=this.annotationStorage,P=this.data.id;this.container.classList.add("textWidgetAnnotation");let et=null;if(this.renderForms){const Ft=q.getValue(P,{value:this.data.fieldValue});let Ut=Ft.value||"";const $t=q.getValue(P,{charLimit:this.data.maxLen}).charLimit;$t&&Ut.length>$t&&(Ut=Ut.slice(0,$t));let Qt=Ft.formattedValue||((At=this.data.textContent)==null?void 0:At.join(`
`))||null;Qt&&this.data.comb&&(Qt=Qt.replaceAll(/\s+/g,""));const Xt={userValue:Ut,formattedValue:Qt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(et=document.createElement("textarea"),et.textContent=Qt??Ut,this.data.doNotScroll&&(et.style.overflowY="hidden")):(et=document.createElement("input"),et.type="text",et.setAttribute("value",Qt??Ut),this.data.doNotScroll&&(et.style.overflowX="hidden")),this.data.hasOwnCanvas&&(et.hidden=!0),H.add(et),et.setAttribute("data-element-id",P),et.disabled=this.data.readOnly,et.name=this.data.fieldName,et.tabIndex=A,this._setRequired(et,this.data.required),$t&&(et.maxLength=$t),et.addEventListener("input",Kt=>{q.setValue(P,{value:Kt.target.value}),this.setPropertyOnSiblings(et,"value",Kt.target.value,"value"),Xt.formattedValue=null}),et.addEventListener("resetform",Kt=>{const Yt=this.data.defaultFieldValue??"";et.value=Xt.userValue=Yt,Xt.formattedValue=null});let le=Kt=>{const{formattedValue:Yt}=Xt;Yt!=null&&(Kt.target.value=Yt),Kt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){et.addEventListener("focus",Yt=>{if(Xt.focused)return;const{target:ee}=Yt;Xt.userValue&&(ee.value=Xt.userValue),Xt.lastCommittedValue=ee.value,Xt.commitKey=1,Xt.focused=!0}),et.addEventListener("updatefromsandbox",Yt=>{this.showElementAndHideCanvas(Yt.target);const ee={value(oe){Xt.userValue=oe.detail.value??"",q.setValue(P,{value:Xt.userValue.toString()}),oe.target.value=Xt.userValue},formattedValue(oe){const{formattedValue:ge}=oe.detail;Xt.formattedValue=ge,ge!=null&&oe.target!==document.activeElement&&(oe.target.value=ge),q.setValue(P,{formattedValue:ge})},selRange(oe){oe.target.setSelectionRange(...oe.detail.selRange)},charLimit:oe=>{var Fe;const{charLimit:ge}=oe.detail,{target:xe}=oe;if(ge===0){xe.removeAttribute("maxLength");return}xe.setAttribute("maxLength",ge);let qe=Xt.userValue;!qe||qe.length<=ge||(qe=qe.slice(0,ge),xe.value=Xt.userValue=qe,q.setValue(P,{value:qe}),(Fe=this.linkService.eventBus)==null||Fe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:qe,willCommit:!0,commitKey:1,selStart:xe.selectionStart,selEnd:xe.selectionEnd}}))}};this._dispatchEventFromSandbox(ee,Yt)}),et.addEventListener("keydown",Yt=>{var ge;Xt.commitKey=1;let ee=-1;if(Yt.key==="Escape"?ee=0:Yt.key==="Enter"&&!this.data.multiLine?ee=2:Yt.key==="Tab"&&(Xt.commitKey=3),ee===-1)return;const{value:oe}=Yt.target;Xt.lastCommittedValue!==oe&&(Xt.lastCommittedValue=oe,Xt.userValue=oe,(ge=this.linkService.eventBus)==null||ge.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:oe,willCommit:!0,commitKey:ee,selStart:Yt.target.selectionStart,selEnd:Yt.target.selectionEnd}}))});const Kt=le;le=null,et.addEventListener("blur",Yt=>{var oe;if(!Xt.focused||!Yt.relatedTarget)return;Xt.focused=!1;const{value:ee}=Yt.target;Xt.userValue=ee,Xt.lastCommittedValue!==ee&&((oe=this.linkService.eventBus)==null||oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:ee,willCommit:!0,commitKey:Xt.commitKey,selStart:Yt.target.selectionStart,selEnd:Yt.target.selectionEnd}})),Kt(Yt)}),(St=this.data.actions)!=null&&St.Keystroke&&et.addEventListener("beforeinput",Yt=>{var bn;Xt.lastCommittedValue=null;const{data:ee,target:oe}=Yt,{value:ge,selectionStart:xe,selectionEnd:qe}=oe;let Fe=xe,en=qe;switch(Yt.inputType){case"deleteWordBackward":{const nn=ge.substring(0,xe).match(/\w*[^\w]*$/);nn&&(Fe-=nn[0].length);break}case"deleteWordForward":{const nn=ge.substring(xe).match(/^[^\w]*\w*/);nn&&(en+=nn[0].length);break}case"deleteContentBackward":xe===qe&&(Fe-=1);break;case"deleteContentForward":xe===qe&&(en+=1);break}Yt.preventDefault(),(bn=this.linkService.eventBus)==null||bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:ge,change:ee||"",willCommit:!1,selStart:Fe,selEnd:en}})}),this._setEventListeners(et,Xt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Yt=>Yt.target.value)}if(le&&et.addEventListener("blur",le),this.data.comb){const Yt=(this.data.rect[2]-this.data.rect[0])/$t;et.classList.add("comb"),et.style.letterSpacing=`calc(${Yt}px * var(--scale-factor) - 1ch)`}}else et=document.createElement("div"),et.textContent=this.data.fieldValue,et.style.verticalAlign="middle",et.style.display="table-cell";return this._setTextStyle(et),this._setBackgroundColor(et),this._setDefaultPropertiesFromJS(et),this.container.append(et),this.container}}class U extends d{constructor(q){super(q,{isRenderable:!!q.data.hasOwnCanvas})}}class k extends d{constructor(q){super(q,{isRenderable:q.renderForms})}render(){const q=this.annotationStorage,P=this.data,et=P.id;let At=q.getValue(et,{value:P.exportValue===P.fieldValue}).value;typeof At=="string"&&(At=At!=="Off",q.setValue(et,{value:At})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const St=document.createElement("input");return H.add(St),St.setAttribute("data-element-id",et),St.disabled=P.readOnly,this._setRequired(St,this.data.required),St.type="checkbox",St.name=P.fieldName,At&&St.setAttribute("checked",!0),St.setAttribute("exportValue",P.exportValue),St.tabIndex=A,St.addEventListener("change",Ft=>{const{name:Ut,checked:$t}=Ft.target;for(const Qt of this._getElementsByName(Ut,et)){const Xt=$t&&Qt.exportValue===P.exportValue;Qt.domElement&&(Qt.domElement.checked=Xt),q.setValue(Qt.id,{value:Xt})}q.setValue(et,{value:$t})}),St.addEventListener("resetform",Ft=>{const Ut=P.defaultFieldValue||"Off";Ft.target.checked=Ut===P.exportValue}),this.enableScripting&&this.hasJSActions&&(St.addEventListener("updatefromsandbox",Ft=>{const Ut={value($t){$t.target.checked=$t.detail.value!=="Off",q.setValue(et,{value:$t.target.checked})}};this._dispatchEventFromSandbox(Ut,Ft)}),this._setEventListeners(St,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ft=>Ft.target.checked)),this._setBackgroundColor(St),this._setDefaultPropertiesFromJS(St),this.container.append(St),this.container}}class p extends d{constructor(q){super(q,{isRenderable:q.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const q=this.annotationStorage,P=this.data,et=P.id;let At=q.getValue(et,{value:P.fieldValue===P.buttonValue}).value;typeof At=="string"&&(At=At!==P.buttonValue,q.setValue(et,{value:At}));const St=document.createElement("input");if(H.add(St),St.setAttribute("data-element-id",et),St.disabled=P.readOnly,this._setRequired(St,this.data.required),St.type="radio",St.name=P.fieldName,At&&St.setAttribute("checked",!0),St.tabIndex=A,St.addEventListener("change",Ft=>{const{name:Ut,checked:$t}=Ft.target;for(const Qt of this._getElementsByName(Ut,et))q.setValue(Qt.id,{value:!1});q.setValue(et,{value:$t})}),St.addEventListener("resetform",Ft=>{const Ut=P.defaultFieldValue;Ft.target.checked=Ut!=null&&Ut===P.buttonValue}),this.enableScripting&&this.hasJSActions){const Ft=P.buttonValue;St.addEventListener("updatefromsandbox",Ut=>{const $t={value:Qt=>{const Xt=Ft===Qt.detail.value;for(const le of this._getElementsByName(Qt.target.name)){const Kt=Xt&&le.id===et;le.domElement&&(le.domElement.checked=Kt),q.setValue(le.id,{value:Kt})}}};this._dispatchEventFromSandbox($t,Ut)}),this._setEventListeners(St,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ut=>Ut.target.checked)}return this._setBackgroundColor(St),this._setDefaultPropertiesFromJS(St),this.container.append(St),this.container}}class b extends N{constructor(q){super(q,{ignoreBorder:q.data.hasAppearance})}render(){const q=super.render();q.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(q.title=this.data.alternativeText);const P=q.lastChild;return this.enableScripting&&this.hasJSActions&&P&&(this._setDefaultPropertiesFromJS(P),P.addEventListener("updatefromsandbox",et=>{this._dispatchEventFromSandbox({},et)})),q}}class h extends d{constructor(q){super(q,{isRenderable:q.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const q=this.annotationStorage,P=this.data.id,et=q.getValue(P,{value:this.data.fieldValue}),At=document.createElement("select");H.add(At),At.setAttribute("data-element-id",P),At.disabled=this.data.readOnly,this._setRequired(At,this.data.required),At.name=this.data.fieldName,At.tabIndex=A;let St=this.data.combo&&this.data.options.length>0;this.data.combo||(At.size=this.data.options.length,this.data.multiSelect&&(At.multiple=!0)),At.addEventListener("resetform",Xt=>{const le=this.data.defaultFieldValue;for(const Kt of At.options)Kt.selected=Kt.value===le});for(const Xt of this.data.options){const le=document.createElement("option");le.textContent=Xt.displayValue,le.value=Xt.exportValue,et.value.includes(Xt.exportValue)&&(le.setAttribute("selected",!0),St=!1),At.append(le)}let Ft=null;if(St){const Xt=document.createElement("option");Xt.value=" ",Xt.setAttribute("hidden",!0),Xt.setAttribute("selected",!0),At.prepend(Xt),Ft=()=>{Xt.remove(),At.removeEventListener("input",Ft),Ft=null},At.addEventListener("input",Ft)}const Ut=Xt=>{const le=Xt?"value":"textContent",{options:Kt,multiple:Yt}=At;return Yt?Array.prototype.filter.call(Kt,ee=>ee.selected).map(ee=>ee[le]):Kt.selectedIndex===-1?null:Kt[Kt.selectedIndex][le]};let $t=Ut(!1);const Qt=Xt=>{const le=Xt.target.options;return Array.prototype.map.call(le,Kt=>({displayValue:Kt.textContent,exportValue:Kt.value}))};return this.enableScripting&&this.hasJSActions?(At.addEventListener("updatefromsandbox",Xt=>{const le={value(Kt){Ft==null||Ft();const Yt=Kt.detail.value,ee=new Set(Array.isArray(Yt)?Yt:[Yt]);for(const oe of At.options)oe.selected=ee.has(oe.value);q.setValue(P,{value:Ut(!0)}),$t=Ut(!1)},multipleSelection(Kt){At.multiple=!0},remove(Kt){const Yt=At.options,ee=Kt.detail.remove;Yt[ee].selected=!1,At.remove(ee),Yt.length>0&&Array.prototype.findIndex.call(Yt,ge=>ge.selected)===-1&&(Yt[0].selected=!0),q.setValue(P,{value:Ut(!0),items:Qt(Kt)}),$t=Ut(!1)},clear(Kt){for(;At.length!==0;)At.remove(0);q.setValue(P,{value:null,items:[]}),$t=Ut(!1)},insert(Kt){const{index:Yt,displayValue:ee,exportValue:oe}=Kt.detail.insert,ge=At.children[Yt],xe=document.createElement("option");xe.textContent=ee,xe.value=oe,ge?ge.before(xe):At.append(xe),q.setValue(P,{value:Ut(!0),items:Qt(Kt)}),$t=Ut(!1)},items(Kt){const{items:Yt}=Kt.detail;for(;At.length!==0;)At.remove(0);for(const ee of Yt){const{displayValue:oe,exportValue:ge}=ee,xe=document.createElement("option");xe.textContent=oe,xe.value=ge,At.append(xe)}At.options.length>0&&(At.options[0].selected=!0),q.setValue(P,{value:Ut(!0),items:Qt(Kt)}),$t=Ut(!1)},indices(Kt){const Yt=new Set(Kt.detail.indices);for(const ee of Kt.target.options)ee.selected=Yt.has(ee.index);q.setValue(P,{value:Ut(!0)}),$t=Ut(!1)},editable(Kt){Kt.target.disabled=!Kt.detail.editable}};this._dispatchEventFromSandbox(le,Xt)}),At.addEventListener("input",Xt=>{var Kt;const le=Ut(!0);q.setValue(P,{value:le}),Xt.preventDefault(),(Kt=this.linkService.eventBus)==null||Kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:$t,changeEx:le,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(At,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Xt=>Xt.target.value)):At.addEventListener("input",function(Xt){q.setValue(P,{value:Ut(!0)})}),this.data.combo&&this._setTextStyle(At),this._setBackgroundColor(At),this._setDefaultPropertiesFromJS(At),this.container.append(At),this.container}}class y extends T{constructor(q){const{data:P,elements:et}=q;super(q,{isRenderable:T._hasPopupData(P)}),this.elements=et}render(){this.container.classList.add("popupAnnotation");const q=new v({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),P=[];for(const et of this.elements)et.popup=q,P.push(et.data.id),et.addHighlightArea();return this.container.setAttribute("aria-controls",P.map(et=>`${l.AnnotationPrefix}${et}`).join(",")),this.container}}class v{constructor({container:q,color:P,elements:et,titleObj:At,modificationDate:St,contentsObj:Ft,richText:Ut,parent:$t,rect:Qt,parentRect:Xt,open:le}){gt(this,It);gt(this,mt,null);gt(this,Tt,st(this,It,Kf).bind(this));gt(this,Ct,st(this,It,Dc).bind(this));gt(this,Lt,st(this,It,wc).bind(this));gt(this,Nt,st(this,It,Xr).bind(this));gt(this,jt,null);gt(this,dt,null);gt(this,pt,null);gt(this,L,null);gt(this,V,null);gt(this,lt,null);gt(this,ft,!1);gt(this,Rt,null);gt(this,zt,null);gt(this,Dt,null);gt(this,ot,null);gt(this,Gt,!1);var Yt;yt(this,dt,q),yt(this,ot,At),yt(this,pt,Ft),yt(this,Dt,Ut),yt(this,V,$t),yt(this,jt,P),yt(this,zt,Qt),yt(this,lt,Xt),yt(this,L,et);const Kt=R.PDFDateString.toDateObject(St);Kt&&yt(this,mt,$t.l10n.get("annotation_date_string",{date:Kt.toLocaleDateString(),time:Kt.toLocaleTimeString()})),this.trigger=et.flatMap(ee=>ee.getElementsToTriggerPopup());for(const ee of this.trigger)ee.addEventListener("click",r(this,Nt)),ee.addEventListener("mouseenter",r(this,Lt)),ee.addEventListener("mouseleave",r(this,Ct)),ee.classList.add("popupTriggerArea");for(const ee of et)(Yt=ee.container)==null||Yt.addEventListener("keydown",r(this,Tt));r(this,dt).hidden=!0,le&&st(this,It,Xr).call(this)}render(){if(r(this,Rt))return;const{page:{view:q},viewport:{rawDims:{pageWidth:P,pageHeight:et,pageX:At,pageY:St}}}=r(this,V),Ft=yt(this,Rt,document.createElement("div"));if(Ft.className="popup",r(this,jt)){const Fe=Ft.style.outlineColor=l.Util.makeHexColor(...r(this,jt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Ft.style.backgroundColor=`color-mix(in srgb, ${Fe} 30%, white)`:Ft.style.backgroundColor=l.Util.makeHexColor(...r(this,jt).map(bn=>Math.floor(.7*(255-bn)+bn)))}const Ut=document.createElement("span");Ut.className="header";const $t=document.createElement("h1");if(Ut.append($t),{dir:$t.dir,str:$t.textContent}=r(this,ot),Ft.append(Ut),r(this,mt)){const Fe=document.createElement("span");Fe.classList.add("popupDate"),r(this,mt).then(en=>{Fe.textContent=en}),Ut.append(Fe)}const Qt=r(this,pt),Xt=r(this,Dt);if(Xt!=null&&Xt.str&&(!(Qt!=null&&Qt.str)||Qt.str===Xt.str))F.XfaLayer.render({xfaHtml:Xt.html,intent:"richText",div:Ft}),Ft.lastChild.classList.add("richText","popupContent");else{const Fe=this._formatContents(Qt);Ft.append(Fe)}let le=!!r(this,lt),Kt=le?r(this,lt):r(this,zt);for(const Fe of r(this,L))if(!Kt||l.Util.intersect(Fe.data.rect,Kt)!==null){Kt=Fe.data.rect,le=!0;break}const Yt=l.Util.normalizeRect([Kt[0],q[3]-Kt[1]+q[1],Kt[2],q[3]-Kt[3]+q[1]]),oe=le?Kt[2]-Kt[0]+5:0,ge=Yt[0]+oe,xe=Yt[1],{style:qe}=r(this,dt);qe.left=`${100*(ge-At)/P}%`,qe.top=`${100*(xe-St)/et}%`,r(this,dt).append(Ft)}_formatContents({str:q,dir:P}){const et=document.createElement("p");et.classList.add("popupContent"),et.dir=P;const At=q.split(/(?:\r\n?|\n)/);for(let St=0,Ft=At.length;St<Ft;++St){const Ut=At[St];et.append(document.createTextNode(Ut)),St<Ft-1&&et.append(document.createElement("br"))}return et}forceHide(){yt(this,Gt,this.isVisible),r(this,Gt)&&(r(this,dt).hidden=!0)}maybeShow(){r(this,Gt)&&(yt(this,Gt,!1),r(this,dt).hidden=!1)}get isVisible(){return r(this,dt).hidden===!1}}mt=new WeakMap,Tt=new WeakMap,Ct=new WeakMap,Lt=new WeakMap,Nt=new WeakMap,jt=new WeakMap,dt=new WeakMap,pt=new WeakMap,L=new WeakMap,V=new WeakMap,lt=new WeakMap,ft=new WeakMap,Rt=new WeakMap,zt=new WeakMap,Dt=new WeakMap,ot=new WeakMap,Gt=new WeakMap,It=new WeakSet,Kf=function(q){q.altKey||q.shiftKey||q.ctrlKey||q.metaKey||(q.key==="Enter"||q.key==="Escape"&&r(this,ft))&&st(this,It,Xr).call(this)},Xr=function(){yt(this,ft,!r(this,ft)),r(this,ft)?(st(this,It,wc).call(this),r(this,dt).addEventListener("click",r(this,Nt)),r(this,dt).addEventListener("keydown",r(this,Tt))):(st(this,It,Dc).call(this),r(this,dt).removeEventListener("click",r(this,Nt)),r(this,dt).removeEventListener("keydown",r(this,Tt)))},wc=function(){r(this,Rt)||this.render(),this.isVisible?r(this,ft)&&r(this,dt).classList.add("focused"):(r(this,dt).hidden=!1,r(this,dt).style.zIndex=parseInt(r(this,dt).style.zIndex)+1e3)},Dc=function(){r(this,dt).classList.remove("focused"),!(r(this,ft)||!this.isVisible)&&(r(this,dt).hidden=!0,r(this,dt).style.zIndex=parseInt(r(this,dt).style.zIndex)-1e3)};class K extends T{constructor(q){super(q,{isRenderable:!0,ignoreBorder:!0}),this.textContent=q.data.textContent,this.textPosition=q.data.textPosition,this.annotationEditorType=l.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const q=document.createElement("div");q.classList.add("annotationTextContent"),q.setAttribute("role","comment");for(const P of this.textContent){const et=document.createElement("span");et.textContent=P,q.append(et)}this.container.append(q)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}m.FreeTextAnnotationElement=K;class f extends T{constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0});gt(this,ne,null)}render(){this.container.classList.add("lineAnnotation");const P=this.data,{width:et,height:At}=G(P.rect),St=this.svgFactory.create(et,At,!0),Ft=yt(this,ne,this.svgFactory.createElement("svg:line"));return Ft.setAttribute("x1",P.rect[2]-P.lineCoordinates[0]),Ft.setAttribute("y1",P.rect[3]-P.lineCoordinates[1]),Ft.setAttribute("x2",P.rect[2]-P.lineCoordinates[2]),Ft.setAttribute("y2",P.rect[3]-P.lineCoordinates[3]),Ft.setAttribute("stroke-width",P.borderStyle.width||1),Ft.setAttribute("stroke","transparent"),Ft.setAttribute("fill","transparent"),St.append(Ft),this.container.append(St),!P.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return r(this,ne)}addHighlightArea(){this.container.classList.add("highlightArea")}}ne=new WeakMap;class M extends T{constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0});gt(this,he,null)}render(){this.container.classList.add("squareAnnotation");const P=this.data,{width:et,height:At}=G(P.rect),St=this.svgFactory.create(et,At,!0),Ft=P.borderStyle.width,Ut=yt(this,he,this.svgFactory.createElement("svg:rect"));return Ut.setAttribute("x",Ft/2),Ut.setAttribute("y",Ft/2),Ut.setAttribute("width",et-Ft),Ut.setAttribute("height",At-Ft),Ut.setAttribute("stroke-width",Ft||1),Ut.setAttribute("stroke","transparent"),Ut.setAttribute("fill","transparent"),St.append(Ut),this.container.append(St),!P.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return r(this,he)}addHighlightArea(){this.container.classList.add("highlightArea")}}he=new WeakMap;class Y extends T{constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0});gt(this,de,null)}render(){this.container.classList.add("circleAnnotation");const P=this.data,{width:et,height:At}=G(P.rect),St=this.svgFactory.create(et,At,!0),Ft=P.borderStyle.width,Ut=yt(this,de,this.svgFactory.createElement("svg:ellipse"));return Ut.setAttribute("cx",et/2),Ut.setAttribute("cy",At/2),Ut.setAttribute("rx",et/2-Ft/2),Ut.setAttribute("ry",At/2-Ft/2),Ut.setAttribute("stroke-width",Ft||1),Ut.setAttribute("stroke","transparent"),Ut.setAttribute("fill","transparent"),St.append(Ut),this.container.append(St),!P.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return r(this,de)}addHighlightArea(){this.container.classList.add("highlightArea")}}de=new WeakMap;class ht extends T{constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0});gt(this,Ot,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const P=this.data,{width:et,height:At}=G(P.rect),St=this.svgFactory.create(et,At,!0);let Ft=[];for(const $t of P.vertices){const Qt=$t.x-P.rect[0],Xt=P.rect[3]-$t.y;Ft.push(Qt+","+Xt)}Ft=Ft.join(" ");const Ut=yt(this,Ot,this.svgFactory.createElement(this.svgElementName));return Ut.setAttribute("points",Ft),Ut.setAttribute("stroke-width",P.borderStyle.width||1),Ut.setAttribute("stroke","transparent"),Ut.setAttribute("fill","transparent"),St.append(Ut),this.container.append(St),!P.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return r(this,Ot)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ot=new WeakMap;class $ extends ht{constructor(q){super(q),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class w extends T{constructor(q){super(q,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class I extends T{constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0});gt(this,ut,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=l.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const P=this.data,{width:et,height:At}=G(P.rect),St=this.svgFactory.create(et,At,!0);for(const Ft of P.inkLists){let Ut=[];for(const Qt of Ft){const Xt=Qt.x-P.rect[0],le=P.rect[3]-Qt.y;Ut.push(`${Xt},${le}`)}Ut=Ut.join(" ");const $t=this.svgFactory.createElement(this.svgElementName);r(this,ut).push($t),$t.setAttribute("points",Ut),$t.setAttribute("stroke-width",P.borderStyle.width||1),$t.setAttribute("stroke","transparent"),$t.setAttribute("fill","transparent"),!P.popupRef&&this.hasPopupData&&this._createPopup(),St.append($t)}return this.container.append(St),this.container}getElementsToTriggerPopup(){return r(this,ut)}addHighlightArea(){this.container.classList.add("highlightArea")}}ut=new WeakMap,m.InkAnnotationElement=I;class nt extends T{constructor(q){super(q,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class j extends T{constructor(q){super(q,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Z extends T{constructor(q){super(q,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class S extends T{constructor(q){super(q,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class g extends T{constructor(q){super(q,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}m.StampAnnotationElement=g;class o extends T{constructor(P){var St;super(P,{isRenderable:!0});gt(this,Wt);gt(this,bt,null);const{filename:et,content:At}=this.data.file;this.filename=(0,R.getFilenameFromUrl)(et,!0),this.content=At,(St=this.linkService.eventBus)==null||St.dispatch("fileattachmentannotation",{source:this,filename:et,content:At})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:P,data:et}=this;let At;et.hasAppearance||et.fillAlpha===0?At=document.createElement("div"):(At=document.createElement("img"),At.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(et.name)?"paperclip":"pushpin"}.svg`,et.fillAlpha&&et.fillAlpha<1&&(At.style=`filter: opacity(${Math.round(et.fillAlpha*100)}%);`)),At.addEventListener("dblclick",st(this,Wt,Oc).bind(this)),yt(this,bt,At);const{isMac:St}=l.FeatureTest.platform;return P.addEventListener("keydown",Ft=>{Ft.key==="Enter"&&(St?Ft.metaKey:Ft.ctrlKey)&&st(this,Wt,Oc).call(this)}),!et.popupRef&&this.hasPopupData?this._createPopup():At.classList.add("popupTriggerArea"),P.append(At),P}getElementsToTriggerPopup(){return r(this,bt)}addHighlightArea(){this.container.classList.add("highlightArea")}}bt=new WeakMap,Wt=new WeakSet,Oc=function(){var P;(P=this.downloadManager)==null||P.openOrDownloadData(this.container,this.content,this.filename)};class c{constructor({div:q,accessibilityManager:P,annotationCanvasMap:et,l10n:At,page:St,viewport:Ft}){gt(this,qt);gt(this,ue,null);gt(this,W,null);gt(this,Mt,new Map);this.div=q,yt(this,ue,P),yt(this,W,et),this.l10n=At,this.page=St,this.viewport=Ft,this.zIndex=0,this.l10n||(this.l10n=_t.NullL10n)}async render(q){const{annotations:P}=q,et=this.div;(0,R.setLayerDimensions)(et,this.viewport);const At=new Map,St={data:null,layer:et,linkService:q.linkService,downloadManager:q.downloadManager,imageResourcesPath:q.imageResourcesPath||"",renderForms:q.renderForms!==!1,svgFactory:new R.DOMSVGFactory,annotationStorage:q.annotationStorage||new rt.AnnotationStorage,enableScripting:q.enableScripting===!0,hasJSActions:q.hasJSActions,fieldObjects:q.fieldObjects,parent:this,elements:null};for(const Ft of P){if(Ft.noHTML)continue;const Ut=Ft.annotationType===l.AnnotationType.POPUP;if(Ut){const Xt=At.get(Ft.id);if(!Xt)continue;St.elements=Xt}else{const{width:Xt,height:le}=G(Ft.rect);if(Xt<=0||le<=0)continue}St.data=Ft;const $t=O.create(St);if(!$t.isRenderable)continue;if(!Ut&&Ft.popupRef){const Xt=At.get(Ft.popupRef);Xt?Xt.push($t):At.set(Ft.popupRef,[$t])}$t.annotationEditorType>0&&r(this,Mt).set($t.data.id,$t);const Qt=$t.render();Ft.hidden&&(Qt.style.visibility="hidden"),st(this,qt,Wf).call(this,Qt,Ft.id)}st(this,qt,kc).call(this),await this.l10n.translate(et)}update({viewport:q}){const P=this.div;this.viewport=q,(0,R.setLayerDimensions)(P,{rotation:q.rotation}),st(this,qt,kc).call(this),P.hidden=!1}getEditableAnnotations(){return Array.from(r(this,Mt).values())}getEditableAnnotation(q){return r(this,Mt).get(q)}}ue=new WeakMap,W=new WeakMap,Mt=new WeakMap,qt=new WeakSet,Wf=function(q,P){var At;const et=q.firstChild||q;et.id=`${l.AnnotationPrefix}${P}`,this.div.append(q),(At=r(this,ue))==null||At.moveElementInDOM(this.div,q,et,!1)},kc=function(){if(!r(this,W))return;const q=this.div;for(const[P,et]of r(this,W)){const At=q.querySelector(`[data-annotation-id="${P}"]`);if(!At)continue;const{firstChild:St}=At;St?St.nodeName==="CANVAS"?St.replaceWith(et):St.before(et):At.append(et)}r(this,W).clear()},m.AnnotationLayer=c}),((J,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.ColorConverters=void 0;function at(rt){return Math.floor(Math.max(0,Math.min(1,rt))*255).toString(16).padStart(2,"0")}function l(rt){return Math.max(0,Math.min(255,255*rt))}class R{static CMYK_G([Q,_t,F,A]){return["G",1-Math.min(1,.3*Q+.59*F+.11*_t+A)]}static G_CMYK([Q]){return["CMYK",0,0,0,1-Q]}static G_RGB([Q]){return["RGB",Q,Q,Q]}static G_rgb([Q]){return Q=l(Q),[Q,Q,Q]}static G_HTML([Q]){const _t=at(Q);return`#${_t}${_t}${_t}`}static RGB_G([Q,_t,F]){return["G",.3*Q+.59*_t+.11*F]}static RGB_rgb(Q){return Q.map(l)}static RGB_HTML(Q){return`#${Q.map(at).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Q,_t,F,A]){return["RGB",1-Math.min(1,Q+A),1-Math.min(1,F+A),1-Math.min(1,_t+A)]}static CMYK_rgb([Q,_t,F,A]){return[l(1-Math.min(1,Q+A)),l(1-Math.min(1,F+A)),l(1-Math.min(1,_t+A))]}static CMYK_HTML(Q){const _t=this.CMYK_RGB(Q).slice(1);return this.RGB_HTML(_t)}static RGB_CMYK([Q,_t,F]){const A=1-Q,x=1-_t,H=1-F,G=Math.min(A,x,H);return["CMYK",A,x,H,G]}}m.ColorConverters=R}),((J,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.NullL10n=void 0,m.getL10nFallback=l;const at={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};at.print_progress_percent="{{progress}}%";function l(Q,_t){switch(Q){case"find_match_count":Q=`find_match_count[${_t.total===1?"one":"other"}]`;break;case"find_match_count_limit":Q=`find_match_count_limit[${_t.limit===1?"one":"other"}]`;break}return at[Q]||""}function R(Q,_t){return _t?Q.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(F,A)=>A in _t?_t[A]:"{{"+A+"}}"):Q}const rt={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Q,_t=null,F=l(Q,_t)){return R(F,_t)},async translate(Q){}};m.NullL10n=rt}),((J,m,at)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XfaLayer=void 0;var l=at(25);class R{static setupStorage(Q,_t,F,A,x){const H=A.getValue(_t,{value:null});switch(F.name){case"textarea":if(H.value!==null&&(Q.textContent=H.value),x==="print")break;Q.addEventListener("input",G=>{A.setValue(_t,{value:G.target.value})});break;case"input":if(F.attributes.type==="radio"||F.attributes.type==="checkbox"){if(H.value===F.attributes.xfaOn?Q.setAttribute("checked",!0):H.value===F.attributes.xfaOff&&Q.removeAttribute("checked"),x==="print")break;Q.addEventListener("change",G=>{A.setValue(_t,{value:G.target.checked?G.target.getAttribute("xfaOn"):G.target.getAttribute("xfaOff")})})}else{if(H.value!==null&&Q.setAttribute("value",H.value),x==="print")break;Q.addEventListener("input",G=>{A.setValue(_t,{value:G.target.value})})}break;case"select":if(H.value!==null){Q.setAttribute("value",H.value);for(const G of F.children)G.attributes.value===H.value?G.attributes.selected=!0:G.attributes.hasOwnProperty("selected")&&delete G.attributes.selected}Q.addEventListener("input",G=>{const O=G.target.options,T=O.selectedIndex===-1?"":O[O.selectedIndex].value;A.setValue(_t,{value:T})});break}}static setAttributes({html:Q,element:_t,storage:F=null,intent:A,linkService:x}){const{attributes:H}=_t,G=Q instanceof HTMLAnchorElement;H.type==="radio"&&(H.name=`${H.name}-${A}`);for(const[O,T]of Object.entries(H))if(T!=null)switch(O){case"class":T.length&&Q.setAttribute(O,T.join(" "));break;case"dataId":break;case"id":Q.setAttribute("data-element-id",T);break;case"style":Object.assign(Q.style,T);break;case"textContent":Q.textContent=T;break;default:(!G||O!=="href"&&O!=="newWindow")&&Q.setAttribute(O,T)}G&&x.addLinkAttributes(Q,H.href,H.newWindow),F&&H.dataId&&this.setupStorage(Q,H.dataId,_t,F)}static render(Q){var N;const _t=Q.annotationStorage,F=Q.linkService,A=Q.xfaHtml,x=Q.intent||"display",H=document.createElement(A.name);A.attributes&&this.setAttributes({html:H,element:A,intent:x,linkService:F});const G=[[A,-1,H]],O=Q.div;if(O.append(H),Q.viewport){const C=`matrix(${Q.viewport.transform.join(",")})`;O.style.transform=C}x!=="richText"&&O.setAttribute("class","xfaLayer xfaFont");const T=[];for(;G.length>0;){const[C,d,E]=G.at(-1);if(d+1===C.children.length){G.pop();continue}const U=C.children[++G.at(-1)[1]];if(U===null)continue;const{name:k}=U;if(k==="#text"){const b=document.createTextNode(U.value);T.push(b),E.append(b);continue}const p=(N=U==null?void 0:U.attributes)!=null&&N.xmlns?document.createElementNS(U.attributes.xmlns,k):document.createElement(k);if(E.append(p),U.attributes&&this.setAttributes({html:p,element:U,storage:_t,intent:x,linkService:F}),U.children&&U.children.length>0)G.push([U,-1,p]);else if(U.value){const b=document.createTextNode(U.value);l.XfaText.shouldBuildText(k)&&T.push(b),p.append(b)}}for(const C of O.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))C.setAttribute("readOnly",!0);return{textDivs:T}}static update(Q){const _t=`matrix(${Q.viewport.transform.join(",")})`;Q.div.style.transform=_t,Q.div.hidden=!1}}m.XfaLayer=R}),((J,m,at)=>{var A,x,H,G,O,T,N,C,d,E,U,k,p,b,h,Qf,Zf,Jf,$f,Lc,tp,Nc,ep,np,ip,ap,sp,ni,Fc,Yr,Vr,Ma,jc,Kr,B,rp,zc,lp,op,Pc,Wr,wa;Object.defineProperty(m,"__esModule",{value:!0}),m.InkEditor=void 0;var l=at(1),R=at(4),rt=at(29),Q=at(6),_t=at(5);const jt=class jt extends R.AnnotationEditor{constructor(L){super({...L,name:"inkEditor"});gt(this,h);gt(this,A,0);gt(this,x,0);gt(this,H,this.canvasPointermove.bind(this));gt(this,G,this.canvasPointerleave.bind(this));gt(this,O,this.canvasPointerup.bind(this));gt(this,T,this.canvasPointerdown.bind(this));gt(this,N,new Path2D);gt(this,C,!1);gt(this,d,!1);gt(this,E,!1);gt(this,U,null);gt(this,k,0);gt(this,p,0);gt(this,b,null);this.color=L.color||null,this.thickness=L.thickness||null,this.opacity=L.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(L){R.AnnotationEditor.initialize(L,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(L,V){switch(L){case l.AnnotationEditorParamsType.INK_THICKNESS:jt._defaultThickness=V;break;case l.AnnotationEditorParamsType.INK_COLOR:jt._defaultColor=V;break;case l.AnnotationEditorParamsType.INK_OPACITY:jt._defaultOpacity=V/100;break}}updateParams(L,V){switch(L){case l.AnnotationEditorParamsType.INK_THICKNESS:st(this,h,Qf).call(this,V);break;case l.AnnotationEditorParamsType.INK_COLOR:st(this,h,Zf).call(this,V);break;case l.AnnotationEditorParamsType.INK_OPACITY:st(this,h,Jf).call(this,V);break}}static get defaultPropertiesToUpdate(){return[[l.AnnotationEditorParamsType.INK_THICKNESS,jt._defaultThickness],[l.AnnotationEditorParamsType.INK_COLOR,jt._defaultColor||R.AnnotationEditor._defaultLineColor],[l.AnnotationEditorParamsType.INK_OPACITY,Math.round(jt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[l.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||jt._defaultThickness],[l.AnnotationEditorParamsType.INK_COLOR,this.color||jt._defaultColor||R.AnnotationEditor._defaultLineColor],[l.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??jt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(st(this,h,Yr).call(this),st(this,h,Vr).call(this)),this.isAttachedToDOM||(this.parent.add(this),st(this,h,Ma).call(this)),st(this,h,wa).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,r(this,U).disconnect(),yt(this,U,null),super.remove())}setParent(L){!this.parent&&L?this._uiManager.removeShouldRescale(this):this.parent&&L===null&&this._uiManager.addShouldRescale(this),super.setParent(L)}onScaleChanging(){const[L,V]=this.parentDimensions,lt=this.width*L,ft=this.height*V;this.setDimensions(lt,ft)}enableEditMode(){r(this,C)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",r(this,T)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",r(this,T)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){r(this,C)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),yt(this,C,!0),this.div.classList.add("disabled"),st(this,h,wa).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(L){this._focusEventsAllowed&&(super.focusin(L),this.enableEditMode())}canvasPointerdown(L){L.button!==0||!this.isInEditMode()||r(this,C)||(this.setInForeground(),L.preventDefault(),L.type!=="mouse"&&this.div.focus(),st(this,h,tp).call(this,L.offsetX,L.offsetY))}canvasPointermove(L){L.preventDefault(),st(this,h,Nc).call(this,L.offsetX,L.offsetY)}canvasPointerup(L){L.preventDefault(),st(this,h,Fc).call(this,L)}canvasPointerleave(L){st(this,h,Fc).call(this,L)}get isResizable(){return!this.isEmpty()&&r(this,C)}render(){if(this.div)return this.div;let L,V;this.width&&(L=this.x,V=this.y),super.render(),R.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Dt=>{var ot;return(ot=this.div)==null?void 0:ot.setAttribute("aria-label",Dt)});const[lt,ft,Rt,zt]=st(this,h,$f).call(this);if(this.setAt(lt,ft,0,0),this.setDims(Rt,zt),st(this,h,Yr).call(this),this.width){const[Dt,ot]=this.parentDimensions;this.setAspectRatio(this.width*Dt,this.height*ot),this.setAt(L*Dt,V*ot,this.width*Dt,this.height*ot),yt(this,E,!0),st(this,h,Ma).call(this),this.setDims(this.width*Dt,this.height*ot),st(this,h,ni).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return st(this,h,Vr).call(this),this.div}setDimensions(L,V){const lt=Math.round(L),ft=Math.round(V);if(r(this,k)===lt&&r(this,p)===ft)return;yt(this,k,lt),yt(this,p,ft),this.canvas.style.visibility="hidden";const[Rt,zt]=this.parentDimensions;this.width=L/Rt,this.height=V/zt,this.fixAndSetPosition(),r(this,C)&&st(this,h,jc).call(this,L,V),st(this,h,Ma).call(this),st(this,h,ni).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(L,V,lt){var ne,he,de;if(L instanceof rt.InkAnnotationElement)return null;const ft=super.deserialize(L,V,lt);ft.thickness=L.thickness,ft.color=l.Util.makeHexColor(...L.color),ft.opacity=L.opacity;const[Rt,zt]=ft.pageDimensions,Dt=ft.width*Rt,ot=ft.height*zt,Gt=ft.parentScale,It=L.thickness/2;yt(ft,C,!0),yt(ft,k,Math.round(Dt)),yt(ft,p,Math.round(ot));const{paths:re,rect:ae,rotation:pe}=L;for(let{bezier:Ot}of re){Ot=st(ne=jt,B,lp).call(ne,Ot,ae,pe);const ut=[];ft.paths.push(ut);let bt=Gt*(Ot[0]-It),Wt=Gt*(Ot[1]-It);for(let ue=2,W=Ot.length;ue<W;ue+=6){const Mt=Gt*(Ot[ue]-It),qt=Gt*(Ot[ue+1]-It),Zt=Gt*(Ot[ue+2]-It),te=Gt*(Ot[ue+3]-It),Vt=Gt*(Ot[ue+4]-It),q=Gt*(Ot[ue+5]-It);ut.push([[bt,Wt],[Mt,qt],[Zt,te],[Vt,q]]),bt=Vt,Wt=q}const me=st(this,B,rp).call(this,ut);ft.bezierPath2D.push(me)}const Jt=st(he=ft,h,Pc).call(he);return yt(ft,x,Math.max(R.AnnotationEditor.MIN_SIZE,Jt[2]-Jt[0])),yt(ft,A,Math.max(R.AnnotationEditor.MIN_SIZE,Jt[3]-Jt[1])),st(de=ft,h,jc).call(de,Dt,ot),ft}serialize(){if(this.isEmpty())return null;const L=this.getRect(0,0),V=R.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:l.AnnotationEditorType.INK,color:V,thickness:this.thickness,opacity:this.opacity,paths:st(this,h,op).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,L),pageIndex:this.pageIndex,rect:L,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};A=new WeakMap,x=new WeakMap,H=new WeakMap,G=new WeakMap,O=new WeakMap,T=new WeakMap,N=new WeakMap,C=new WeakMap,d=new WeakMap,E=new WeakMap,U=new WeakMap,k=new WeakMap,p=new WeakMap,b=new WeakMap,h=new WeakSet,Qf=function(L){const V=this.thickness;this.addCommands({cmd:()=>{this.thickness=L,st(this,h,wa).call(this)},undo:()=>{this.thickness=V,st(this,h,wa).call(this)},mustExec:!0,type:l.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Zf=function(L){const V=this.color;this.addCommands({cmd:()=>{this.color=L,st(this,h,ni).call(this)},undo:()=>{this.color=V,st(this,h,ni).call(this)},mustExec:!0,type:l.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Jf=function(L){L/=100;const V=this.opacity;this.addCommands({cmd:()=>{this.opacity=L,st(this,h,ni).call(this)},undo:()=>{this.opacity=V,st(this,h,ni).call(this)},mustExec:!0,type:l.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},$f=function(){const{parentRotation:L,parentDimensions:[V,lt]}=this;switch(L){case 90:return[0,lt,lt,V];case 180:return[V,lt,V,lt];case 270:return[V,0,lt,V];default:return[0,0,V,lt]}},Lc=function(){const{ctx:L,color:V,opacity:lt,thickness:ft,parentScale:Rt,scaleFactor:zt}=this;L.lineWidth=ft*Rt/zt,L.lineCap="round",L.lineJoin="round",L.miterLimit=10,L.strokeStyle=`${V}${(0,_t.opacityToHex)(lt)}`},tp=function(L,V){this.canvas.addEventListener("contextmenu",Q.noContextMenu),this.canvas.addEventListener("pointerleave",r(this,G)),this.canvas.addEventListener("pointermove",r(this,H)),this.canvas.addEventListener("pointerup",r(this,O)),this.canvas.removeEventListener("pointerdown",r(this,T)),this.isEditing=!0,r(this,E)||(yt(this,E,!0),st(this,h,Ma).call(this),this.thickness||(this.thickness=jt._defaultThickness),this.color||(this.color=jt._defaultColor||R.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=jt._defaultOpacity)),this.currentPath.push([L,V]),yt(this,d,!1),st(this,h,Lc).call(this),yt(this,b,()=>{st(this,h,ip).call(this),r(this,b)&&window.requestAnimationFrame(r(this,b))}),window.requestAnimationFrame(r(this,b))},Nc=function(L,V){const[lt,ft]=this.currentPath.at(-1);if(this.currentPath.length>1&&L===lt&&V===ft)return;const Rt=this.currentPath;let zt=r(this,N);if(Rt.push([L,V]),yt(this,d,!0),Rt.length<=2){zt.moveTo(...Rt[0]),zt.lineTo(L,V);return}Rt.length===3&&(yt(this,N,zt=new Path2D),zt.moveTo(...Rt[0])),st(this,h,ap).call(this,zt,...Rt.at(-3),...Rt.at(-2),L,V)},ep=function(){if(this.currentPath.length===0)return;const L=this.currentPath.at(-1);r(this,N).lineTo(...L)},np=function(L,V){yt(this,b,null),L=Math.min(Math.max(L,0),this.canvas.width),V=Math.min(Math.max(V,0),this.canvas.height),st(this,h,Nc).call(this,L,V),st(this,h,ep).call(this);let lt;if(this.currentPath.length!==1)lt=st(this,h,sp).call(this);else{const ot=[L,V];lt=[[ot,ot.slice(),ot.slice(),ot]]}const ft=r(this,N),Rt=this.currentPath;this.currentPath=[],yt(this,N,new Path2D);const zt=()=>{this.allRawPaths.push(Rt),this.paths.push(lt),this.bezierPath2D.push(ft),this.rebuild()},Dt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(st(this,h,Yr).call(this),st(this,h,Vr).call(this)),st(this,h,wa).call(this))};this.addCommands({cmd:zt,undo:Dt,mustExec:!0})},ip=function(){if(!r(this,d))return;yt(this,d,!1);const L=Math.ceil(this.thickness*this.parentScale),V=this.currentPath.slice(-3),lt=V.map(zt=>zt[0]),ft=V.map(zt=>zt[1]);Math.min(...lt)-L,Math.max(...lt)+L,Math.min(...ft)-L,Math.max(...ft)+L;const{ctx:Rt}=this;Rt.save(),Rt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const zt of this.bezierPath2D)Rt.stroke(zt);Rt.stroke(r(this,N)),Rt.restore()},ap=function(L,V,lt,ft,Rt,zt,Dt){const ot=(V+ft)/2,Gt=(lt+Rt)/2,It=(ft+zt)/2,re=(Rt+Dt)/2;L.bezierCurveTo(ot+2*(ft-ot)/3,Gt+2*(Rt-Gt)/3,It+2*(ft-It)/3,re+2*(Rt-re)/3,It,re)},sp=function(){const L=this.currentPath;if(L.length<=2)return[[L[0],L[0],L.at(-1),L.at(-1)]];const V=[];let lt,[ft,Rt]=L[0];for(lt=1;lt<L.length-2;lt++){const[ae,pe]=L[lt],[Jt,ne]=L[lt+1],he=(ae+Jt)/2,de=(pe+ne)/2,Ot=[ft+2*(ae-ft)/3,Rt+2*(pe-Rt)/3],ut=[he+2*(ae-he)/3,de+2*(pe-de)/3];V.push([[ft,Rt],Ot,ut,[he,de]]),[ft,Rt]=[he,de]}const[zt,Dt]=L[lt],[ot,Gt]=L[lt+1],It=[ft+2*(zt-ft)/3,Rt+2*(Dt-Rt)/3],re=[ot+2*(zt-ot)/3,Gt+2*(Dt-Gt)/3];return V.push([[ft,Rt],It,re,[ot,Gt]]),V},ni=function(){if(this.isEmpty()){st(this,h,Kr).call(this);return}st(this,h,Lc).call(this);const{canvas:L,ctx:V}=this;V.setTransform(1,0,0,1,0,0),V.clearRect(0,0,L.width,L.height),st(this,h,Kr).call(this);for(const lt of this.bezierPath2D)V.stroke(lt)},Fc=function(L){this.canvas.removeEventListener("pointerleave",r(this,G)),this.canvas.removeEventListener("pointermove",r(this,H)),this.canvas.removeEventListener("pointerup",r(this,O)),this.canvas.addEventListener("pointerdown",r(this,T)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Q.noContextMenu)},10),st(this,h,np).call(this,L.offsetX,L.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Yr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",R.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(L=>{var V;return(V=this.canvas)==null?void 0:V.setAttribute("aria-label",L)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Vr=function(){yt(this,U,new ResizeObserver(L=>{const V=L[0].contentRect;V.width&&V.height&&this.setDimensions(V.width,V.height)})),r(this,U).observe(this.div)},Ma=function(){if(!r(this,E))return;const[L,V]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*L),this.canvas.height=Math.ceil(this.height*V),st(this,h,Kr).call(this)},jc=function(L,V){const lt=st(this,h,Wr).call(this),ft=(L-lt)/r(this,x),Rt=(V-lt)/r(this,A);this.scaleFactor=Math.min(ft,Rt)},Kr=function(){const L=st(this,h,Wr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+L,this.translationY*this.scaleFactor+L)},B=new WeakSet,rp=function(L){const V=new Path2D;for(let lt=0,ft=L.length;lt<ft;lt++){const[Rt,zt,Dt,ot]=L[lt];lt===0&&V.moveTo(...Rt),V.bezierCurveTo(zt[0],zt[1],Dt[0],Dt[1],ot[0],ot[1])}return V},zc=function(L,V,lt){const[ft,Rt,zt,Dt]=V;switch(lt){case 0:for(let ot=0,Gt=L.length;ot<Gt;ot+=2)L[ot]+=ft,L[ot+1]=Dt-L[ot+1];break;case 90:for(let ot=0,Gt=L.length;ot<Gt;ot+=2){const It=L[ot];L[ot]=L[ot+1]+ft,L[ot+1]=It+Rt}break;case 180:for(let ot=0,Gt=L.length;ot<Gt;ot+=2)L[ot]=zt-L[ot],L[ot+1]+=Rt;break;case 270:for(let ot=0,Gt=L.length;ot<Gt;ot+=2){const It=L[ot];L[ot]=zt-L[ot+1],L[ot+1]=Dt-It}break;default:throw new Error("Invalid rotation")}return L},lp=function(L,V,lt){const[ft,Rt,zt,Dt]=V;switch(lt){case 0:for(let ot=0,Gt=L.length;ot<Gt;ot+=2)L[ot]-=ft,L[ot+1]=Dt-L[ot+1];break;case 90:for(let ot=0,Gt=L.length;ot<Gt;ot+=2){const It=L[ot];L[ot]=L[ot+1]-Rt,L[ot+1]=It-ft}break;case 180:for(let ot=0,Gt=L.length;ot<Gt;ot+=2)L[ot]=zt-L[ot],L[ot+1]-=Rt;break;case 270:for(let ot=0,Gt=L.length;ot<Gt;ot+=2){const It=L[ot];L[ot]=Dt-L[ot+1],L[ot+1]=zt-It}break;default:throw new Error("Invalid rotation")}return L},op=function(L,V,lt,ft){var Gt,It;const Rt=[],zt=this.thickness/2,Dt=L*V+zt,ot=L*lt+zt;for(const re of this.paths){const ae=[],pe=[];for(let Jt=0,ne=re.length;Jt<ne;Jt++){const[he,de,Ot,ut]=re[Jt],bt=L*he[0]+Dt,Wt=L*he[1]+ot,me=L*de[0]+Dt,ue=L*de[1]+ot,W=L*Ot[0]+Dt,Mt=L*Ot[1]+ot,qt=L*ut[0]+Dt,Zt=L*ut[1]+ot;Jt===0&&(ae.push(bt,Wt),pe.push(bt,Wt)),ae.push(me,ue,W,Mt,qt,Zt),pe.push(me,ue),Jt===ne-1&&pe.push(qt,Zt)}Rt.push({bezier:st(Gt=jt,B,zc).call(Gt,ae,ft,this.rotation),points:st(It=jt,B,zc).call(It,pe,ft,this.rotation)})}return Rt},Pc=function(){let L=1/0,V=-1/0,lt=1/0,ft=-1/0;for(const Rt of this.paths)for(const[zt,Dt,ot,Gt]of Rt){const It=l.Util.bezierBoundingBox(...zt,...Dt,...ot,...Gt);L=Math.min(L,It[0]),lt=Math.min(lt,It[1]),V=Math.max(V,It[2]),ft=Math.max(ft,It[3])}return[L,lt,V,ft]},Wr=function(){return r(this,C)?Math.ceil(this.thickness*this.parentScale):0},wa=function(L=!1){if(this.isEmpty())return;if(!r(this,C)){st(this,h,ni).call(this);return}const V=st(this,h,Pc).call(this),lt=st(this,h,Wr).call(this);yt(this,x,Math.max(R.AnnotationEditor.MIN_SIZE,V[2]-V[0])),yt(this,A,Math.max(R.AnnotationEditor.MIN_SIZE,V[3]-V[1]));const ft=Math.ceil(lt+r(this,x)*this.scaleFactor),Rt=Math.ceil(lt+r(this,A)*this.scaleFactor),[zt,Dt]=this.parentDimensions;this.width=ft/zt,this.height=Rt/Dt,this.setAspectRatio(ft,Rt);const ot=this.translationX,Gt=this.translationY;this.translationX=-V[0],this.translationY=-V[1],st(this,h,Ma).call(this),st(this,h,ni).call(this),yt(this,k,ft),yt(this,p,Rt),this.setDims(ft,Rt);const It=L?lt/this.scaleFactor/2:0;this.translate(ot-this.translationX-It,Gt-this.translationY-It)},gt(jt,B),De(jt,"_defaultColor",null),De(jt,"_defaultOpacity",1),De(jt,"_defaultThickness",1),De(jt,"_type","ink");let F=jt;m.InkEditor=F}),((J,m,at)=>{var F,A,x,H,G,O,T,N,C,d,E,xs,Ts,Qr,Uc,cp,up,Bc,Zr,hp;Object.defineProperty(m,"__esModule",{value:!0}),m.StampEditor=void 0;var l=at(1),R=at(4),rt=at(6),Q=at(29);const M=class M extends R.AnnotationEditor{constructor($){super({...$,name:"stampEditor"});gt(this,E);gt(this,F,null);gt(this,A,null);gt(this,x,null);gt(this,H,null);gt(this,G,null);gt(this,O,null);gt(this,T,null);gt(this,N,null);gt(this,C,!1);gt(this,d,!1);yt(this,H,$.bitmapUrl),yt(this,G,$.bitmapFile)}static initialize($){R.AnnotationEditor.initialize($)}static get supportedTypes(){const $=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,l.shadow)(this,"supportedTypes",$.map(w=>`image/${w}`))}static get supportedTypesStr(){return(0,l.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting($){return this.supportedTypes.includes($)}static paste($,w){w.pasteEditor(l.AnnotationEditorType.STAMP,{bitmapFile:$.getAsFile()})}remove(){var $,w;r(this,A)&&(yt(this,F,null),this._uiManager.imageManager.deleteId(r(this,A)),($=r(this,O))==null||$.remove(),yt(this,O,null),(w=r(this,T))==null||w.disconnect(),yt(this,T,null)),super.remove()}rebuild(){if(!this.parent){r(this,A)&&st(this,E,Qr).call(this);return}super.rebuild(),this.div!==null&&(r(this,A)&&st(this,E,Qr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(r(this,x)||r(this,F)||r(this,H)||r(this,G))}get isResizable(){return!0}render(){if(this.div)return this.div;let $,w;if(this.width&&($=this.x,w=this.y),super.render(),this.div.hidden=!0,r(this,F)?st(this,E,Uc).call(this):st(this,E,Qr).call(this),this.width){const[I,nt]=this.parentDimensions;this.setAt($*I,w*nt,this.width*I,this.height*nt)}return this.div}static deserialize($,w,I){if($ instanceof Q.StampAnnotationElement)return null;const nt=super.deserialize($,w,I),{rect:j,bitmapUrl:Z,bitmapId:S,isSvg:g,accessibilityData:o}=$;S&&I.imageManager.isValidId(S)?yt(nt,A,S):yt(nt,H,Z),yt(nt,C,g);const[c,_]=nt.pageDimensions;return nt.width=(j[2]-j[0])/c,nt.height=(j[3]-j[1])/_,o&&(nt.altTextData=o),nt}serialize($=!1,w=null){if(this.isEmpty())return null;const I={annotationType:l.AnnotationEditorType.STAMP,bitmapId:r(this,A),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:r(this,C),structTreeParentId:this._structTreeParentId};if($)return I.bitmapUrl=st(this,E,Zr).call(this,!0),I.accessibilityData=this.altTextData,I;const{decorative:nt,altText:j}=this.altTextData;if(!nt&&j&&(I.accessibilityData={type:"Figure",alt:j}),w===null)return I;w.stamps||(w.stamps=new Map);const Z=r(this,C)?(I.rect[2]-I.rect[0])*(I.rect[3]-I.rect[1]):null;if(!w.stamps.has(r(this,A)))w.stamps.set(r(this,A),{area:Z,serialized:I}),I.bitmap=st(this,E,Zr).call(this,!1);else if(r(this,C)){const S=w.stamps.get(r(this,A));Z>S.area&&(S.area=Z,S.serialized.bitmap.close(),S.serialized.bitmap=st(this,E,Zr).call(this,!1))}return I}};F=new WeakMap,A=new WeakMap,x=new WeakMap,H=new WeakMap,G=new WeakMap,O=new WeakMap,T=new WeakMap,N=new WeakMap,C=new WeakMap,d=new WeakMap,E=new WeakSet,xs=function($,w=!1){if(!$){this.remove();return}yt(this,F,$.bitmap),w||(yt(this,A,$.id),yt(this,C,$.isSvg)),st(this,E,Uc).call(this)},Ts=function(){yt(this,x,null),this._uiManager.enableWaiting(!1),r(this,O)&&this.div.focus()},Qr=function(){if(r(this,A)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(r(this,A)).then(w=>st(this,E,xs).call(this,w,!0)).finally(()=>st(this,E,Ts).call(this));return}if(r(this,H)){const w=r(this,H);yt(this,H,null),this._uiManager.enableWaiting(!0),yt(this,x,this._uiManager.imageManager.getFromUrl(w).then(I=>st(this,E,xs).call(this,I)).finally(()=>st(this,E,Ts).call(this)));return}if(r(this,G)){const w=r(this,G);yt(this,G,null),this._uiManager.enableWaiting(!0),yt(this,x,this._uiManager.imageManager.getFromFile(w).then(I=>st(this,E,xs).call(this,I)).finally(()=>st(this,E,Ts).call(this)));return}const $=document.createElement("input");$.type="file",$.accept=M.supportedTypesStr,yt(this,x,new Promise(w=>{$.addEventListener("change",async()=>{if(!$.files||$.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const I=await this._uiManager.imageManager.getFromFile($.files[0]);st(this,E,xs).call(this,I)}w()}),$.addEventListener("cancel",()=>{this.remove(),w()})}).finally(()=>st(this,E,Ts).call(this))),$.click()},Uc=function(){const{div:$}=this;let{width:w,height:I}=r(this,F);const[nt,j]=this.pageDimensions,Z=.75;if(this.width)w=this.width*nt,I=this.height*j;else if(w>Z*nt||I>Z*j){const c=Math.min(Z*nt/w,Z*j/I);w*=c,I*=c}const[S,g]=this.parentDimensions;this.setDims(w*S/nt,I*g/j),this._uiManager.enableWaiting(!1);const o=yt(this,O,document.createElement("canvas"));$.append(o),$.hidden=!1,st(this,E,Bc).call(this,w,I),st(this,E,hp).call(this),r(this,d)||(this.parent.addUndoableEditor(this),yt(this,d,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},cp=function($,w){var Z;const[I,nt]=this.parentDimensions;this.width=$/I,this.height=w/nt,this.setDims($,w),(Z=this._initialOptions)!=null&&Z.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,r(this,N)!==null&&clearTimeout(r(this,N)),yt(this,N,setTimeout(()=>{yt(this,N,null),st(this,E,Bc).call(this,$,w)},200))},up=function($,w){const{width:I,height:nt}=r(this,F);let j=I,Z=nt,S=r(this,F);for(;j>2*$||Z>2*w;){const g=j,o=Z;j>2*$&&(j=j>=16384?Math.floor(j/2)-1:Math.ceil(j/2)),Z>2*w&&(Z=Z>=16384?Math.floor(Z/2)-1:Math.ceil(Z/2));const c=new OffscreenCanvas(j,Z);c.getContext("2d").drawImage(S,0,0,g,o,0,0,j,Z),S=c.transferToImageBitmap()}return S},Bc=function($,w){$=Math.ceil($),w=Math.ceil(w);const I=r(this,O);if(!I||I.width===$&&I.height===w)return;I.width=$,I.height=w;const nt=r(this,C)?r(this,F):st(this,E,up).call(this,$,w),j=I.getContext("2d");j.filter=this._uiManager.hcmFilter,j.drawImage(nt,0,0,nt.width,nt.height,0,0,$,w)},Zr=function($){if($){if(r(this,C)){const nt=this._uiManager.imageManager.getSvgUrl(r(this,A));if(nt)return nt}const w=document.createElement("canvas");return{width:w.width,height:w.height}=r(this,F),w.getContext("2d").drawImage(r(this,F),0,0),w.toDataURL()}if(r(this,C)){const[w,I]=this.pageDimensions,nt=Math.round(this.width*w*rt.PixelsPerInch.PDF_TO_CSS_UNITS),j=Math.round(this.height*I*rt.PixelsPerInch.PDF_TO_CSS_UNITS),Z=new OffscreenCanvas(nt,j);return Z.getContext("2d").drawImage(r(this,F),0,0,r(this,F).width,r(this,F).height,0,0,nt,j),Z.transferToImageBitmap()}return structuredClone(r(this,F))},hp=function(){yt(this,T,new ResizeObserver($=>{const w=$[0].contentRect;w.width&&w.height&&st(this,E,cp).call(this,w.width,w.height)})),r(this,T).observe(this.div)},De(M,"_type","stamp");let _t=M;m.StampEditor=_t})],__webpack_module_cache__={};function __w_pdfjs_require__(J){var m=__webpack_module_cache__[J];if(m!==void 0)return m.exports;var at=__webpack_module_cache__[J]={exports:{}};return __webpack_modules__[J](at,at.exports,__w_pdfjs_require__),at.exports}var __webpack_exports__={};return(()=>{var J=__webpack_exports__;Object.defineProperty(J,"__esModule",{value:!0}),Object.defineProperty(J,"AbortException",{enumerable:!0,get:function(){return m.AbortException}}),Object.defineProperty(J,"AnnotationEditorLayer",{enumerable:!0,get:function(){return rt.AnnotationEditorLayer}}),Object.defineProperty(J,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return m.AnnotationEditorParamsType}}),Object.defineProperty(J,"AnnotationEditorType",{enumerable:!0,get:function(){return m.AnnotationEditorType}}),Object.defineProperty(J,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Q.AnnotationEditorUIManager}}),Object.defineProperty(J,"AnnotationLayer",{enumerable:!0,get:function(){return _t.AnnotationLayer}}),Object.defineProperty(J,"AnnotationMode",{enumerable:!0,get:function(){return m.AnnotationMode}}),Object.defineProperty(J,"CMapCompressionType",{enumerable:!0,get:function(){return m.CMapCompressionType}}),Object.defineProperty(J,"DOMSVGFactory",{enumerable:!0,get:function(){return l.DOMSVGFactory}}),Object.defineProperty(J,"FeatureTest",{enumerable:!0,get:function(){return m.FeatureTest}}),Object.defineProperty(J,"GlobalWorkerOptions",{enumerable:!0,get:function(){return F.GlobalWorkerOptions}}),Object.defineProperty(J,"ImageKind",{enumerable:!0,get:function(){return m.ImageKind}}),Object.defineProperty(J,"InvalidPDFException",{enumerable:!0,get:function(){return m.InvalidPDFException}}),Object.defineProperty(J,"MissingPDFException",{enumerable:!0,get:function(){return m.MissingPDFException}}),Object.defineProperty(J,"OPS",{enumerable:!0,get:function(){return m.OPS}}),Object.defineProperty(J,"PDFDataRangeTransport",{enumerable:!0,get:function(){return at.PDFDataRangeTransport}}),Object.defineProperty(J,"PDFDateString",{enumerable:!0,get:function(){return l.PDFDateString}}),Object.defineProperty(J,"PDFWorker",{enumerable:!0,get:function(){return at.PDFWorker}}),Object.defineProperty(J,"PasswordResponses",{enumerable:!0,get:function(){return m.PasswordResponses}}),Object.defineProperty(J,"PermissionFlag",{enumerable:!0,get:function(){return m.PermissionFlag}}),Object.defineProperty(J,"PixelsPerInch",{enumerable:!0,get:function(){return l.PixelsPerInch}}),Object.defineProperty(J,"PromiseCapability",{enumerable:!0,get:function(){return m.PromiseCapability}}),Object.defineProperty(J,"RenderingCancelledException",{enumerable:!0,get:function(){return l.RenderingCancelledException}}),Object.defineProperty(J,"SVGGraphics",{enumerable:!0,get:function(){return at.SVGGraphics}}),Object.defineProperty(J,"UnexpectedResponseException",{enumerable:!0,get:function(){return m.UnexpectedResponseException}}),Object.defineProperty(J,"Util",{enumerable:!0,get:function(){return m.Util}}),Object.defineProperty(J,"VerbosityLevel",{enumerable:!0,get:function(){return m.VerbosityLevel}}),Object.defineProperty(J,"XfaLayer",{enumerable:!0,get:function(){return A.XfaLayer}}),Object.defineProperty(J,"build",{enumerable:!0,get:function(){return at.build}}),Object.defineProperty(J,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return m.createValidAbsoluteUrl}}),Object.defineProperty(J,"getDocument",{enumerable:!0,get:function(){return at.getDocument}}),Object.defineProperty(J,"getFilenameFromUrl",{enumerable:!0,get:function(){return l.getFilenameFromUrl}}),Object.defineProperty(J,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return l.getPdfFilenameFromUrl}}),Object.defineProperty(J,"getXfaPageViewport",{enumerable:!0,get:function(){return l.getXfaPageViewport}}),Object.defineProperty(J,"isDataScheme",{enumerable:!0,get:function(){return l.isDataScheme}}),Object.defineProperty(J,"isPdfFile",{enumerable:!0,get:function(){return l.isPdfFile}}),Object.defineProperty(J,"loadScript",{enumerable:!0,get:function(){return l.loadScript}}),Object.defineProperty(J,"noContextMenu",{enumerable:!0,get:function(){return l.noContextMenu}}),Object.defineProperty(J,"normalizeUnicode",{enumerable:!0,get:function(){return m.normalizeUnicode}}),Object.defineProperty(J,"renderTextLayer",{enumerable:!0,get:function(){return R.renderTextLayer}}),Object.defineProperty(J,"setLayerDimensions",{enumerable:!0,get:function(){return l.setLayerDimensions}}),Object.defineProperty(J,"shadow",{enumerable:!0,get:function(){return m.shadow}}),Object.defineProperty(J,"updateTextLayer",{enumerable:!0,get:function(){return R.updateTextLayer}}),Object.defineProperty(J,"version",{enumerable:!0,get:function(){return at.version}});var m=__w_pdfjs_require__(1),at=__w_pdfjs_require__(2),l=__w_pdfjs_require__(6),R=__w_pdfjs_require__(26),rt=__w_pdfjs_require__(27),Q=__w_pdfjs_require__(5),_t=__w_pdfjs_require__(29),F=__w_pdfjs_require__(14),A=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf)),pdf.exports}var pdfExports=requirePdf();pdfExports.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";const processPdfFile=async J=>{try{const m=await J.arrayBuffer(),l=await pdfExports.getDocument({data:m}).promise,R=[],rt=["Htf","Kedd","Szerda","Cstrtk","Pntek"];for(let Q=1;Q<=l.numPages;Q++){const A=(await(await l.getPage(Q)).getTextContent()).items;let x="",H=-1,G=-1;const O=[];if(A.forEach(d=>{const E=d.str.trim();rt.includes(E)&&(d.transform[5]>G&&(G=d.transform[5]),O.push({name:E,x:d.transform[4]}))}),O.sort((d,E)=>d.x-E.x),O.length===0)continue;if(A.forEach(d=>{const E=d.transform[5],U=d.str.trim();E>G+20&&U&&U!=="KRTA"&&!U.includes("ht")&&!U.match(/^\d+$/)&&(!x||E>H)&&(x=U,H=E)}),!x){console.log(`Page ${Q}: No teacher name found, skipping.`);continue}const T=[];A.forEach(d=>{const U=d.str.trim().match(/^(\d+)\.?$/);if(U){const k=parseInt(U[1]);d.transform[4]<100&&k>=1&&k<=8&&T.push({period:k,y:d.transform[5]})}}),T.sort((d,E)=>d.period-E.period);const N={Htf:[],Kedd:[],Szerda:[],Cstrtk:[],Pntek:[]};let C=100;O.length>1&&(C=O[1].x-O[0].x),rt.forEach((d,E)=>{const U=O.find(b=>b.name===d);if(!U)return;const k=U.x-10,p=E<O.length-1?O[E+1].x-10:U.x+C;for(let b=1;b<=8;b++){const h=T.find(M=>M.period===b);if(!h){N[d].push(b);continue}let y=h.y+10,v=h.y-20;const K=T.find(M=>M.period===b+1);if(K)v=K.y+10;else{const M=T.find(Y=>Y.period===b-1);if(M){const Y=M.y-h.y;v=h.y-Y+10}}let f=!1;for(const M of A){const Y=M.transform[4],ht=M.transform[5];if(M.str.trim()&&Y>=k&&Y<=p&&ht>=v&&ht<=y&&Y>100){f=!0;break}}f||N[d].push(b)}}),R.push({name:x,freePeriods:N}),console.log(`Processed ${x}:`,N)}return R}catch(m){throw console.error("Rszletes PDF hiba:",m),new Error(`PDF feldolgozsi hiba: ${m.message||m}`)}},Header=()=>jsxRuntimeExports.jsxs("header",{className:"text-center py-6 bg-white rounded-xl shadow-lg border border-gray-200",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-800 tracking-tight",children:"Krta Helyettests sszest"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-md text-gray-500",children:"Automatizlt kimutats a helyettestsek szmrl, havi bontsban"})]}),UploadIcon=()=>jsxRuntimeExports.jsxs("svg",{className:"w-10 h-10 mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-4-4V6a4 4 0 014-4h10a4 4 0 014 4v6a4 4 0 01-4 4H7z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 16v-4m0 0l-2 2m2-2l2 2m-2-2v-4"})]}),FileUpload=({onFileChange:J,onProcess:m,isLoading:at,selectedFile:l})=>{const R=reactExports.useRef(null),rt=F=>{const A=F.target.files?F.target.files[0]:null;J(A)},Q=F=>{F.preventDefault()},_t=F=>{F.preventDefault();const A=F.dataTransfer.files?F.dataTransfer.files[0]:null;J(A)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[jsxRuntimeExports.jsxs("label",{onDragOver:Q,onDrop:_t,className:"flex flex-col items-center justify-center w-full h-48 px-4 transition bg-white border-2 border-gray-300 border-dashed rounded-md appearance-none cursor-pointer hover:border-blue-500 focus:outline-none",children:[jsxRuntimeExports.jsx(UploadIcon,{}),jsxRuntimeExports.jsx("span",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsxs("span",{className:"font-medium text-gray-600",children:["Hzza ide a fjlt, vagy ",jsxRuntimeExports.jsx("span",{className:"text-blue-600 underline",children:"kattintson a tallzshoz"})]})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tmogatott formtum: .xlsx, .xls"}),jsxRuntimeExports.jsx("input",{ref:R,type:"file",accept:".xlsx, .xls",onChange:rt,className:"hidden"})]}),l&&jsxRuntimeExports.jsxs("div",{className:"text-center text-sm text-gray-700",children:["Kivlasztott fjl: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:l.name})]}),jsxRuntimeExports.jsx("button",{onClick:m,disabled:!l||at,className:"w-full sm:w-auto flex items-center justify-center px-8 py-3 text-base font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:at?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Feldolgozs..."]}):"Fjl feldolgozsa"})]})},PdfUpload=({onFileChange:J,onProcess:m,isLoading:at,selectedFile:l})=>{const R=reactExports.useRef(null),rt=F=>{F.target.files&&F.target.files.length>0?J(F.target.files[0]):J(null)},Q=F=>{F.preventDefault()},_t=F=>{if(F.preventDefault(),F.dataTransfer.files&&F.dataTransfer.files.length>0){const A=F.dataTransfer.files[0];A.type==="application/pdf"?J(A):alert("Csak PDF fjl tlthet fel!")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:bg-gray-50 transition-colors cursor-pointer",onDragOver:Q,onDrop:_t,onClick:()=>{var F;return(F=R.current)==null?void 0:F.click()},children:[jsxRuntimeExports.jsx("input",{type:"file",ref:R,onChange:rt,accept:".pdf",className:"hidden"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 font-medium",children:l?l.name:"Hzd ide a PDF fjlt, vagy kattints a tallzshoz"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:"Csak .pdf fjlok tmogatottak"})]})]}),jsxRuntimeExports.jsx("button",{onClick:m,disabled:!l||at,className:`w-full py-3 px-4 rounded-md text-white font-semibold shadow-md transition-all duration-200 flex items-center justify-center
          ${!l||at?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 hover:shadow-lg transform hover:-translate-y-0.5"}`,children:at?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Feldolgozs..."]}):"rarend Feldolgozsa"})]})},SortIcon=({direction:J})=>J?J==="ascending"?jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-blue-600 ml-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}):jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-blue-600 ml-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}):jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-gray-400 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})}),formatMonthHeader$1=J=>{try{const[m,at]=J.split("-");return new Date(parseInt(m,10),parseInt(at,10)-1).toLocaleString("hu-HU",{year:"numeric",month:"long"})}catch{return J}},ResultsTable=({data:J,requestSort:m,sortConfig:at,months:l})=>{const R=Q=>{if(at.key===Q)return at.direction},rt=[{key:"name",label:"Pedaggus neve"},{key:"count",label:"sszesen"}];return jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white divide-y divide-gray-200 rounded-lg shadow border border-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Helyezs"}),rt.map(({key:Q,label:_t})=>jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>m(Q),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[_t,jsxRuntimeExports.jsx(SortIcon,{direction:R(Q)})]})},Q)),l.map(Q=>jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:formatMonthHeader$1(Q)},Q))]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:J.map((Q,_t)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-500",children:[_t+1,"."]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:Q.name}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-600 font-bold",children:Q.count}),l.map(F=>jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-center",children:Q.monthlyCounts[F]||0},F))]},Q.name))})]})})},InstructionCard=()=>jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 text-blue-800 p-6 rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold mb-3",children:"tmutat a fjlformtumhoz"}),jsxRuntimeExports.jsx("p",{className:"mb-4",children:"Az alkalmazs a Krta rendszerbl exportlt helyettestsi napl feldolgozsra kszlt. Krjk, gyzdjn meg rla, hogy az Excel fjl a kvetkez oszlopokat tartalmazza a megfelel helyen (az adatoknak a 2. sortl kell kezddnik):"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside space-y-2 font-mono text-sm bg-white p-4 rounded border border-blue-200",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-blue-900",children:"A oszlop:"})," Dtum"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-blue-900",children:"B oszlop:"})," ra"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-blue-900",children:"G oszlop:"})," Helyettest tanr neve"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-blue-900",children:"H oszlop:"})," Osztly / Csoport"]})]}),jsxRuntimeExports.jsxs("p",{className:"mt-4 text-sm",children:[jsxRuntimeExports.jsx("strong",{children:"Fontos:"})," Az alkalmazs automatikusan kezeli a prhuzamos rkat. Ha egy tanr ugyanabban az idpontban tbb csoportot helyettest, az egyetlen helyettestsnek szmt. Az eredmnyek havi bontsban is megtekinthetk."]})]}),FilterControls=({nameFilter:J,onNameFilterChange:m,countFilter:at,onCountFilterChange:l,disabled:R})=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name-filter",className:"block text-sm font-medium text-gray-700",children:"Szrs nvre"}),jsxRuntimeExports.jsx("div",{className:"mt-1",children:jsxRuntimeExports.jsx("input",{type:"text",id:"name-filter",value:J,onChange:rt=>m(rt.target.value),placeholder:"Keress a nevek kztt...",disabled:R,className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md disabled:bg-gray-200"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"count-filter",className:"block text-sm font-medium text-gray-700",children:"Helyettestsek szma (minimum)"}),jsxRuntimeExports.jsx("div",{className:"mt-1",children:jsxRuntimeExports.jsx("input",{type:"number",id:"count-filter",value:at,onChange:rt=>l(rt.target.value),min:"0",placeholder:"Pl. 5",disabled:R,className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md disabled:bg-gray-200"})})]})]}),formatMonthHeader=J=>{try{const[m,at]=J.split("-");return new Date(parseInt(m,10),parseInt(at,10)-1).toLocaleString("hu-HU",{year:"numeric",month:"long"})}catch{return J}},exportToExcel=(J,m)=>{const at=new Set;J.forEach(F=>{Object.keys(F.monthlyCounts).forEach(A=>{at.add(A)})});const l=Array.from(at).sort((F,A)=>F.localeCompare(A)),R=J.map((F,A)=>{const x={Helyezs:A+1,"Pedaggus neve":F.name,sszesen:F.count};return l.forEach(H=>{const G=formatMonthHeader(H);x[G]=F.monthlyCounts[H]||0}),x}),rt=XLSX.utils.json_to_sheet(R),Q=XLSX.utils.book_new();XLSX.utils.book_append_sheet(Q,rt,"Havi Kimutats");const _t=[{wch:10},{wch:40},{wch:12}];l.forEach(F=>{_t.push({wch:formatMonthHeader(F).length+4})}),rt["!cols"]=_t,XLSX.writeFile(Q,m)},ExportIcon=()=>jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),PrintIcon=()=>jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm2-9V5a2 2 0 00-2-2H9a2 2 0 00-2 2v3m10 0V5a2 2 0 00-2-2h-2"})}),ActionButtons=({data:J,disabled:m})=>{const at=()=>{const R=new Date().toISOString().slice(0,10);exportToExcel(J,`helyettesites_kimutatas_${R}.xlsx`)},l=()=>{window.print()};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4",children:[jsxRuntimeExports.jsxs("button",{onClick:at,disabled:m,className:"flex-1 inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[jsxRuntimeExports.jsx(ExportIcon,{}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:"Ments Excelbe"})]}),jsxRuntimeExports.jsxs("button",{onClick:l,disabled:m,className:"flex-1 inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:bg-gray-200 disabled:text-gray-400 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[jsxRuntimeExports.jsx(PrintIcon,{}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:"Nyomtats"})]})]})},FreeTeacherSearch=({schedules:J,substitutionData:m})=>{const[at,l]=reactExports.useState("Htf"),[R,rt]=reactExports.useState(1),[Q,_t]=reactExports.useState([]),[F,A]=reactExports.useState(!1),x=["Htf","Kedd","Szerda","Cstrtk","Pntek"],H=[1,2,3,4,5,6,7,8,9,10];reactExports.useEffect(()=>{if(J.length>0){const d=J.map(E=>E.name);try{const E=JSON.parse(localStorage.getItem("khlista_excluded_teachers")||"[]"),U=d.filter(k=>!E.includes(k));_t(U)}catch(E){console.error("Hiba a mentett belltsok betltsekor:",E),_t(d)}}},[J]),reactExports.useEffect(()=>{if(J.length>0&&Q.length>=0){const E=J.map(U=>U.name).filter(U=>!Q.includes(U));localStorage.setItem("khlista_excluded_teachers",JSON.stringify(E))}},[Q,J]);const G=d=>{_t(E=>E.includes(d)?E.filter(U=>U!==d):[...E,d])},O=reactExports.useMemo(()=>{const d=new Date,E=d.getFullYear(),U=(d.getMonth()+1).toString().padStart(2,"0");return`${E}-${U}`},[]),T=reactExports.useMemo(()=>new Date().toLocaleString("hu-HU",{year:"numeric",month:"long"}),[]),N=reactExports.useMemo(()=>!J||J.length===0?[]:J.filter(d=>Q.includes(d.name)).filter(d=>{const E=d.freePeriods[at];return E?E.includes(R):!1}).map(d=>{const E=m.find(k=>k.name.toLowerCase()===d.name.toLowerCase());let U=0;return E&&(U=E.monthlyCounts[O]||0),{...d,subCount:U}}).sort((d,E)=>d.name.localeCompare(E.name)),[J,at,R,Q,m,O]),C=reactExports.useMemo(()=>J.map(d=>d.name).sort(),[J]);return jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200 mt-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Lyukasra Keres"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>A(!F),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Jelenlt kezelse (",Q.length,"/",C.length,")"]}),F&&jsxRuntimeExports.jsx("div",{className:"absolute right-0 z-10 mt-2 w-72 bg-white border border-gray-200 rounded-md shadow-lg max-h-96 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Tanrok jelenlte"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>_t(C),className:"text-xs text-blue-600 hover:text-blue-800",children:"Mind kijell"}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:"|"}),jsxRuntimeExports.jsx("button",{onClick:()=>_t([]),className:"text-xs text-red-600 hover:text-red-800",children:"Mind trl"})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:C.map(d=>jsxRuntimeExports.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Q.includes(d),onChange:()=>G(d),className:"rounded text-blue-600 focus:ring-blue-500 h-4 w-4 border-gray-300"}),jsxRuntimeExports.jsx("span",{className:`text-sm ${Q.includes(d)?"text-gray-900":"text-gray-400 line-through"}`,children:d})]},d))})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"day-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nap"}),jsxRuntimeExports.jsx("select",{id:"day-select",value:at,onChange:d=>l(d.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border",children:x.map(d=>jsxRuntimeExports.jsx("option",{value:d,children:d},d))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"period-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"ra"}),jsxRuntimeExports.jsx("select",{id:"period-select",value:R,onChange:d=>rt(Number(d.target.value)),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 border",children:H.map(d=>jsxRuntimeExports.jsxs("option",{value:d,children:[d,". ra"]},d))})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:["Szabad tanrok (",N.length," f)"]}),N.length>0?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:N.map((d,E)=>jsxRuntimeExports.jsx("div",{className:"flex items-center p-3 bg-green-50 rounded-lg border border-green-100 justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-green-200 flex items-center justify-center text-green-700 font-bold text-sm mr-3",children:d.name.charAt(0)}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-800 font-medium",children:d.name}),m.length>0&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:[T,": ",jsxRuntimeExports.jsx("strong",{children:d.subCount})," helyettests"]})]})]})},E))}):jsxRuntimeExports.jsx("p",{className:"text-gray-500 italic",children:"Nincs tallat a megadott idpontra (vagy mindenki hinyzik)."})]}),m.length===0&&jsxRuntimeExports.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md text-sm text-yellow-800 flex items-start",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("span",{children:'Tipp: Tlts fel egy Excel fjlt a "Helyettestsek" fln, hogy lsd a tanrok havi helyettestsi statisztikit is!'})]})]})},TableIcon=()=>jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M3 14h18M3 6h18M3 18h18"})}),App=()=>{const[J,m]=reactExports.useState("substitution"),[at,l]=reactExports.useState(null),[R,rt]=reactExports.useState([]),[Q,_t]=reactExports.useState(!1),[F,A]=reactExports.useState(null),[x,H]=reactExports.useState(""),[G,O]=reactExports.useState(""),[T,N]=reactExports.useState({key:"count",direction:"descending"}),[C,d]=reactExports.useState(null),[E,U]=reactExports.useState([]),[k,p]=reactExports.useState(!1),[b,h]=reactExports.useState(null);reactExports.useEffect(()=>{try{const w=localStorage.getItem("khlista_schedules");w&&U(JSON.parse(w))}catch(w){console.error("Failed to load schedules from local storage",w)}},[]);const y=w=>{l(w),rt([]),A(null),H(""),O(""),N({key:"count",direction:"descending"})},v=w=>{d(w),h(null)},K=reactExports.useCallback(async()=>{if(!at){A("Krlek, vlassz egy fjlt a feldolgozshoz.");return}_t(!0),A(null),rt([]);try{const w=await processExcelFile(at);rt(w),w.length===0&&A("Nem tallhat feldolgozhat adat a fjlban. Ellenrizd a formtumot.")}catch(w){console.error(w),A("Hiba trtnt a fjl feldolgozsa kzben. Ellenrizd, hogy a fjl formtuma megfelel-e.")}finally{_t(!1)}},[at]),f=reactExports.useCallback(async()=>{if(!C){h("Krlek, vlassz egy PDF fjlt a feldolgozshoz.");return}p(!0),h(null);try{const w=await processPdfFile(C);U(w);try{localStorage.setItem("khlista_schedules",JSON.stringify(w))}catch(I){console.error("Failed to save schedules to local storage",I),h("Sikerlt feldolgozni, de a ments nem sikerlt (pl. megtelt a trhely).")}w.length===0&&h("Nem sikerlt adatokat kinyerni a PDF-bl. Ellenrizd, hogy szveges PDF-rl van-e sz.")}catch(w){console.error(w),h("Hiba trtnt a PDF feldolgozsa kzben. Gyzdj meg rla, hogy nem srlt a fjl.")}finally{p(!1)}},[C]),M=w=>{let I="ascending";T.key===w&&T.direction==="ascending"&&(I="descending"),N({key:w,direction:I})},Y=reactExports.useMemo(()=>{const w=new Set;return R.forEach(I=>{Object.keys(I.monthlyCounts).forEach(nt=>{w.add(nt)})}),Array.from(w).sort((I,nt)=>I.localeCompare(nt))},[R]),ht=reactExports.useMemo(()=>{let w=[...R];x&&(w=w.filter(nt=>nt.name.toLowerCase().includes(x.toLowerCase())));const I=typeof G=="string"?parseInt(G,10):G;return!isNaN(I)&&I>0&&(w=w.filter(nt=>nt.count>=I)),w.sort((nt,j)=>{const Z=nt[T.key],S=j[T.key];return Z<S?T.direction==="ascending"?-1:1:Z>S?T.direction==="ascending"?1:-1:T.key!=="name"?nt.name.localeCompare(j.name):0}),w},[R,x,G,T]),$=R.length>0;return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center p-4 sm:p-6 lg:p-8 font-sans",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mt-6 mb-8",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-1 rounded-lg shadow-sm border border-gray-200 inline-flex",children:[jsxRuntimeExports.jsx("button",{onClick:()=>m("substitution"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all duration-200 ${J==="substitution"?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:"Helyettestsek"}),jsxRuntimeExports.jsx("button",{onClick:()=>m("schedule"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all duration-200 ${J==="schedule"?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:"Lyukasra Keres"})]})}),jsxRuntimeExports.jsx("main",{className:"space-y-8",children:J==="substitution"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InstructionCard,{}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"1. Fjl feltltse"}),jsxRuntimeExports.jsx(FileUpload,{onFileChange:y,onProcess:K,isLoading:Q,selectedFile:at})]}),F&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md shadow",role:"alert",children:[jsxRuntimeExports.jsx("p",{className:"font-bold",children:"Hiba"}),jsxRuntimeExports.jsx("p",{children:F})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(TableIcon,{}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800 ml-3",children:"2. Eredmnyek"})]}),$&&jsxRuntimeExports.jsxs("div",{className:"space-y-4 mb-6 no-print",children:[jsxRuntimeExports.jsx(FilterControls,{nameFilter:x,onNameFilterChange:H,countFilter:G,onCountFilterChange:O,disabled:!$}),jsxRuntimeExports.jsx(ActionButtons,{data:ht,disabled:ht.length===0})]}),jsxRuntimeExports.jsx("div",{className:"printable-area",children:ht.length>0?jsxRuntimeExports.jsx(ResultsTable,{data:ht,requestSort:M,sortConfig:T,months:Y}):jsxRuntimeExports.jsx("div",{className:"text-center py-10 px-6 bg-gray-50 rounded-lg",children:jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:$?"A szrsi feltteleknek egyetlen eredmny sem felel meg.":"Mg nincsenek eredmnyek. Tltsn fel s dolgozzon fel egy Excel fjlt a kimutats megtekintshez."})})})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"1. rarend PDF feltltse"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Tltsd fel a Krta rendszerbl exportlt, tanrok rarendjt tartalmaz PDF fjlt."}),jsxRuntimeExports.jsx(PdfUpload,{onFileChange:v,onProcess:f,isLoading:k,selectedFile:C})]}),b&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md shadow",role:"alert",children:[jsxRuntimeExports.jsx("p",{className:"font-bold",children:"Hiba"}),jsxRuntimeExports.jsx("p",{children:b})]}),E.length>0&&jsxRuntimeExports.jsx(FreeTeacherSearch,{schedules:E,substitutionData:R})]})}),jsxRuntimeExports.jsx("footer",{className:"text-center mt-12 text-gray-500 text-sm no-print",children:jsxRuntimeExports.jsxs("p",{children:[" ",new Date().getFullYear()," Helyettests sszest. Minden jog fenntartva."]})})]})})},rootElement=document.getElementById("root");if(!rootElement)throw new Error("Could not find root element to mount to");const root=ReactDOM.createRoot(rootElement);root.render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
